<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lumpsum Calculator - CFS</title>
    <link
      rel="shortcut icon"
      href="../assets/favicon.png"
      type="image/x-icon"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Add html2canvas library for screenshots -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Poppins", sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }
      /* Custom Slider Styles */
      .custom-slider {
        -webkit-appearance: none;
        appearance: none;
        height: 6px;
        border-radius: 3px;
        background: #e5e7eb; /* Light grey track - NOT FILLED */
        outline: none;
        transition: all 0.3s ease;
      }
      .custom-slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: #fcaf1b; /* Primary color for thumb */
        cursor: grab;
        border: none;
        box-shadow: 0 2px 6px rgba(252, 175, 27, 0.4); /* Shadow matching primary */
        transition: all 0.2s ease;
      }
      .custom-slider::-webkit-slider-thumb:active {
        cursor: grabbing;
      }
      .custom-slider::-moz-range-thumb {
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: #fcaf1b; /* Primary color for thumb */
        cursor: grab;
        border: none;
        box-shadow: 0 2px 6px rgba(252, 175, 27, 0.4); /* Shadow matching primary */
        transition: all 0.2s ease;
      }
      /* Toggle Switch */
      .toggle-switch {
        position: relative;
        display: inline-block;
        width: 48px;
        height: 28px;
      }
      .toggle-switch input {
        opacity: 0;
        width: 0;
        height: 0;
      }
      .toggle-slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #e5e7eb;
        transition: all 0.3s ease;
        border-radius: 28px;
      }
      .toggle-slider:before {
        position: absolute;
        content: "";
        height: 20px;
        width: 20px;
        left: 4px;
        bottom: 4px;
        background-color: white;
        transition: all 0.3s ease;
        border-radius: 50%;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
      }
      input:checked + .toggle-slider {
        background-color: #161f48; /* Secondary color for active toggle */
      }
      input:checked + .toggle-slider:before {
        transform: translateX(20px);
      }
      /* Input field styling */
      .input-value-box {
        background-color: #f3f4f6; /* Light grey background */
        border-radius: 8px;
        padding: 8px 12px;
        font-weight: 600;
        color: #1f2937;
        display: flex;
        align-items: center;
        gap: 4px;
        transition: all 0.2s ease;
      }
      .input-value-box:focus-within {
        box-shadow: 0 0 0 2px rgba(22, 31, 72, 0.2); /* Shadow matching secondary */
      }
      .input-value-box input {
        background: none;
        border: none;
        outline: none;
        width: 100%;
        font-weight: 600;
        color: #1f2937;
        text-align: right; /* Align text to right */
        padding: 0; /* Remove default padding */
      }
      /* Result item styling */
      .result-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 12px 0;
        border-bottom: 1px solid #f3f4f6;
      }
      .result-item:last-child {
        border-bottom: none;
      }
      .result-item .label {
        font-weight: 500;
        color: #4b5563;
      }
      .result-item .value {
        font-weight: 600;
        color: #1f2937;
      }
      /* Chart legend dots */
      .chart-legend-dot {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        display: inline-block;
        margin-right: 8px;
      }
    </style>
  </head>
  <body
    class="bg-gray-100 flex flex-col items-center justify-center min-h-screen"
  >
    <section
      class="max-w-6xl w-full flex justify-center items-center text-center flex-col p-4 mt-16"
    >
      <div
        class="max-w-6xl w-full flex justify-center items-center text-center flex-col"
      >
        <div class="text-center mb-8 mt-8">
          <h1 class="text-2xl lg:text-4xl font-semibold text-black mb-3">
            Lumpsum Investment
            <span class="text-[#fcaf1b]">Calculator</span>
          </h1>
          <p class="text-gray-500 text-base lg:text-lg">
            Estimate your returns instantly. Save or share your results with
            ease.
          </p>
        </div>
        <div
          id="calculatorContainer"
          class="max-w-6xl w-full bg-white p-4 rounded-3xl border border-gray-300 overflow-hidden"
        >
          <!-- Mode Toggle (Lumpsum vs Target) - Lumpsum is now default active -->
          <div class="flex justify-center p-2 mt-1 border-b border-gray-100">
            <div class="inline-flex bg-gray-100 rounded-lg p-1">
              <button
                id="lumpsumModeBtn"
                class="px-5 py-2 text-base font-medium rounded-md transition-colors duration-200 bg-white text-gray-800 shadow-base cursor-pointer"
              >
                Lumpsum Investment
              </button>
              <button
                id="targetModeBtn"
                class="px-5 py-2 text-base font-medium rounded-md transition-colors duration-200 text-gray-600 hover:bg-gray-200 cursor-pointer"
              >
                Target Amount
              </button>
            </div>
          </div>
          <div class="grid lg:grid-cols-2 gap-8 p-8">
            <!-- Left Side - Input Controls -->
            <div class="space-y-8">
              <!-- Lumpsum Investment / Target Amount -->
              <div>
                <div class="flex items-center justify-between mb-3">
                  <label
                    id="amountLabel"
                    class="text-lg font-medium text-gray-700"
                    >Lumpsum Investment</label
                  >
                  <div class="input-value-box w-40">
                    <span class="text-gray-500">₹</span>
                    <input
                      type="text"
                      id="amountInput"
                      value="10,00,000"
                      min="10000"
                      max="100000000"
                      step="1000"
                    />
                  </div>
                </div>
                <input
                  type="range"
                  id="amountSlider"
                  min="10000"
                  max="100000000"
                  value="1000000"
                  step="1000"
                  class="custom-slider w-full mt-4"
                />
                <div class="flex justify-between text-xs text-gray-500 mt-2">
                  <span>₹10K</span>
                  <span>₹10Cr</span>
                </div>
              </div>
              <!-- Expected Return Rate -->
              <div>
                <div class="flex items-center justify-between mb-3">
                  <label class="text-lg font-medium text-gray-700 text-start"
                    >Expected return rate (p.a)</label
                  >
                  <div class="input-value-box w-32">
                    <input
                      type="number"
                      id="returnInput"
                      value="12"
                      min="1"
                      max="30"
                      step="0.1"
                    />
                    <span class="text-gray-500">%</span>
                  </div>
                </div>
                <input
                  type="range"
                  id="returnSlider"
                  min="1"
                  max="30"
                  value="12"
                  step="0.1"
                  class="custom-slider w-full mt-4"
                />
                <div class="flex justify-between text-xs text-gray-500 mt-2">
                  <span>1%</span>
                  <span>30%</span>
                </div>
              </div>
              <!-- Time Period -->
              <div>
                <div class="flex items-center justify-between mb-3">
                  <label class="text-lg font-medium text-gray-700"
                    >Time period</label
                  >
                  <div class="input-value-box w-32">
                    <input
                      type="number"
                      id="timeInput"
                      value="10"
                      min="1"
                      max="50"
                      step="1"
                    />
                    <span class="text-gray-500">Y</span>
                  </div>
                </div>
                <input
                  type="range"
                  id="timeSlider"
                  min="1"
                  max="50"
                  value="10"
                  step="1"
                  class="custom-slider w-full mt-4"
                />
                <div class="flex justify-between text-xs text-gray-500 mt-2">
                  <span>1Y</span>
                  <span>50Y</span>
                </div>
              </div>
              <!-- Adjust for Inflation Toggle (Only visible in Target Mode) -->
              <div id="inflationToggleSection" class="hidden">
                <div class="flex items-center justify-between mb-3">
                  <label class="text-lg font-medium text-gray-700"
                    >Adjust for inflation</label
                  >
                  <label class="toggle-switch">
                    <input type="checkbox" id="inflationToggle" />
                    <span class="toggle-slider"></span>
                  </label>
                </div>
              </div>
              <!-- Expected Inflation (Visible when toggle is on and in Target Mode) -->
              <div
                id="inflationControls"
                class="hidden opacity-50 pointer-events-none transition-all duration-300"
              >
                <div class="flex items-center justify-between mb-3">
                  <label class="text-lg font-medium text-gray-700"
                    >Expected Inflation (p.a)</label
                  >
                  <div class="input-value-box w-32">
                    <input
                      type="number"
                      id="inflationInput"
                      value="5"
                      min="0"
                      max="15"
                      step="0.1"
                    />
                    <span class="text-gray-500">%</span>
                  </div>
                </div>
                <input
                  type="range"
                  id="inflationSlider"
                  min="0"
                  max="15"
                  value="5"
                  step="0.1"
                  class="custom-slider w-full mt-4"
                />
                <div class="flex justify-between text-xs text-gray-500 mt-2">
                  <span>0%</span>
                  <span>15%</span>
                </div>
              </div>
              <!-- Trigger Text -->
              <h1
                id="openDisclaimer"
                class="text-sm text-blue-600 hover:underline hover:cursor-pointer text-start"
              >
                View Disclaimer
              </h1>

              <!-- Modal -->
              <div
                id="disclaimerModal"
                class="fixed inset-0 p-4 bg-black bg-opacity-50 flex items-center justify-center hidden z-50 transition-opacity duration-300"
              >
                <div
                  class="bg-white rounded-2xl shadow-lg max-w-4xl w-full p-8 relative transform transition-transform duration-300 scale-95"
                  id="modalContent"
                >
                  <!-- Close Button -->
                  <button
                    id="closeDisclaimer"
                    class="absolute top-3 right-3 flex items-center justify-center w-8 h-8 bg-gray-200 rounded-full hover:bg-gray-300 transition-colors duration-200 group"
                  >
                    <i
                      data-lucide="x"
                      class="text-gray-600 w-4 h-4 group-hover:rotate-90 transition-transform duration-300"
                    ></i>
                  </button>

                  <!-- Title -->
                  <h2 class="text-lg font-semibold mb-4 text-blue-700">
                    Disclaimer ⚠️
                  </h2>

                  <!-- Content -->
                  <p class="text-sm text-gray-700 leading-relaxed text-start">
                    These Calculators alone are not sufficient and shouldn't be
                    used for development or implementation of an investment
                    strategy. The examples do not purport to represent the
                    performance of any security or investments. The recipient is
                    advised to consult his or her advisor/tax consultant prior
                    to arriving at any investment decision. Mutual Funds do not
                    have a fixed rate of return and it is not possible to
                    predict the rate of return. Past performance may or may not
                    be sustained in future and is not a guarantee of any future
                    returns. Mutual Fund Investments are subject to market
                    risks, read all scheme related documents carefully.
                  </p>
                </div>
              </div>

              <script>
                const openBtn = document.getElementById("openDisclaimer");
                const closeBtn = document.getElementById("closeDisclaimer");
                const modal = document.getElementById("disclaimerModal");
                const modalContent = document.getElementById("modalContent");

                openBtn.addEventListener("click", () => {
                  modal.classList.remove("hidden");
                  setTimeout(() => {
                    modal.classList.add("opacity-100");
                    modalContent.classList.remove("scale-95");
                    modalContent.classList.add("scale-100");
                  }, 10);
                });

                const closeModal = () => {
                  modalContent.classList.remove("scale-100");
                  modalContent.classList.add("scale-95");
                  modal.classList.remove("opacity-100");
                  setTimeout(() => {
                    modal.classList.add("hidden");
                  }, 300);
                };

                closeBtn.addEventListener("click", closeModal);

                modal.addEventListener("click", (e) => {
                  if (e.target === modal) closeModal();
                });
              </script>

              <!-- Lucide Icons -->
              <script src="https://unpkg.com/lucide@latest"></script>
              <script>
                lucide.createIcons();
              </script>
            </div>
            <!-- Right Side - Results and Chart -->
            <div class="space-y-8">
              <!-- Chart -->
              <div class="flex justify-center items-center h-64">
                <div class="relative w-64 h-64">
                  <canvas id="lumpsumChart"></canvas>
                  <div
                    class="absolute inset-0 flex items-center justify-center"
                  >
                    <div class="text-center">
                      <div class="text-sm text-gray-500">Total Value</div>
                      <div
                        id="totalValueCenter"
                        class="text-xl font-semibold text-gray-800"
                      >
                        ₹31.04 L
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- Chart Legend -->
              <div class="flex justify-center space-x-6 text-sm text-gray-600">
                <div>
                  <span class="chart-legend-dot bg-gray-300"></span>
                  <span id="legendLabel1">Invested amount</span>
                </div>
                <div>
                  <span
                    class="chart-legend-dot"
                    style="background-color: #161f48"
                  ></span>
                  <span id="legendLabel2">Est. returns</span>
                </div>
              </div>
              <!-- Results -->
              <div class="space-y-2">
                <!-- Target amount (inflation adjusted) (for target mode) - MOVED TO TOP -->
                <div
                  id="inflationAdjustedTargetItem"
                  class="hidden result-item"
                >
                  <span class="label" style="color: #161f48"
                    >Target amount (inflation adjusted)</span
                  >
                  <span
                    id="inflationAdjustedTargetValue"
                    class="value"
                    style="color: #161f48; font-size: 1.25rem"
                    >₹0.00 L</span
                  >
                </div>

                <!-- Est. Lump sum amount invested (for target mode) -->
                <div id="requiredLumpsumItem" class="hidden result-item">
                  <span class="label" style="color: #161f48"
                    >Est. Lump sum amount invested</span
                  >
                  <span
                    id="requiredLumpsum"
                    class="value"
                    style="color: #161f48; font-size: 1rem"
                    >₹0.00 L</span
                  >
                </div>

                <!-- Original Invested amount (label changes based on mode) -->
                <div class="result-item" id="investedAmountItem">
                  <span class="label" id="totalInvestmentLabel"
                    >Invested amount</span
                  >
                  <span id="totalInvestment" class="value">₹10.00 L</span>
                </div>

                <!-- Original Est. returns (label changes based on mode) -->
                <div class="result-item" id="expectedGrowthItem">
                  <span class="label" id="expectedGrowthLabel"
                    >Est. returns</span
                  >
                  <span id="expectedGrowth" class="value">₹21.04 L</span>
                </div>

                <!-- Original Total value -->
                <div class="result-item" id="totalValueItem">
                  <span class="label">Total value</span>
                  <span id="totalValue" class="value text-lg font-bold"
                    >₹31.04 L</span
                  >
                </div>

                <!-- Growth Percentage (hidden in target mode) -->
                <div id="growthPercentageItem" class="result-item">
                  <span class="label">Growth Percentage</span>
                  <span
                    id="growthPercentage"
                    class="value text-lg font-bold bg-[#161f48]/10 rounded-full px-4 py-1"
                    >210.4%</span
                  >
                </div>
              </div>
            </div>
          </div>
          <!-- Action Buttons -->
          <div class="p-8 border-t border-gray-200">
            <div class="flex flex-wrap gap-4 justify-center">
              <button
                id="emailPlanBtn"
                class="flex items-center gap-2 text-sm lg:text-base px-4 lg:px-6 py-2 lg:py-3 rounded-full text-black border border-gray-300 hover:bg-gray-100 transition-colors cursor-pointer"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  x="0px"
                  y="0px"
                  width="24"
                  height="24"
                  viewBox="0 0 48 48"
                >
                  <path
                    fill="#4caf50"
                    d="M45,16.2l-5,2.75l-5,4.75L35,40h7c1.657,0,3-1.343,3-3V16.2z"
                  ></path>
                  <path
                    fill="#1e88e5"
                    d="M3,16.2l3.614,1.71L13,23.7V40H6c-1.657,0-3-1.343-3-3V16.2z"
                  ></path>
                  <polygon
                    fill="#e53935"
                    points="35,11.2 24,19.45 13,11.2 12,17 13,23.7 24,31.95 35,23.7 36,17"
                  ></polygon>
                  <path
                    fill="#c62828"
                    d="M3,12.298V16.2l10,7.5V11.2L9.876,8.859C9.132,8.301,8.228,8,7.298,8h0C4.924,8,3,9.924,3,12.298z"
                  ></path>
                  <path
                    fill="#fbc02d"
                    d="M45,12.298V16.2l-10,7.5V11.2l3.124-2.341C38.868,8.301,39.772,8,40.702,8h0 C43.076,8,45,9.924,45,12.298z"
                  ></path>
                </svg>
                Email
              </button>
              <button
                id="whatsappBtn"
                class="flex items-center gap-2 text-base px-6 py-3 rounded-full text-black border border-gray-300 hover:bg-gray-100 transition-colors cursor-pointer"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  x="0px"
                  y="0px"
                  width="24"
                  height="24"
                  viewBox="0 0 48 48"
                >
                  <path
                    fill="#fff"
                    d="M4.9,43.3l2.7-9.8C5.9,30.6,5,27.3,5,24C5,13.5,13.5,5,24,5c5.1,0,9.8,2,13.4,5.6C41,14.2,43,18.9,43,24 c0,10.5-8.5,19-19,19c0,0,0,0,0,0h0c-3.2,0-6.3-0.8-9.1-2.3L4.9,43.3z"
                  ></path>
                  <path
                    fill="#fff"
                    d="M4.9,43.8c-0.1,0-0.3-0.1-0.4-0.1c-0.1-0.1-0.2-0.3-0.1-0.5L7,33.5c-1.6-2.9-2.5-6.2-2.5-9.6 C4.5,13.2,13.3,4.5,24,4.5c5.2,0,10.1,2,13.8,5.7c3.7,3.7,5.7,8.6,5.7,13.8c0,10.7-8.7,19.5-19.5,19.5c-3.2,0-6.3-0.8-9.1-2.3 L5,43.8C5,43.8,4.9,43.8,4.9,43.8z"
                  ></path>
                  <path
                    fill="#cfd8dc"
                    d="M24,5c5.1,0,9.8,2,13.4,5.6C41,14.2,43,18.9,43,24c0,10.5-8.5,19-19,19h0c-3.2,0-6.3-0.8-9.1-2.3L4.9,43.3 l2.7-9.8C5.9,30.6,5,27.3,5,24C5,13.5,13.5,5,24,5 M24,43L24,43L24,43 M24,43L24,43L24,43 M24,4L24,4C13,4,4,13,4,24 c0,3.4,0.8,6.7,2.5,9.6L3.9,43c-0.1,0.3,0,0.7,0.3,1c0.2,0.2,0.4,0.3,0.7,0.3c0.1,0,0.2,0,0.3,0l9.7-2.5c2.8,1.5,6,2.2,9.2,2.2 c11,0,20-9,20-20c0-5.3-2.1-10.4-5.8-14.1C34.4,6.1,29.4,4,24,4L24,4z"
                  ></path>
                  <path
                    fill="#40c351"
                    d="M35.2,12.8c-3-3-6.9-4.6-11.2-4.6C15.3,8.2,8.2,15.3,8.2,24c0,3,0.8,5.9,2.4,8.4L11,33l-1.6,5.8l6-1.6l0.6,0.3 c2.4,1.4,5.2,2.2,8,2.2h0c8.7,0,15.8-7.1,15.8-15.8C39.8,19.8,38.2,15.8,35.2,12.8z"
                  ></path>
                  <path
                    fill="#fff"
                    fill-rule="evenodd"
                    d="M19.3,16c-0.4-0.8-0.7-0.8-1.1-0.8c-0.3,0-0.6,0-0.9,0s-0.8,0.1-1.3,0.6c-0.4,0.5-1.7,1.6-1.7,4 s1.7,4.6,1.9,4.9s3.3,5.3,8.1,7.2c4,1.6,4.8,1.3,5.7,1.2c0.9-0.1,2.8-1.1,3.2-2.3c0.4-1.1,0.4-2.1,0.3-2.3c-0.1-0.2-0.4-0.3-0.9-0.6 s-2.8-1.4-3.2-1.5c-0.4-0.2-0.8-0.2-1.1,0.2c-0.3,0.5-1.2,1.5-1.5,1.9c-0.3,0.3-0.6,0.4-1,0.1c-0.5-0.2-2-0.7-3.8-2.4 c-1.4-1.3-2.4-2.8-2.6-3.3c-0.3-0.5,0-0.7,0.2-1c0.2-0.2,0.5-0.6,0.7-0.8c0.2-0.3,0.3-0.5,0.5-0.8c0.2-0.3,0.1-0.6,0-0.8 C20.6,19.3,19.7,17,19.3,16z"
                    clip-rule="evenodd"
                  ></path>
                </svg>
                WhatsApp
              </button>
              <button
                id="downloadImageBtn"
                class="flex items-center gap-2 text-base px-6 py-3 rounded-full text-black border border-gray-300 hover:bg-gray-100 transition-colors cursor-pointer"
              >
                <i data-lucide="download" class="w-5 h-5"></i>
                Download Image
              </button>
              <a
                href="../index.html#consultation"
                class="inline-flex items-center bg-[#fcaf1b] text-white pl-5 pr-3 py-3 rounded-full text-base gap-3 group transition hover:bg-[#161f48] shadow-md"
              >
                Start Investing
                <span
                  class="bg-white text-black rounded-full p-1.5 flex items-center justify-center transition-transform group-hover:translate-x-1"
                >
                  <i data-lucide="arrow-right" class="w-4 h-4"></i>
                </span>
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- =================================================================== -->
    <!-- NAVIGATION HEADER - Fixed position with dropdown menus -->
    <!-- =================================================================== -->
    <header class="bg-[#161f48] shadow-sm fixed w-full top-0 z-50">
      <div
        class="mx-6 lg:mx-12 px-2 py-3 flex items-center justify-between relative"
      >
        <!-- Logo -->
        <a href="../index.html" class="flex items-center gap-2">
          <img
            src="../assets/CFS TRANSPARENT.png"
            class="h-12 w-auto"
            alt="Chimulkar Financial Services Logo"
          />
        </a>

        <!-- Desktop Navigation -->
        <nav class="hidden md:flex gap-10 text-[16px] font-medium items-center">
          <!-- About Dropdown -->
          <div class="relative group">
            <button
              class="flex items-center gap-1 text-white hover:text-[#fcaf1b] transition cursor-pointer"
            >
              About <i data-lucide="chevron-down" class="w-4 h-4"></i>
            </button>
            <div
              class="absolute top-full left-0 mt-3 text-sm bg-white rounded-2xl p-2 min-w-[15rem] shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200"
            >
              <a
                href="../about-us.html"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="building-2" class="w-5 h-5"></i> About Us
              </a>

              <!-- Nested Team Dropdown -->
              <div class="relative group/team">
                <button
                  class="flex items-center justify-between w-full gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
                >
                  <span class="flex items-center gap-3">
                    <i data-lucide="users" class="w-5 h-5"></i> Our Team
                  </span>
                  <i data-lucide="chevron-right" class="w-4 h-4"></i>
                </button>
                <div
                  class="absolute top-0 left-full ml-2 bg-white rounded-2xl p-2 min-w-[12rem] shadow-lg border border-gray-200 opacity-0 invisible group-hover/team:opacity-100 group-hover/team:visible transition-all duration-200"
                >
                  <a
                    href="../teams/Prashant-Chimulkar.html"
                    class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
                  >
                    <i data-lucide="user" class="w-5 h-5"></i> Prashant
                  </a>
                  <a
                    href="../teams/Pranav-Chimulkar.html"
                    class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
                  >
                    <i data-lucide="user" class="w-5 h-5"></i> Pranav
                  </a>
                </div>
              </div>

              <a
                href="../foundation.html"
                target="_blank"
                rel="noopener noreferrer"
                class="flex items-center gap-2 px-3 py-2 hover:bg-[#fcaf1b] hover:text-white rounded-lg"
              >
                <i data-lucide="heart-handshake" class="w-4 h-4"></i> Foundation
              </a>
            </div>
          </div>

          <!-- Services Dropdown -->
          <div class="relative group">
            <button
              class="flex items-center gap-1 text-white hover:text-[#fcaf1b] transition cursor-pointer"
            >
              Services <i data-lucide="chevron-down" class="w-4 h-4"></i>
            </button>
            <div
              class="absolute text-sm top-full left-0 mt-3 bg-white rounded-2xl p-2 min-w-[15rem] shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200"
            >
              <a
                href="../services/mutual-funds.html"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="layers" class="w-5 h-5"></i> Mutual Funds
              </a>
              <a
                href="../services/retirement-planning.html"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="calendar-check" class="w-5 h-5"></i> Retirement
                Planning
              </a>
              <a
                href="../services/tax-planning.html"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="file-text" class="w-5 h-5"></i> Tax Planning
              </a>
              <a
                href="../services/insurance-planning.html"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="shield-check" class="w-5 h-5"></i> Insurance
                Planning
              </a>
              <a
                href="../services/education-savings.html"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="graduation-cap" class="w-5 h-5"></i>
                Education Savings
              </a>
              <a
                href="../services/legacy-planning.html"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="archive" class="w-5 h-5"></i> Legacy Planning
              </a>
            </div>
          </div>

          <!-- Calculator Dropdown -->
          <div class="relative group">
            <button
              class="flex items-center gap-1 text-white hover:text-[#fcaf1b] transition cursor-pointer"
            >
              Calculator <i data-lucide="chevron-down" class="w-4 h-4"></i>
            </button>
            <div
              class="absolute text-sm top-full left-0 mt-3 bg-white rounded-2xl p-2 min-w-[15rem] shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200"
            >
              <a
                href="../calculators/sip-calculator.html"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="calculator" class="w-5 h-5"></i> SIP Calculator
              </a>
              <a
                href="../calculators/lump-sump-calculator.html"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="percent" class="w-5 h-5"></i> Lump Sum
              </a>
              <a
                href="../calculators/swp-calculator.html"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="activity" class="w-5 h-5"></i> SWP Calculator
              </a>
              <a
                href="../calculators/inflation-calculator.html"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="trending-up" class="w-5 h-5"></i> Inflation
                Calculator
              </a>
            </div>
          </div>

          <!-- Financial Literacy Dropdown -->
          <div class="relative group">
            <button
              class="flex items-center gap-1 text-white hover:text-[#fcaf1b] transition cursor-pointer"
            >
              Financial Literacy
              <i data-lucide="chevron-down" class="w-4 h-4"></i>
            </button>
            <div
              class="absolute text-sm top-full left-0 mt-3 bg-white rounded-2xl p-2 min-w-[15rem] shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200"
            >
              <a
                href="../video-lessons.html"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="play-circle" class="w-5 h-5"></i> Video Lessons
              </a>
              <a
                href="../financial-literacy.html"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="book-open" class="w-5 h-5"></i> Financial
                Literacy
              </a>
              <a
                href="../workshops.html"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="presentation" class="w-5 h-5"></i> Workshop
              </a>
            </div>
          </div>

          <!-- Simple links -->
          <a
            href="../nri-corner.html"
            class="text-white hover:text-[#fcaf1b] transition"
            >NRI Corner</a
          >
          <a
            href="../contact-us.html"
            class="text-white hover:text-[#fcaf1b] transition"
            >Contact Us</a
          >
          <a
            href="../refer-us.html"
            class="text-white hover:text-[#fcaf1b] transition"
            >Refer Us</a
          >
        </nav>

        <!-- CTA Button -->
        <a
          href="../financial-assessment.html"
          class="hidden md:inline-flex items-center border border-transparent bg-[#fcaf1b] text-white pl-5 pr-3 py-2 rounded-full text-sm gap-3 group transition hover:opacity-90 hover:border-primary"
        >
          Get Free Assessment
          <span
            class="bg-white text-black rounded-full p-1.5 flex items-center justify-center transition-transform group-hover:translate-x-1"
          >
            <i data-lucide="arrow-right" class="w-4 h-4"></i>
          </span>
        </a>

        <!-- Mobile Menu Button -->
        <button
          id="menuToggle"
          class="md:hidden p-2 bg-gray-50 border border-gray-300 rounded-full hover:bg-gray-100"
        >
          <i data-lucide="align-right" class="w-6 h-6 text-secondary"></i>
        </button>
      </div>
    </header>

    <!-- Announcement Bar - Positioned below navbar -->
    <!-- <div
      class="fixed top-[72px] w-full h-12 bg-[#161f48] z-40 flex items-center justify-center px-4 text-sm"
    >
      <a href="#" class="flex items-center text-[#fcaf1b] hover:underline">
        Get a no cost, no commitment assessment
        <i data-lucide="arrow-right" class="w-5 h-5 ml-2"></i>
      </a>
      <a href="#" class="hidden lg:inline-flex items-center text-white mr-2">
        <span class="text-[#fcaf1b] mx-2">|</span> Celebrating 40 Years of Trust
      </a>
    </div> -->

    <!-- Mobile Menu Backdrop - Dark overlay when mobile menu is open -->
    <div
      id="backdrop"
      class="fixed inset-0 bg-black/20 backdrop-blur-sm z-40 hidden opacity-0 transition"
    ></div>

    <!-- =================================================================== -->
    <!-- MOBILE NAVIGATION MENU - Slide-in from right -->
    <!-- =================================================================== -->
    <div
      id="mobileMenu"
      class="md:hidden fixed top-0 right-0 h-full max-w-xs bg-white shadow-xl transform translate-x-full transition duration-300 z-50 flex flex-col justify-between overflow-y-auto"
    >
      <!-- Mobile menu content -->
      <div class="p-6 flex flex-col gap-4">
        <!-- Mobile menu header with logo and close button -->
        <div class="flex justify-between items-center mb-4">
          <img src="../assets/Logo.svg" class="h-10" alt="Logo" />
          <button
            id="closeMenu"
            class="p-2 bg-gray-50 text-[#161f48] border border-gray-300 rounded-full hover:bg-gray-100 hover:cursor-pointer"
          >
            <i data-lucide="x" class="w-6 h-6"></i>
          </button>
        </div>

        <!-- Mobile navigation links -->

        <!-- Mobile About Us Accordion -->
        <!-- About Us (mobile accordion) -->

        <style>
          /* hide default marker */
          summary {
            list-style: none;
          }
          summary::-webkit-details-marker {
            display: none;
          }

          /* rotate only the chevron inside the SAME details > summary */
          details > summary .chev {
            transition: transform 0.2s ease;
            display: inline-flex;
          }
          details[open] > summary .chev {
            transform: rotate(180deg);
          }
        </style>

        <details>
          <summary
            class="flex justify-between items-center px-4 py-3 rounded-lg hover:bg-gray-100 cursor-pointer"
          >
            <span class="flex items-center gap-2">
              <i data-lucide="info" class="w-4 h-4"></i> About
            </span>
            <span class="chev"
              ><i data-lucide="chevron-down" class="w-4 h-4"></i
            ></span>
          </summary>

          <div class="pl-6 flex flex-col gap-2 mt-2 text-sm">
            <a
              href="../about-us.html"
              class="flex items-center gap-2 px-3 py-2 hover:bg-[#fcaf1b] hover:text-white rounded-lg"
            >
              <i data-lucide="building-2" class="w-4 h-4"></i> About Us
            </a>

            <!-- Nested team -->
            <details>
              <summary
                class="flex justify-between items-center px-3 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white cursor-pointer"
              >
                <span class="flex items-center gap-2">
                  <i data-lucide="users" class="w-4 h-4"></i> Our Team
                </span>
                <span class="chev"
                  ><i data-lucide="chevron-down" class="w-4 h-4"></i
                ></span>
              </summary>

              <div class="pl-6 flex flex-col gap-2 mt-2 text-sm">
                <a
                  href="../teams/Prashant-Chimulkar.html"
                  class="flex items-center gap-2 px-3 py-2 hover:bg-[#fcaf1b] hover:text-white rounded-lg"
                >
                  <i data-lucide="user" class="w-4 h-4"></i> Prashant
                </a>
                <a
                  href="../teams/Pranav-Chimulkar.html"
                  class="flex items-center gap-2 px-3 py-2 hover:bg-[#fcaf1b] hover:text-white rounded-lg"
                >
                  <i data-lucide="user" class="w-4 h-4"></i> Pranav
                </a>
              </div>
            </details>
            <a
              href="../foundation.html"
              target="_blank"
              rel="noopener noreferrer"
              class="flex items-center gap-2 px-3 py-2 hover:bg-[#fcaf1b] hover:text-white rounded-lg"
            >
              <i data-lucide="heart-handshake" class="w-4 h-4"></i> Foundation
            </a>
          </div>
        </details>

        <!-- Mobile Services Accordion -->
        <details class="group">
          <summary
            class="flex justify-between items-center px-4 py-3 rounded-lg hover:bg-gray-100 cursor-pointer"
          >
            <span class="flex items-center gap-2">
              <i data-lucide="briefcase" class="w-4 h-4"></i> Services
            </span>
            <i
              data-lucide="chevron-down"
              class="w-4 h-4 transition-transform group-open:rotate-180"
            ></i>
          </summary>

          <!-- Sub-links -->
          <div class="pl-6 flex flex-col gap-2 mt-2 text-sm">
            <a
              href="../services/mutual-funds.html"
              class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white transition"
            >
              <i data-lucide="layers" class="w-4 h-4"></i> Mutual Funds
            </a>
            <a
              href="../services/retirement-planning.html"
              class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white transition"
            >
              <i data-lucide="calendar-check" class="w-4 h-4"></i> Retirement
              Planning
            </a>
            <a
              href="../services/tax-planning.html"
              class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white transition"
            >
              <i data-lucide="file-text" class="w-4 h-4"></i> Tax Planning
            </a>
            <a
              href="../services/insurance-planning.html"
              class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white transition"
            >
              <i data-lucide="shield-check" class="w-4 h-4"></i> Insurance
              Planning
            </a>
            <a
              href="../services/education-savings.html"
              class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white transition"
            >
              <i data-lucide="graduation-cap" class="w-4 h-4"></i> Education
              Savings
            </a>
            <a
              href="../services/legacy-planning.html"
              class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white transition"
            >
              <i data-lucide="archive" class="w-4 h-4"></i> Legacy Planning
            </a>
          </div>
        </details>

        <!-- Mobile Calculator Accordion -->
        <details class="group">
          <summary
            class="flex justify-between items-center px-4 py-3 rounded-lg hover:bg-gray-100 cursor-pointer"
          >
            <span class="flex items-center gap-2">
              <i data-lucide="circle-divide" class="w-4 h-4"></i> Calculators
            </span>
            <i
              data-lucide="chevron-down"
              class="w-4 h-4 transition-transform group-open:rotate-180"
            ></i>
          </summary>
          <div class="pl-6 flex flex-col gap-4 mt-2 text-sm">
            <a
              href="../calculators/sip-calculator.html"
              class="flex items-center gap-2 px-3 py-2 hover:bg-[#fcaf1b] hover:text-white cursor-pointer rounded-lg"
            >
              <i data-lucide="calculator" class="w-4 h-4"></i> SIP Calculator
            </a>
            <a
              href="../calculators/lump-sump-calculator.html"
              class="flex items-center gap-2 px-3 py-2 hover:bg-[#fcaf1b] hover:text-white cursor-pointer rounded-lg"
            >
              <i data-lucide="percent" class="w-4 h-4"></i> Lump Sum
            </a>

            <a
              href="../calculators/swp-calculator.html"
              class="flex items-center gap-2 px-3 py-2 hover:bg-[#fcaf1b] hover:text-white cursor-pointer rounded-lg"
            >
              <i data-lucide="activity" class="w-4 h-4"></i> SWP Calculator
            </a>
            <a
              href="../calculators/inflation-calculator.html"
              class="flex items-center gap-3 px-4 py-2 hover:bg-[#fcaf1b] hover:text-white rounded-lg cursor-pointer"
            >
              <i data-lucide="trending-up" class="w-4 h-4"></i> Inflation
              Calculator
            </a>
          </div>
        </details>

        <!-- Mobile Financial Literacy Accordion -->
        <details class="group">
          <summary
            class="flex justify-between items-center px-4 py-3 rounded-lg hover:bg-gray-100 cursor-pointer"
          >
            <span class="flex items-center gap-2">
              <i data-lucide="graduation-cap" class="w-4 h-4"></i> Financial
              Literacy
            </span>
            <i
              data-lucide="chevron-down"
              class="w-4 h-4 transition-transform group-open:rotate-180"
            ></i>
          </summary>
          <div class="pl-6 flex flex-col gap-4 mt-2 text-sm">
            <a
              href="../video-lessons.html"
              class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
            >
              <i data-lucide="play-circle" class="w-5 h-5"></i> Video Lessons
            </a>
            <a
              href="../financial-literacy.html"
              class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
            >
              <i data-lucide="book-open" class="w-5 h-5"></i> Financial Literacy
            </a>
            <a
              href="../workshops.html"
              class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
            >
              <i data-lucide="presentation" class="w-5 h-5"></i> Workshop
            </a>
          </div>
        </details>

        <!-- Additional mobile navigation links -->
        <a
          href="../nri-corner.html"
          class="flex items-center gap-2 px-4 py-3 rounded-lg hover:bg-gray-100 cursor-pointer"
        >
          <i data-lucide="globe" class="w-4 h-4"></i> NRI Corner
        </a>
        <a
          href="../contact-us.html"
          class="flex items-center gap-2 px-4 py-3 rounded-lg hover:bg-gray-100 cursor-pointer"
        >
          <i data-lucide="phone-call" class="w-4 h-4"></i> Contact Us
        </a>
        <a
          href="../refer-us.html"
          class="flex items-center gap-2 px-4 py-3 rounded-lg hover:bg-gray-100 cursor-pointer"
        >
          <i data-lucide="heart-handshake" class="w-4 h-4"></i> Refer Us
        </a>
      </div>

      <!-- Mobile CTA button at bottom -->
      <div class="p-6">
        <a
          href="../financial-assessment.html"
          class="flex items-center justify-center border border-transparent bg-[#fcaf1b] text-white pl-5 pr-3 py-2 rounded-full text-sm gap-3 group transition hover:bg-[#161f48] hover:border-[#161f48]"
        >
          Get Free Assessment
          <span
            class="bg-white text-black rounded-full p-1.5 flex items-center justify-center transition-transform group-hover:translate-x-1"
          >
            <i data-lucide="arrow-right" class="w-4 h-4"></i>
          </span>
        </a>
      </div>
    </div>

    <section
      class="w-full mx-auto max-w-[1110px] mt-8 p-5 lg:p-0 text-sm lg:text-base"
    >
      <h2 class="text-lg font-semibold mb-2">About the Lump Sump Calculator</h2>

      <p class="mb-4">
        This Lumpsum Calculator is the perfect tool for analyzing the growth of
        your one-time investment. Unlike a Systematic Investment Plan (SIP), a
        lumpsum investment involves putting a significant amount of money into a
        mutual fund or other asset class all at once. Our calculator helps you
        project the potential future value of this investment. With two powerful
        modes, you can either see how a specific amount will grow over time or
        determine the exact lump sum you need to invest today to reach a future
        financial target.
      </p>

      <h3 class="text-lg font-semibold mb-2">How to Use This Calculator</h3>
      <p class="mb-4">
        Our Lumpsum Calculator is easy to use, with two modes to fit your
        investment strategy.
      </p>

      <p class="font-semibold mb-1">
        Mode 1: Lumpsum Investment (to calculate your corpus)
      </p>
      <p class="mb-2">
        This mode is for when you know how much you want to invest and want to
        find out its potential future value.
      </p>
      <ul class="list-disc ml-6 mb-4 space-y-1">
        <li>
          <span class="font-semibold">Investment Amount:</span> Enter the total
          single amount you plan to invest today.
        </li>
        <li>
          <span class="font-semibold">Expected Rate of Return: </span> Input the
          average annual return you anticipate on your investment (e.g., 12% for
          equity funds).
        </li>
        <li>
          <span class="font-semibold">Time Period:</span> Specify the total
          number of years you plan to keep the investment.
        </li>
      </ul>
      <p class="mb-4">
        After entering these details, the calculator will show you the estimated
        final corpus you can build.
      </p>

      <p class="font-semibold mb-1">
        Mode 2: Target Amount (to calculate your lumpsum investment)
      </p>
      <p class="mb-2">
        This mode is for when you have a specific financial goal in mind and
        want to calculate how much you need to invest today to reach it.
      </p>
      <ul class="list-disc ml-6 mb-4 space-y-1">
        <li>
          <span class="font-semibold">Target Amount:</span> T Enter the total
          amount you need to accumulate in the future.
        </li>
        <li>
          <span class="font-semibold">Expected Rate of Return:</span>
          Input the average annual return you anticipate on your investment.
        </li>
        <li>
          <span class="font-semibold">Time Period:</span> Specify the number of
          years you have to reach your goal.
        </li>
        <li>
          <span class="font-semibold">Impact of Inflation (optional):</span>
          This feature helps you account for the erosion of purchasing power.
          Enter the expected annual inflation rate (e.g., 6%) to adjust your
          target amount to its future value.
        </li>
      </ul>
      <p class="mb-4">
        The calculator will then tell you the exact lump sum amount you need to
        invest today to achieve your goal.
      </p>

      <h3 class="text-lg font-semibold mb-2">
        Formulas Used in the Calculator
      </h3>
      <p class="mb-4">
        Our calculator uses a standard compound interest formula to provide
        accurate projections.
      </p>

      <p class="font-semibold mb-1">For Investment Amount Mode:</p>
      <p class="mb-4">
        The final corpus (A) is calculated using the compound interest formula:
      </p>
      <!-- MathJax script -->
      <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

      <div
        class="bg-gray-200/50 p-4 rounded-xl mt-4 text-sm overflow-x-auto mb-4"
      >
        <p><strong class="font-semibold">Main formula:</strong></p>
        $$\mathbf{A} = \mathbf{P} \times (1 + r)^{t}$$

        <p><strong class="font-semibold">Where:</strong></p>
        <ul>
          <li>\(\mathbf{A}\) = Final Corpus Amount</li>
          <li>\(\mathbf{P}\) = Principal Investment Amount</li>
          <li>\(r\) = Expected Annual Rate of Return</li>
          <li>\(t\) = Time Period in years</li>
        </ul>
      </div>

      <p class="font-semibold mb-1">For Target Amount Mode:</p>
      <p class="mb-4">
        The required lumpsum amount (\(\mathbf{P}\)) is calculated by
        rearranging the compound interest formula:
      </p>

      <div
        class="bg-gray-200/50 p-4 rounded-xl mt-4 text-sm overflow-x-auto mb-4"
      >
        $$\mathbf{P} = \frac{\mathbf{A}}{(1 + r)^{t}}$$

        <p>
          <strong class="font-medium"
            >Where the target amount (\(\mathbf{A}\)) is also adjusted for
            inflation, if that option is used:</strong
          >
        </p>
        $$\text{Inflation-adjusted Target Amount} = \text{Target Amount} \times
        (1 + \text{inflation rate})^{\text{time period}}$$
      </div>

      <div class="text-sm lg:text-base text-black leading-relaxed space-y-6">
        <p>
          <span class="font-semibold">Case 1: Investment Amount</span><br />
          Preeti, a young professional, receives a
          <span class="font-semibold">₹10 lakh bonus</span> and decides to
          invest it for her retirement. She chooses to invest this
          <span class="font-semibold">lumpsum for 20 years</span> and expects an
          average annual return of
          <span class="font-semibold">12%</span>.<br /><br />
          <span class="font-semibold">Investment Amount:</span> ₹10,00,000<br />
          <span class="font-semibold">Expected Rate of Return:</span> 12%<br />
          <span class="font-semibold">Time Period:</span> 20 years<br /><br />
          According to our calculator, her one-time investment of ₹10 lakhs
          would grow to an estimated
          <span class="font-semibold">₹96.46 Lakhs</span> after 20 years. This
          case highlights the incredible power of compounding over the long
          term.
        </p>

        <p>
          <span class="font-semibold">Case 2: Target Amount</span><br />
          Newly-wed couple Amit and Sonia plan to buy a house in 10 years and
          want to save for the downpayment. They estimate the downpayment amount
          on a house of their choice will be
          <span class="font-semibold">₹50 lakhs today</span>. They anticipate an
          average annual return of <span class="font-semibold">12%</span> and
          account for an annual inflation rate of
          <span class="font-semibold">5%</span>.<br /><br />
          <span class="font-semibold">Target Amount:</span> ₹50,00,000<br />
          <span class="font-semibold">Expected Rate of Return:</span> 12%<br />
          <span class="font-semibold">Time Period:</span> 10 years<br />
          <span class="font-semibold">Impact of Inflation:</span> 5%<br /><br />
          First, the calculator adjusts the target amount for inflation. The
          future value of ₹50 lakhs after 10 years at a 5% inflation rate would
          be approximately
          <span class="font-semibold">₹81.44 Lakhs</span>.<br />
          To reach this inflation-adjusted goal, Amit would need to invest a
          lumpsum of <span class="font-semibold">₹26.22 lakhs</span> today. This
          calculation helps him set a precise and realistic investment target.
        </p>
      </div>
    </section>

    <!-- FAQ Section -->
    <section
      id="faq"
      class="mb-2 bg-transparent p-5 max-w-[1150px] mx-auto py-10 lg:py-24"
    >
      <div class="text-start mb-8">
        <h2 class="text-base font-semibold leading-tight text-black">
          Top 10 Commonly Asked Questions
        </h2>
      </div>

      <div
        class="bg-white text-black border border-gray-300 rounded-2xl divide-y divide-gray-200"
      >
        <!-- FAQ 1 -->
        <div class="faq-item">
          <button
            class="faq-question cursor-pointer w-full px-8 py-6 flex justify-between items-center text-left hover:bg-gray-50 transition-colors duration-200"
          >
            <span class="text-base font-medium text-black pr-4">
              What is a lumpsum investment?
            </span>
            <svg
              class="faq-icon w-6 h-6 text-gray-500 hover:text-gray-800 transform transition-transform duration-300 flex-shrink-0"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M5 12h14" />
              <path d="M12 5v14" />
            </svg>
          </button>
          <div
            class="faq-answer max-h-0 overflow-hidden transition-all duration-300 ease-in-out"
          >
            <div class="px-8 pb-6 text-gray-700 leading-relaxed text-sm">
              A lumpsum investment is a single, one-time investment of a
              substantial amount of money. It is different from a Systematic
              Investment Plan (SIP) which involves investing small, fixed
              amounts at regular intervals.
            </div>
          </div>
        </div>

        <!-- FAQ 2 -->
        <div class="faq-item">
          <button
            class="faq-question cursor-pointer w-full px-8 py-6 flex justify-between items-center text-left hover:bg-gray-50 transition-colors duration-200"
          >
            <span class="text-base font-medium text-black pr-4">
              Is there a minimum investment amount for lumpsum?
            </span>
            <svg
              class="faq-icon w-6 h-6 text-gray-500 hover:text-gray-800 transform transition-transform duration-300 flex-shrink-0"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M5 12h14" />
              <path d="M12 5v14" />
            </svg>
          </button>
          <div
            class="faq-answer max-h-0 overflow-hidden transition-all duration-300 ease-in-out"
          >
            <div class="px-8 pb-6 text-gray-700 leading-relaxed text-sm">
              The minimum lumpsum investment amount varies across different
              mutual funds and other investment products. While there's no
              general rule, it's typically higher than the minimum for a SIP,
              often starting from ₹5,000.
            </div>
          </div>
        </div>

        <!-- FAQ 3 -->
        <div class="faq-item">
          <button
            class="faq-question cursor-pointer w-full px-8 py-6 flex justify-between items-center text-left hover:bg-gray-50 transition-colors duration-200"
          >
            <span class="text-base font-medium text-black pr-4">
              When is the best time to make a lumpsum investment?
            </span>
            <svg
              class="faq-icon w-6 h-6 text-gray-500 hover:text-gray-800 transform transition-transform duration-300 flex-shrink-0"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M5 12h14" />
              <path d="M12 5v14" />
            </svg>
          </button>
          <div
            class="faq-answer max-h-0 overflow-hidden transition-all duration-300 ease-in-out"
          >
            <div class="px-8 pb-6 text-gray-700 leading-relaxed text-sm">
              Many investors believe the best time for a lumpsum investment is
              during a market downturn, when asset prices are low. This strategy
              is known as "buying the dip." However, since it's difficult to
              time the market perfectly, investing a lumpsum with a long-term
              perspective is often a sound strategy.
            </div>
          </div>
        </div>

        <!-- FAQ 4 -->
        <div class="faq-item">
          <button
            class="faq-question cursor-pointer w-full px-8 py-6 flex justify-between items-center text-left hover:bg-gray-50 transition-colors duration-200"
          >
            <span class="text-base font-medium text-black pr-4">
              What is the difference between this lumpsum calculator and a SIP
              calculator?
            </span>
            <svg
              class="faq-icon w-6 h-6 text-gray-500 hover:text-gray-800 transform transition-transform duration-300 flex-shrink-0"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M5 12h14" />
              <path d="M12 5v14" />
            </svg>
          </button>
          <div
            class="faq-answer max-h-0 overflow-hidden transition-all duration-300 ease-in-out"
          >
            <div class="px-8 pb-6 text-gray-700 leading-relaxed text-sm">
              A SIP calculator calculates the growth of a series of regular,
              smaller investments over time. This lumpsum calculator, on the
              other hand, calculates the growth of a single, one-time
              investment. The SIP calculator is for disciplined, gradual wealth
              building, while the lumpsum calculator is for investing a large
              amount you have all at once.
            </div>
          </div>
        </div>

        <!-- FAQ 5 -->
        <div class="faq-item">
          <button
            class="faq-question cursor-pointer w-full px-8 py-6 flex justify-between items-center text-left hover:bg-gray-50 transition-colors duration-200"
          >
            <span class="text-base font-medium text-black pr-4">
              Why is the "impact of inflation" feature important for a lumpsum?
            </span>
            <svg
              class="faq-icon w-6 h-6 text-gray-500 hover:text-gray-800 transform transition-transform duration-300 flex-shrink-0"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M5 12h14" />
              <path d="M12 5v14" />
            </svg>
          </button>
          <div
            class="faq-answer max-h-0 overflow-hidden transition-all duration-300 ease-in-out"
          >
            <div class="px-8 pb-6 text-gray-700 leading-relaxed text-sm">
              This feature adjusts your future financial target to account for
              inflation, which erodes the purchasing power of money over time.
              By factoring this in, you can determine a more realistic lumpsum
              amount to invest today to achieve your goal, ensuring your money
              will have the same value in the future.
            </div>
          </div>
        </div>

        <!-- FAQ 6 -->
        <div class="faq-item">
          <button
            class="faq-question cursor-pointer w-full px-8 py-6 flex justify-between items-center text-left hover:bg-gray-50 transition-colors duration-200"
          >
            <span class="text-base font-medium text-black pr-4">
              Should I invest a lumpsum or start a SIP?
            </span>
            <svg
              class="faq-icon w-6 h-6 text-gray-500 hover:text-gray-800 transform transition-transform duration-300 flex-shrink-0"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M5 12h14" />
              <path d="M12 5v14" />
            </svg>
          </button>
          <div
            class="faq-answer max-h-0 overflow-hidden transition-all duration-300 ease-in-out"
          >
            <div class="px-8 pb-6 text-gray-700 leading-relaxed text-sm">
              Both strategies have benefits. A lumpsum investment can lead to
              higher returns if you invest when the market is low. A SIP helps
              you benefit from rupee-cost averaging, mitigating risk in a
              volatile market. The best strategy depends on your financial
              situation and market view. If you have a large amount of money
              available, a lumpsum is a suitable option. If you have a steady
              income, a SIP is more practical.
            </div>
          </div>
        </div>

        <!-- FAQ 7 -->
        <div class="faq-item">
          <button
            class="faq-question cursor-pointer w-full px-8 py-6 flex justify-between items-center text-left hover:bg-gray-50 transition-colors duration-200"
          >
            <span class="text-base font-medium text-black pr-4">
              Is the calculated return guaranteed?
            </span>
            <svg
              class="faq-icon w-6 h-6 text-gray-500 hover:text-gray-800 transform transition-transform duration-300 flex-shrink-0"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M5 12h14" />
              <path d="M12 5v14" />
            </svg>
          </button>
          <div
            class="faq-answer max-h-0 overflow-hidden transition-all duration-300 ease-in-out"
          >
            <div class="px-8 pb-6 text-gray-700 leading-relaxed text-sm">
              No. The calculated values are estimates based on your inputs for
              the expected rate of return. Mutual fund and other market-linked
              investments are subject to market risks, and actual returns may
              vary. This calculator is a powerful planning tool and should not
              be considered a guarantee of returns.
            </div>
          </div>
        </div>

        <!-- FAQ 8 -->
        <div class="faq-item">
          <button
            class="faq-question cursor-pointer w-full px-8 py-6 flex justify-between items-center text-left hover:bg-gray-50 transition-colors duration-200"
          >
            <span class="text-base font-medium text-black pr-4">
              Can I withdraw my lumpsum investment at any time?
            </span>
            <svg
              class="faq-icon w-6 h-6 text-gray-500 hover:text-gray-800 transform transition-transform duration-300 flex-shrink-0"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M5 12h14" />
              <path d="M12 5v14" />
            </svg>
          </button>
          <div
            class="faq-answer max-h-0 overflow-hidden transition-all duration-300 ease-in-out"
          >
            <div class="px-8 pb-6 text-gray-700 leading-relaxed text-sm">
              Yes, you can redeem your investment at any time. However, many
              funds have an "exit load" if you withdraw within a certain period
              (e.g., one year). It's always best to check the specific terms of
              the fund before investing a lumpsum.
            </div>
          </div>
        </div>

        <!-- FAQ 9 -->
        <div class="faq-item">
          <button
            class="faq-question cursor-pointer w-full px-8 py-6 flex justify-between items-center text-left hover:bg-gray-50 transition-colors duration-200"
          >
            <span class="text-base font-medium text-black pr-4">
              How many lumpsum investments can I make in a year?
            </span>
            <svg
              class="faq-icon w-6 h-6 text-gray-500 hover:text-gray-800 transform transition-transform duration-300 flex-shrink-0"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M5 12h14" />
              <path d="M12 5v14" />
            </svg>
          </button>
          <div
            class="faq-answer max-h-0 overflow-hidden transition-all duration-300 ease-in-out"
          >
            <div class="px-8 pb-6 text-gray-700 leading-relaxed text-sm">
              There is no limit to the number of lumpsum investments that you
              can make in a year. you can even make a lump sum investment every
              month or multiple times in a month.
            </div>
          </div>
        </div>

        <!-- FAQ 10 -->
        <div class="faq-item">
          <button
            class="faq-question cursor-pointer w-full px-8 py-6 flex justify-between items-center text-left hover:bg-gray-50 transition-colors duration-200"
          >
            <span class="text-base font-medium text-black pr-4">
              Will the return for lumpsum and SIP be the same?
            </span>
            <svg
              class="faq-icon w-6 h-6 text-gray-500 hover:text-gray-800 transform transition-transform duration-300 flex-shrink-0"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M5 12h14" />
              <path d="M12 5v14" />
            </svg>
          </button>
          <div
            class="faq-answer max-h-0 overflow-hidden transition-all duration-300 ease-in-out"
          >
            <div class="px-8 pb-6 text-gray-700 leading-relaxed text-sm">
              The returns for SIP and lumpsum investments cannot be the same.
              While lumpsum investment generates higher returns in the bullish
              phase due to immediate market exposure, SIPs mitigate risk through
              the rupee-cost averaging feature and can perform better during
              market volatility. The returns also depend on market performance
              and timing.
            </div>
          </div>
        </div>
      </div>
    </section>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const faqItems = document.querySelectorAll(".faq-item");

        faqItems.forEach((item) => {
          const question = item.querySelector(".faq-question");
          const answer = item.querySelector(".faq-answer");
          const icon = item.querySelector(".faq-icon");

          question.addEventListener("click", function () {
            const isOpen =
              answer.style.maxHeight && answer.style.maxHeight !== "0px";

            // Close all other FAQ items
            faqItems.forEach((otherItem) => {
              if (otherItem !== item) {
                const otherAnswer = otherItem.querySelector(".faq-answer");
                const otherIcon = otherItem.querySelector(".faq-icon");
                otherAnswer.style.maxHeight = "0px";
                otherIcon.style.transform = "rotate(0deg)";
              }
            });

            // Toggle current item
            if (isOpen) {
              answer.style.maxHeight = "0px";
              icon.style.transform = "rotate(0deg)";
            } else {
              answer.style.maxHeight = answer.scrollHeight + "px";
              icon.style.transform = "rotate(45deg)";
            }
          });
        });
      });
    </script>

    <section class="py-10 px-5 max-w-8xl mx-auto text-center">
      <h2 class="text-xl font-semibold mb-8 text-black">
        Explore More Popular Calculators
      </h2>

      <div class="grid grid-cols-1 lg:grid-cols-3 gap-2 lg:gap-6">
        <a
          href="./sip-calculator.html"
          class="inline-flex items-center justify-center bg-white text-black pl-5 pr-3 py-3.5 border border-gray-300 rounded-full text-sm gap-3 group transition hover:bg-[#161f48] hover:text-white hover:border-transparent"
        >
          <i
            data-lucide="calculator"
            class="w-5 h-5 text-black group-hover:text-white"
          ></i>
          SIP Calculator
        </a>

        <a
          href="./swp-calculator.html"
          class="inline-flex items-center justify-center bg-white text-black pl-5 pr-3 py-3.5 border border-gray-300 rounded-full text-sm gap-3 group transition hover:bg-[#161f48] hover:text-white hover:border-transparent"
        >
          <i
            data-lucide="activity"
            class="w-5 h-5 text-black group-hover:text-white"
          ></i>
          SWP Calculator
        </a>
        <a
          href="./inflation-calculator.html"
          class="inline-flex items-center justify-center bg-white text-black pl-5 pr-4 py-3.5 border border-gray-300 rounded-full text-sm gap-3 group transition hover:bg-[#161f48] hover:text-white hover:border-transparent"
        >
          <i
            data-lucide="trending-up"
            class="w-5 h-5 text-black group-hover:text-white"
          ></i>
          Inflation Calculator
        </a>
      </div>
    </section>

    <!-- FOOTER SECTION - Company information and links -->
    <!-- =================================================================== -->
    <footer class="w-full bg-white border-t border-gray-200">
      <!-- Top Nav Links -->
      <div
        class="max-w-7xl hidden mx-auto px-6 py-6 flex flex-wrap justify-center md:justify-between gap-6 text-sm text-blueeborder-bluee"
      >
        <a href="/about" class="hover:text-[#fcaf1b] transition">About Us</a>
        <a href="/services" class="hover:text-[#fcaf1b] transition">Services</a>
        <a href="/calculators" class="hover:text-[#fcaf1b] transition"
          >Calculators</a
        >
        <a href="/financial-literacy" class="hover:text-[#fcaf1b] transition"
          >Financial Literacy</a
        >
        <a href="/nri-corner" class="hover:text-[#fcaf1b] transition"
          >NRI Corner</a
        >
        <a href="/contact" class="hover:text-[#fcaf1b] transition"
          >Contact Us</a
        >
      </div>

      <!-- Middle Section -->
      <div
        class="max-w-7xl mx-auto px-6 py-10 grid grid-cols-1 md:grid-cols-3 gap-8 text-center md:text-left"
      >
        <!-- Left: Info -->
        <div class="space-y-4">
          <a
            href="https://www.google.com/maps/dir/?api=1&destination=15.4038977,74.0086659"
            target="_blank"
            rel="noopener"
            class="flex items-center justify-center md:justify-start gap-2 text-gray-800"
          >
            <i data-lucide="map-pin" class="w-5 h-5 text-[#fcaf1b]"></i> Our
            Office
          </a>
          <a
            href="mailto:chimulkarfinancialservices@gmail.com"
            class="flex items-center justify-center md:justify-start gap-2 text-gray-800"
          >
            <i data-lucide="mail" class="w-5 h-5 text-[#fcaf1b]"></i>
            chimulkarfinancialservices@gmail.com
          </a>
          <a
            href="tel:+918208031927"
            class="flex items-center justify-center md:justify-start gap-2 text-gray-800"
          >
            <i data-lucide="phone" class="w-5 h-5 text-[#fcaf1b]"></i>
            +91 82080 31927
          </a>
        </div>

        <!-- Center: Logo -->
        <div class="flex flex-col items-center">
          <img
            src="../assets/Logo.svg"
            alt="Chimulkar Financial Services"
            class="w-40 h-auto mb-4"
          />
          <p class="text-gray-800 text-sm">Chimulkar Financial Services</p>
        </div>

        <!-- Right: Reviews & Social -->
        <div class="flex flex-col items-center md:items-end space-y-4">
          <p class="text-gray-800">10+ Five-Star Google Reviews</p>
          <div class="flex gap-1">
            <i
              data-lucide="star"
              class="w-5 h-5 fill-yellow-400 text-yellow-400"
            ></i>
            <i
              data-lucide="star"
              class="w-5 h-5 fill-yellow-400 text-yellow-400"
            ></i>
            <i
              data-lucide="star"
              class="w-5 h-5 fill-yellow-400 text-yellow-400"
            ></i>
            <i
              data-lucide="star"
              class="w-5 h-5 fill-yellow-400 text-yellow-400"
            ></i>
            <i
              data-lucide="star"
              class="w-5 h-5 fill-yellow-400 text-yellow-400"
            ></i>
          </div>
          <div class="flex gap-4">
            <a
              href="https://www.instagram.com/chimulkarfinancialservices?utm_source=ig_web_button_share_sheet&igsh=MWZxMnFsZTY4OHNmeg=="
              target="_blank"
              aria-label="Instagram"
              class="bg-yellow-100 rounded-full p-2 hover:bg-yellow-200 transition"
            >
              <i data-lucide="instagram" class="w-5 h-5 text-gray-800"></i>
            </a>
            <a
              href="https://www.youtube.com/@ChimulkarFinancialServices"
              target="_blank"
              aria-label="YouTube"
              rel="noopener noreferrer"
              class="bg-yellow-100 rounded-full p-2 hover:bg-yellow-200 transition"
            >
              <i data-lucide="youtube" class="w-5 h-5 text-gray-800"></i>
            </a>
          </div>
        </div>
      </div>

      <!-- Bottom Bar -->
      <div class="bg-[#161f48] text-gray-100 text-xs text-center py-4">
        <div
          class="max-w-7xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center gap-2"
        >
          <p>© 2026 Chimulkar Financial Services</p>
          <div class="flex gap-6">
            <a href="../Regulatory-Disclosure.html" class="hover:underline">
              Disclosure</a
            >
            <a href="../Terms&Conditions.html" class="hover:underline"
              >Terms & Conditions</a
            >
            <a href="../Privacy-policy.html" class="hover:underline"
              >Privacy Policy</a
            >
            <a href="../sitemap.html" class="hover:underline">Sitemap</a>
          </div>
          <p class="text-gray-400">
            Developed & Maintained by
            <a
              href="https://github.com/Niraj-Paswan"
              target="_blank"
              class="text-white hover:underline"
              >~Niraj Paswan</a
            >
          </p>
        </div>
      </div>
    </footer>
    <script src="https://unpkg.com/lucide@latest"></script>

    <script>
      lucide.createIcons();
    </script>

    <script>
      // Get mobile menu elements
      const mobileMenuToggle = document.getElementById("menuToggle");
      const mobileMenuClose = document.getElementById("closeMenu");
      const mobileMenuPanel = document.getElementById("mobileMenu");
      const mobileMenuBackdrop = document.getElementById("backdrop");

      // Open mobile menu function
      function openMobileMenu() {
        mobileMenuPanel.classList.remove("translate-x-full");
        mobileMenuBackdrop.classList.remove("hidden");
        setTimeout(() => mobileMenuBackdrop.classList.remove("opacity-0"), 10);
      }

      // Close mobile menu function
      function closeMobileMenu() {
        mobileMenuPanel.classList.add("translate-x-full");
        mobileMenuBackdrop.classList.add("opacity-0");
        setTimeout(() => mobileMenuBackdrop.classList.add("hidden"), 300);
      }

      // Event listeners for mobile menu
      mobileMenuToggle.addEventListener("click", openMobileMenu);
      mobileMenuClose.addEventListener("click", closeMobileMenu);
      mobileMenuBackdrop.addEventListener("click", closeMobileMenu);
    </script>
    <script>
      let chart;
      let isTargetMode = false; // Default to Lumpsum Investment Mode
      // Global variables to store latest calculated results
      let lastCalculatedInvestment = 0;
      let lastCalculatedReturns = 0;
      let lastCalculatedTotal = 0;
      let lastCalculatedGrowthPercentage = 0;
      let lastCalculatedRequiredLumpsum = 0;
      let lastCalculatedInflationAdjustedTarget = 0; // New global variable for inflation adjusted target
      let lastExpectedInflation = 0; // Added for sharing

      // Initialize chart with specific colors and simplified legend
      function initChart() {
        const ctx = document.getElementById("lumpsumChart").getContext("2d");
        chart = new Chart(ctx, {
          type: "doughnut",
          data: {
            labels: ["Invested amount", "Est. returns"], // Default labels for Lumpsum mode
            datasets: [
              {
                data: [1000000, 2104000], // Initial dummy data for Lumpsum mode (10L invested, 21.04L returns)
                backgroundColor: [
                  "#d1d5db", // Light grey for invested amount
                  "#161f48", // Secondary color for estimated returns
                ],
                borderColor: "white",
                borderWidth: 2,
                cutout: "80%",
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: true,
            plugins: {
              legend: {
                display: false, // Custom legend handled in HTML
              },
              tooltip: {
                enabled: true,
                callbacks: {
                  label: function (context) {
                    let label = context.label || "";
                    if (label) {
                      label += ": ";
                    }
                    if (context.parsed !== null) {
                      label += formatCurrency(context.parsed);
                    }
                    return label;
                  },
                },
              },
            },
            animation: {
              animateRotate: true,
              duration: 800,
              easing: "easeOutQuart",
            },
          },
        });
      }
      // Format number to Indian currency format (Lakhs, Crores)
      function formatCurrency(amount) {
        if (amount >= 10000000) {
          return "₹" + (amount / 10000000).toFixed(2) + " Crores";
        } else if (amount >= 100000) {
          return "₹" + (amount / 100000).toFixed(2) + " Lakhs";
        } else {
          return "₹" + Math.round(amount).toLocaleString("en-IN");
        }
      }
      // Formats a number with Indian comma system for input fields
      function formatNumberWithIndianCommas(num) {
        if (isNaN(num) || num === null) return "";
        return Number(num).toLocaleString("en-IN", {
          maximumFractionDigits: 0,
        });
      }
      // Parses an Indian-formatted string back to a number
      function parseIndianFormattedNumber(str) {
        if (!str) return 0;
        return parseFloat(str.replace(/[^0-9.]/g, ""));
      }

      // New function to update all results and their visibility
      function updateResults(
        investment,
        returns,
        total,
        growth,
        inflationAdjustedTarget = 0,
        requiredLumpsum = 0
      ) {
        // Update main values
        document.getElementById("expectedGrowth").textContent =
          formatCurrency(returns);
        document.getElementById("totalValue").textContent =
          formatCurrency(total);
        document.getElementById("totalValueCenter").textContent =
          formatCurrency(total);

        // Get result item elements
        const requiredLumpsumItem = document.getElementById(
          "requiredLumpsumItem"
        );
        const inflationAdjustedTargetItem = document.getElementById(
          "inflationAdjustedTargetItem"
        );
        const investedAmountItem =
          document.getElementById("investedAmountItem");
        const expectedGrowthItem =
          document.getElementById("expectedGrowthItem");
        const totalValueItem = document.getElementById("totalValueItem");
        const growthPercentageItem = document.getElementById(
          "growthPercentageItem"
        );
        const inflationToggle = document.getElementById("inflationToggle");

        // Handle visibility based on mode
        if (isTargetMode) {
          // Target Mode: Show required lumpsum, inflation adjusted target (if enabled), and estimated returns (from target calculation)
          requiredLumpsumItem.classList.remove("hidden");
          document.getElementById("requiredLumpsum").textContent =
            formatCurrency(requiredLumpsum);

          if (inflationToggle.checked) {
            inflationAdjustedTargetItem.classList.remove("hidden");
            document.getElementById(
              "inflationAdjustedTargetValue"
            ).textContent = formatCurrency(inflationAdjustedTarget);
            totalValueItem.classList.add("hidden"); // Hide total value if inflation adjusted target is shown
          } else {
            inflationAdjustedTargetItem.classList.add("hidden");
            totalValueItem.classList.remove("hidden"); // Show total value if inflation adjusted target is not shown
          }

          // In target mode, "Invested amount" label becomes "Est. Lump sum amount invested" (handled by requiredLumpsumItem)
          // "Est. returns" is still relevant, but its value comes from the target calculation
          // "Total value" is the target amount itself
          investedAmountItem.classList.add("hidden"); // Hide the original "Invested amount"
          growthPercentageItem.classList.add("hidden"); // Hide growth percentage in target mode

          // Update chart data: required investment vs expected growth to reach target
          chart.data.datasets[0].data = [requiredLumpsum, returns]; // returns here is the 'expected growth' to reach target
          chart.data.labels = ["Required Investment", "Expected Growth"];
        } else {
          // Lumpsum Mode: Show invested amount, estimated returns, total value, growth percentage
          requiredLumpsumItem.classList.add("hidden");
          inflationAdjustedTargetItem.classList.add("hidden");
          investedAmountItem.classList.remove("hidden");
          growthPercentageItem.classList.remove("hidden");
          totalValueItem.classList.remove("hidden"); // Always show total value in lumpsum mode

          document.getElementById("totalInvestment").textContent =
            formatCurrency(investment);
          document.getElementById("growthPercentage").textContent =
            growth.toFixed(1) + "%";

          // Update chart data: invested amount vs estimated returns
          chart.data.datasets[0].data = [investment, returns];
          chart.data.labels = ["Invested amount", "Est. returns"];
        }

        chart.update("active");

        // Store raw values for sharing
        lastCalculatedInvestment = investment;
        lastCalculatedReturns = returns;
        lastCalculatedTotal = total;
        lastCalculatedGrowthPercentage = growth;
        lastCalculatedRequiredLumpsum = requiredLumpsum;
        lastCalculatedInflationAdjustedTarget = inflationAdjustedTarget;
      }

      // Calculate required Lumpsum (Target Mode)
      function calculateRequiredLumpsumInvestment() {
        const targetAmount = parseIndianFormattedNumber(
          document.getElementById("amountInput").value
        );
        const annualReturn = parseFloat(
          document.getElementById("returnInput").value
        );
        const years = parseInt(document.getElementById("timeInput").value);
        const inflationEnabled =
          document.getElementById("inflationToggle").checked;
        const expectedInflation = inflationEnabled
          ? parseFloat(document.getElementById("inflationInput").value)
          : 0;
        lastExpectedInflation = expectedInflation; // Store for sharing

        let inflationAdjustedTarget = targetAmount;
        // Adjust target amount for inflation if toggle is on
        if (inflationEnabled) {
          const inflationRatePerPeriod = expectedInflation / 100;
          // Corrected: Target amount needs to be higher to maintain purchasing power
          inflationAdjustedTarget =
            targetAmount * Math.pow(1 + inflationRatePerPeriod, years);
        }

        let requiredLumpsum = 0;
        if (annualReturn === 0) {
          requiredLumpsum = inflationAdjustedTarget;
        } else {
          requiredLumpsum =
            inflationAdjustedTarget / Math.pow(1 + annualReturn / 100, years);
        }

        // For chart and other results, calculate what this required Lumpsum would yield
        const futureValueFromRequiredLumpsum =
          requiredLumpsum * Math.pow(1 + annualReturn / 100, years);
        const expectedGrowth = futureValueFromRequiredLumpsum - requiredLumpsum;

        // Update display using the new updateResults function
        updateResults(
          requiredLumpsum, // This is the 'investment' for chart purposes in target mode
          expectedGrowth, // This is the 'returns' for chart purposes in target mode
          inflationAdjustedTarget, // Total value is the inflation adjusted target
          0, // Growth percentage is not shown in target mode
          inflationAdjustedTarget, // Pass inflation adjusted target
          requiredLumpsum // Pass required lumpsum
        );
      }

      // Calculate Lumpsum (Lumpsum Investment Mode)
      function calculateLumpsumInvestment() {
        const lumpsumInvestment = parseIndianFormattedNumber(
          document.getElementById("amountInput").value
        );
        const annualReturn = parseFloat(
          document.getElementById("returnInput").value
        );
        const years = parseInt(document.getElementById("timeInput").value);

        const futureValue =
          lumpsumInvestment * Math.pow(1 + annualReturn / 100, years);
        const totalInvestment = lumpsumInvestment;
        const expectedReturns = futureValue - totalInvestment;
        const growthPercentage =
          totalInvestment > 0 ? (expectedReturns / totalInvestment) * 100 : 0;

        // Update display using the new updateResults function
        updateResults(
          totalInvestment,
          expectedReturns,
          futureValue,
          growthPercentage,
          0, // No inflation adjusted target in lumpsum mode
          0 // No required lumpsum in lumpsum mode
        );
      }

      // Toggle between modes (Lumpsum vs Target)
      function toggleMode(targetMode) {
        isTargetMode = targetMode;
        const lumpsumBtn = document.getElementById("lumpsumModeBtn");
        const targetBtn = document.getElementById("targetModeBtn");

        const inflationToggleSection = document.getElementById(
          "inflationToggleSection"
        );
        const inflationToggle = document.getElementById("inflationToggle");
        const inflationControls = document.getElementById("inflationControls");

        const amountLabel = document.getElementById("amountLabel");
        const amountInput = document.getElementById("amountInput");
        const amountSlider = document.getElementById("amountSlider");
        const amountMinSpan = amountSlider.nextElementSibling.children[0];
        const amountMaxSpan = amountSlider.nextElementSibling.children[1];

        const legendLabel1 = document.getElementById("legendLabel1");
        const legendLabel2 = document.getElementById("legendLabel2");

        // Reset inflation toggle and hide controls when switching modes
        inflationToggle.checked = false;
        inflationControls.classList.add(
          "hidden",
          "opacity-50",
          "pointer-events-none"
        );

        if (targetMode) {
          // Switch to Target Mode
          targetBtn.classList.add("bg-white", "text-gray-800", "shadow-sm");
          targetBtn.classList.remove("text-gray-600", "hover:bg-gray-200");
          lumpsumBtn.classList.remove("bg-white", "text-gray-800", "shadow-sm");
          lumpsumBtn.classList.add("text-gray-600", "hover:bg-gray-200");

          // Show inflation controls toggle
          inflationToggleSection.classList.remove("hidden");

          // Update input controls
          amountLabel.textContent = "Target Amount";
          amountInput.value = formatNumberWithIndianCommas(1000000); // Default target 10L
          amountInput.min = "100000"; // Min target 1 Lakh
          amountInput.max = "10000000"; // Max target 1 Cr
          amountSlider.value = "1000000";
          amountSlider.min = "100000";
          amountSlider.max = "10000000";
          amountMinSpan.textContent = "₹1L";
          amountMaxSpan.textContent = "₹1Cr";

          // Update legend labels for chart
          legendLabel1.textContent = "Required Investment";
          legendLabel2.textContent = "Expected Growth";

          calculateRequiredLumpsumInvestment();
        } else {
          // Switch to Lumpsum Mode
          lumpsumBtn.classList.add("bg-white", "text-gray-800", "shadow-sm");
          lumpsumBtn.classList.remove("text-gray-600", "hover:bg-gray-200");
          targetBtn.classList.remove("bg-white", "text-gray-800", "shadow-sm");
          targetBtn.classList.add("text-gray-600", "hover:bg-gray-200");

          // Hide inflation controls
          inflationToggleSection.classList.add("hidden");
          inflationControls.classList.add("hidden"); // Ensure inflation input is hidden

          // Update input controls
          amountLabel.textContent = "Lumpsum Investment";
          amountInput.value = formatNumberWithIndianCommas(1000000); // Default lumpsum 10L
          amountInput.min = "10000";
          amountInput.max = "100000000"; // Max lumpsum 10Cr
          amountSlider.value = "1000000";
          amountSlider.min = "10000";
          amountSlider.max = "100000000";
          amountMinSpan.textContent = "₹10K";
          amountMaxSpan.textContent = "₹10Cr";

          // Update legend labels for chart
          legendLabel1.textContent = "Invested amount";
          legendLabel2.textContent = "Est. returns";

          calculateLumpsumInvestment();
        }
      }
      // Function to generate email content and open mail client
      function sendEmailPlan() {
        const subject = encodeURIComponent("My Lumpsum Calculator Plan");
        let body = `Hello,\n\nHere is my Lumpsum calculation plan:\n\n`;

        body += `Expected Return Rate: ${
          document.getElementById("returnInput").value
        }%\n`;
        body += `Time Period: ${
          document.getElementById("timeInput").value
        } Years\n\n`;

        body += `--- Results ---\n`;

        if (isTargetMode) {
          body += `Mode: Target Amount\n`;
          body += `Target Amount: ${formatCurrency(
            parseIndianFormattedNumber(
              document.getElementById("amountInput").value
            )
          )}\n`;

          const inflationEnabled =
            document.getElementById("inflationToggle").checked;

          if (inflationEnabled) {
            body += `Expected Inflation: ${lastExpectedInflation.toFixed(
              1
            )}%\n`;
            body += `Target amount (inflation adjusted): ${formatCurrency(
              lastCalculatedInflationAdjustedTarget
            )}\n`;
          } else {
            body += `Expected Inflation: Not considered\n`;
          }

          body += `Est. Lumpsum amount invested: ${formatCurrency(
            lastCalculatedRequiredLumpsum
          )}\n`;

          body += `Estimated returns: ${formatCurrency(
            lastCalculatedReturns
          )}\n`;

          if (!inflationEnabled) {
            body += `Total value: ${formatCurrency(lastCalculatedTotal)}\n\n`;
          }
        } else {
          body += `Mode: Lumpsum Investment\n`;
          body += `Lumpsum Investment: ${formatCurrency(
            lastCalculatedInvestment
          )}\n`;
          body += `Estimated returns: ${formatCurrency(
            lastCalculatedReturns
          )}\n`;
          body += `Total value: ${formatCurrency(lastCalculatedTotal)}\n`;
          body += `Growth Percentage: ${lastCalculatedGrowthPercentage.toFixed(
            1
          )}%\n\n`;
        }

        body += `Calculated using Chimulkar Financial Services Lumpsum Calculator.\n`;
        body += `Calculate yours now at ${window.location.href}`;

        window.location.href = `mailto:?subject=${subject}&body=${encodeURIComponent(
          body
        )}`;
      }

      // Function to generate WhatsApp message and open WhatsApp
      function sendWhatsAppPlan() {
        let message = `My Lumpsum Calculation Plan:\n\n`;

        message += `Expected Return Rate: *${
          document.getElementById("returnInput").value
        }%*\n`;
        message += `Time Period: *${
          document.getElementById("timeInput").value
        } Years*\n\n`;

        message += `--- Results ---\n`;

        if (isTargetMode) {
          message += `Mode: *Target Amount*\n`;
          message += `Target Amount: *${formatCurrency(
            parseIndianFormattedNumber(
              document.getElementById("amountInput").value
            )
          )}*\n`;

          const inflationEnabled =
            document.getElementById("inflationToggle").checked;

          if (inflationEnabled) {
            message += `Expected Inflation: *${lastExpectedInflation.toFixed(
              1
            )}%*\n`;
            message += `Target amount (inflation adjusted): *${formatCurrency(
              lastCalculatedInflationAdjustedTarget
            )}*\n`;
          } else {
            message += `Expected Inflation: *Not considered*\n`;
          }

          message += `Est. Lumpsum amount invested: *${formatCurrency(
            lastCalculatedRequiredLumpsum
          )}*\n`;

          message += `Estimated returns: *${formatCurrency(
            lastCalculatedReturns
          )}*\n`;

          if (!inflationEnabled) {
            message += `Total value: *${formatCurrency(
              lastCalculatedTotal
            )}*\n\n`;
          }
        } else {
          message += `Mode: *Lumpsum Investment*\n`;
          message += `Lumpsum Investment: *${formatCurrency(
            lastCalculatedInvestment
          )}*\n`;
          message += `Estimated returns: *${formatCurrency(
            lastCalculatedReturns
          )}*\n`;
          message += `Total value: *${formatCurrency(lastCalculatedTotal)}*\n`;
          message += `Growth Percentage: *${lastCalculatedGrowthPercentage.toFixed(
            1
          )}%*\n\n`;
        }

        message += `Calculated using Chimulkar Financial Services Lumpsum Calculator.\n`;
        message += `Calculate yours now at *${window.location.href}*`;

        window.open(
          `https://wa.me/?text=${encodeURIComponent(message)}`,
          "_blank"
        );
      }

      // Function to download a screenshot of the calculator
      function downloadCalculatorImage() {
        const calculatorElement = document.getElementById(
          "calculatorContainer"
        );
        html2canvas(calculatorElement, {
          scale: 2,
          useCORS: true,
          logging: false,
        })
          .then((canvas) => {
            const link = document.createElement("a");
            link.download = "lumpsum_calculator_plan.png";
            link.href = canvas.toDataURL("image/png");
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
          })
          .catch((error) => {
            console.error("Error capturing calculator image:", error);
            alert("Failed to capture image. Please try again.");
          });
      }
      // Setup event listeners
      function setupEventListeners() {
        // Mode toggle
        document
          .getElementById("lumpsumModeBtn")
          .addEventListener("click", () => toggleMode(false));
        document
          .getElementById("targetModeBtn")
          .addEventListener("click", () => toggleMode(true));
        // Inflation toggle
        const inflationToggle = document.getElementById("inflationToggle");
        const inflationControls = document.getElementById("inflationControls");
        inflationToggle.addEventListener("change", function () {
          if (this.checked) {
            inflationControls.classList.remove(
              "hidden",
              "opacity-50",
              "pointer-events-none"
            );
          } else {
            inflationControls.classList.add(
              "hidden",
              "opacity-50",
              "pointer-events-none"
            );
          }
          if (isTargetMode) {
            calculateRequiredLumpsumInvestment();
          }
        });
        // Action Buttons
        document
          .getElementById("emailPlanBtn")
          .addEventListener("click", sendEmailPlan);
        document
          .getElementById("whatsappBtn")
          .addEventListener("click", sendWhatsAppPlan);
        document
          .getElementById("downloadImageBtn")
          .addEventListener("click", downloadCalculatorImage);
        // Input and Slider sync
        const inputs = [
          { id: "amount", slider: "amountSlider", input: "amountInput" },
          { id: "return", slider: "returnSlider", input: "returnInput" },
          { id: "time", slider: "timeSlider", input: "timeInput" },
          {
            id: "inflation",
            slider: "inflationSlider",
            input: "inflationInput",
          },
        ];
        inputs.forEach((item) => {
          const slider = document.getElementById(item.slider);
          const input = document.getElementById(item.input);
          if (item.id === "amount") {
            // Special handling for amount input with Indian commas
            input.addEventListener("input", function () {
              let parsedValue = parseIndianFormattedNumber(this.value);
              slider.value = parsedValue;
              this.value = formatNumberWithIndianCommas(parsedValue);
              isTargetMode
                ? calculateRequiredLumpsumInvestment()
                : calculateLumpsumInvestment();
            });
            slider.addEventListener("input", function () {
              input.value = formatNumberWithIndianCommas(
                parseFloat(this.value)
              );
              isTargetMode
                ? calculateRequiredLumpsumInvestment()
                : calculateLumpsumInvestment();
            });
          } else {
            // Standard handling for other number inputs
            input.addEventListener("input", function () {
              slider.value = this.value;
              isTargetMode
                ? calculateRequiredLumpsumInvestment()
                : calculateLumpsumInvestment();
            });
            slider.addEventListener("input", function () {
              input.value = this.value;
              isTargetMode
                ? calculateRequiredLumpsumInvestment()
                : calculateLumpsumInvestment();
            });
          }
        });
      }
      // Initialize everything on load
      window.addEventListener("load", function () {
        initChart();
        setupEventListeners();
        // Initial calculation (default to Lumpsum Investment Mode)
        calculateLumpsumInvestment();
      });
    </script>
  </body>
</html>
