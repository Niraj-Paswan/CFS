<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SIP Calculator - CFS</title>
    <link rel="shortcut icon" href="../assets/Logo.svg" type="image/x-icon" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Include html2canvas library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Poppins", sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }
      /* Custom Slider Styles */
      .custom-slider {
        -webkit-appearance: none;
        appearance: none;
        height: 6px;
        border-radius: 3px;
        background: #e5e7eb; /* Light grey track - NOT FILLED */
        outline: none;
        transition: all 0.3s ease;
      }
      .custom-slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: #fcaf1b; /* Primary color for thumb */
        cursor: grab;
        border: none;
        box-shadow: 0 2px 6px rgba(252, 175, 27, 0.4); /* Shadow matching primary */
        transition: all 0.2s ease;
      }
      .custom-slider::-webkit-slider-thumb:active {
        cursor: grabbing;
      }
      .custom-slider::-moz-range-thumb {
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: #fcaf1b; /* Primary color for thumb */
        cursor: grab;
        border: none;
        box-shadow: 0 2px 6px rgba(252, 175, 27, 0.4); /* Shadow matching primary */
        transition: all 0.2s ease;
      }
      /* Toggle Switch */
      .toggle-switch {
        position: relative;
        display: inline-block;
        width: 48px;
        height: 28px;
      }
      .toggle-switch input {
        opacity: 0;
        width: 0;
        height: 0;
      }
      .toggle-slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #e5e7eb;
        transition: all 0.3s ease;
        border-radius: 28px;
      }
      .toggle-slider:before {
        position: absolute;
        content: "";
        height: 20px;
        width: 20px;
        left: 4px;
        bottom: 4px;
        background-color: white;
        transition: all 0.3s ease;
        border-radius: 50%;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
      }
      input:checked + .toggle-slider {
        background-color: #161f48; /* Secondary color for active toggle */
      }
      input:checked + .toggle-slider:before {
        transform: translateX(20px);
      }
      /* Input field styling */
      .input-value-box {
        background-color: #f3f4f6; /* Light grey background */
        border-radius: 8px;
        padding: 8px 12px;
        font-weight: 600;
        color: #1f2937;
        display: flex;
        align-items: center;
        gap: 4px;
        transition: all 0.2s ease;
      }
      .input-value-box:focus-within {
        box-shadow: 0 0 0 2px rgba(22, 31, 72, 0.2); /* Shadow matching secondary */
      }
      .input-value-box input {
        background: none;
        border: none;
        outline: none;
        width: 100%;
        font-weight: 600;
        color: #1f2937;
        text-align: right; /* Align text to right */
        padding: 0; /* Remove default padding */
      }
      /* Result item styling */
      .result-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 12px 0;
        border-bottom: 1px solid #f3f4f6;
      }
      .result-item:last-child {
        border-bottom: none;
      }
      .result-item .label {
        font-weight: 500;
        color: #4b5563;
      }
      .result-item .value {
        font-weight: 600;
        color: #1f2937;
      }
      /* Chart legend dots */
      .chart-legend-dot {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        display: inline-block;
        margin-right: 8px;
      }
    </style>
  </head>
  <body
    class="bg-gray-100 flex items-center justify-center min-h-screen flex-col"
  >
    <div
      class="max-w-6xl w-full flex justify-center items-center text-center flex-col mt-16 p-4"
    >
      <div class="text-center mb-8 mt-8">
        <h1 class="text-2xl lg:text-4xl font-semibold text-black mb-3">
          Systematic Investment Plan
          <span class="text-[#fcaf1b]">Calculator</span>
        </h1>
        <p class="text-gray-500 text-base lg:text-lg">
          Easily plan, save, or share your SIP goals in one place.
        </p>
      </div>
      <div
        id="calculatorContainer"
        class="max-w-6xl w-full bg-white p-4 rounded-3xl border border-gray-300 overflow-hidden"
      >
        <!-- Mode Toggle (Investment vs Target) -->
        <div class="flex justify-center p-2 mt-1 border-b border-gray-100">
          <div class="inline-flex bg-gray-100 rounded-lg p-1">
            <button
              id="investmentModeBtn"
              class="px-5 py-2 text-base font-medium rounded-md transition-colors duration-200 bg-white text-black shadow-base"
            >
              Monthly Investment
            </button>
            <button
              id="targetModeBtn"
              class="px-5 py-2 text-base font-medium rounded-md transition-colors duration-200 text-black hover:bg-gray-200"
            >
              Target Amount
            </button>
          </div>
        </div>
        <div class="grid lg:grid-cols-2 gap-8 p-8">
          <!-- Left Side - Input Controls -->
          <div class="space-y-8">
            <!-- Monthly Investment / Target Amount -->
            <div>
              <div class="flex items-center justify-between mb-3">
                <label
                  id="amountLabel"
                  class="text-lg font-medium text-gray-700"
                  >Monthly Investment</label
                >
                <div class="input-value-box w-40">
                  <span class="text-gray-500">₹</span>
                  <input
                    type="text"
                    id="amountInput"
                    value="25,000"
                    min="500"
                    max="1000000"
                    step="500"
                  />
                </div>
              </div>
              <input
                type="range"
                id="amountSlider"
                min="500"
                max="1000000"
                value="25000"
                step="500"
                class="custom-slider w-full mt-4"
              />
              <div class="flex justify-between text-xs text-gray-500 mt-2">
                <span>₹500</span>
                <span>₹10L</span>
              </div>
            </div>
            <!-- Expected Return Rate -->
            <div>
              <div class="flex items-center justify-between mb-3">
                <label class="text-lg text-start font-medium text-gray-700"
                  >Expected return rate (p.a)</label
                >
                <div class="input-value-box w-32">
                  <input
                    type="number"
                    id="returnInput"
                    value="12"
                    min="1"
                    max="30"
                    step="0.1"
                  />
                  <span class="text-gray-500">%</span>
                </div>
              </div>
              <input
                type="range"
                id="returnSlider"
                min="1"
                max="30"
                value="12"
                step="0.1"
                class="custom-slider w-full mt-4"
              />
              <div class="flex justify-between text-xs text-gray-500 mt-2">
                <span>1%</span>
                <span>30%</span>
              </div>
            </div>
            <!-- Time Period -->
            <div>
              <div class="flex items-center justify-between mb-3">
                <label class="text-lg font-medium text-gray-700"
                  >Time period</label
                >
                <div class="input-value-box w-32">
                  <input
                    type="number"
                    id="timeInput"
                    value="10"
                    min="1"
                    max="50"
                    step="1"
                  />
                  <span class="text-gray-500">Y</span>
                </div>
              </div>
              <input
                type="range"
                id="timeSlider"
                min="1"
                max="50"
                value="10"
                step="1"
                class="custom-slider w-full mt-4"
              />
              <div class="flex justify-between text-xs text-gray-500 mt-2">
                <span>1Y</span>
                <span>50Y</span>
              </div>
            </div>
            <!-- Annual Step-up (Visible only in Investment Mode) -->
            <div id="stepUpSection">
              <div class="flex items-center justify-between mb-3">
                <label class="text-lg font-medium text-gray-700"
                  >Annual Step-up</label
                >
                <div class="flex items-center space-x-2">
                  <span class="text-sm text-gray-600">No</span>
                  <label class="toggle-switch">
                    <input type="checkbox" id="stepUpToggle" />
                    <span class="toggle-slider"></span>
                  </label>
                  <span class="text-sm text-gray-600">Yes</span>
                </div>
              </div>
              <div
                id="stepUpControls"
                class="hidden opacity-50 pointer-events-none transition-all duration-300"
              >
                <div class="flex items-center justify-end mt-4">
                  <div class="input-value-box w-32">
                    <input
                      type="number"
                      id="stepUpInput"
                      value="5"
                      min="0"
                      max="20"
                      step="0.1"
                    />
                    <span class="text-gray-500">%</span>
                  </div>
                </div>
                <input
                  type="range"
                  id="stepUpSlider"
                  min="0"
                  max="20"
                  value="5"
                  step="0.1"
                  class="custom-slider w-full mt-4"
                />
                <div class="flex justify-between text-xs text-gray-500 mt-2">
                  <span>0%</span>
                  <span>20%</span>
                </div>
              </div>
            </div>
            <!-- Expected Inflation (Visible only in Target Amount Mode) -->
            <div id="inflationSection" class="hidden">
              <div class="flex items-center justify-between mb-3">
                <label class="text-lg font-medium text-gray-700"
                  >Expected Inflation (p.a)</label
                >
                <div class="flex items-center space-x-2">
                  <span class="text-sm text-gray-600">No</span>
                  <label class="toggle-switch">
                    <input type="checkbox" id="inflationToggle" />
                    <span class="toggle-slider"></span>
                  </label>
                  <span class="text-sm text-gray-600">Yes</span>
                </div>
              </div>
              <div
                id="inflationControls"
                class="hidden opacity-50 pointer-events-none transition-all duration-300"
              >
                <div class="flex items-center justify-between">
                  <div class="input-value-box w-32">
                    <input
                      type="number"
                      id="inflationInput"
                      value="5"
                      min="0"
                      max="15"
                      step="0.1"
                    />
                    <span class="text-gray-500">%</span>
                  </div>
                </div>
                <input
                  type="range"
                  id="inflationSlider"
                  min="0"
                  max="15"
                  value="5"
                  step="0.1"
                  class="custom-slider w-full mt-4"
                />
                <div class="flex justify-between text-xs text-gray-500 mt-2">
                  <span>0%</span>
                  <span>15%</span>
                </div>
              </div>
            </div>

            <!-- Trigger Text -->
            <h1
              id="openDisclaimer"
              class="text-sm text-blue-600 hover:underline hover:cursor-pointer text-start"
            >
              View Disclaimer
            </h1>

            <!-- Modal -->
            <div
              id="disclaimerModal"
              class="fixed inset-0 p-4 bg-black bg-opacity-50 flex items-center justify-center hidden z-50 transition-opacity duration-300"
            >
              <div
                class="bg-white rounded-2xl shadow-lg max-w-4xl w-full p-8 relative transform transition-transform duration-300 scale-95"
                id="modalContent"
              >
                <!-- Close Button -->
                <button
                  id="closeDisclaimer"
                  class="absolute top-3 right-3 flex items-center justify-center w-8 h-8 bg-gray-200 rounded-full hover:bg-gray-300 transition-colors duration-200 group"
                >
                  <i
                    data-lucide="x"
                    class="text-gray-600 w-4 h-4 group-hover:rotate-90 transition-transform duration-300"
                  ></i>
                </button>

                <!-- Title -->
                <h2 class="text-lg font-semibold mb-4 text-blue-700">
                  Disclaimer ⚠️
                </h2>

                <!-- Content -->
                <p class="text-sm text-gray-700 leading-relaxed text-start">
                  These Calculators alone are not sufficient and shouldn't be
                  used for development or implementation of an investment
                  strategy. The examples do not purport to represent the
                  performance of any security or investments. The recipient is
                  advised to consult his or her advisor/tax consultant prior to
                  arriving at any investment decision. Mutual Funds do not have
                  a fixed rate of return and it is not possible to predict the
                  rate of return. Past performance may or may not be sustained
                  in future and is not a guarantee of any future returns. Mutual
                  Fund Investments are subject to market risks, read all scheme
                  related documents carefully.
                </p>
              </div>
            </div>

            <script>
              const openBtn = document.getElementById("openDisclaimer");
              const closeBtn = document.getElementById("closeDisclaimer");
              const modal = document.getElementById("disclaimerModal");
              const modalContent = document.getElementById("modalContent");

              openBtn.addEventListener("click", () => {
                modal.classList.remove("hidden");
                setTimeout(() => {
                  modal.classList.add("opacity-100");
                  modalContent.classList.remove("scale-95");
                  modalContent.classList.add("scale-100");
                }, 10);
              });

              const closeModal = () => {
                modalContent.classList.remove("scale-100");
                modalContent.classList.add("scale-95");
                modal.classList.remove("opacity-100");
                setTimeout(() => {
                  modal.classList.add("hidden");
                }, 300);
              };

              closeBtn.addEventListener("click", closeModal);

              modal.addEventListener("click", (e) => {
                if (e.target === modal) closeModal();
              });
            </script>

            <!-- Lucide Icons -->
            <script src="https://unpkg.com/lucide@latest"></script>
            <script>
              lucide.createIcons();
            </script>
          </div>
          <!-- Right Side - Results and Chart -->
          <div class="space-y-8">
            <!-- Chart -->
            <div class="flex justify-center items-center h-64">
              <div class="relative w-64 h-64">
                <canvas id="sipChart"></canvas>
                <div class="absolute inset-0 flex items-center justify-center">
                  <div class="text-center">
                    <div class="text-sm text-gray-500">Total Value</div>
                    <div
                      id="totalValueCenter"
                      class="text-xl font-semibold text-gray-800"
                    >
                      ₹58.08 L
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- Chart Legend -->
            <div class="flex justify-center space-x-6 text-sm text-gray-600">
              <div>
                <span class="chart-legend-dot bg-gray-300"></span>
                <span>Invested amount</span>
              </div>
              <div>
                <span
                  class="chart-legend-dot"
                  style="background-color: #161f48"
                ></span>
                <!-- Secondary color for legend dot -->
                <span>Est. returns</span>
              </div>
            </div>
            <!-- Results -->
            <div class="space-y-2">
              <!-- Monthly SIP Required (for target amount mode) -->
              <div id="sipRequired" class="hidden result-item">
                <span class="label" style="color: #161f48"
                  >Est. monthly SIP required</span
                >
                <span
                  id="requiredSip"
                  class="value"
                  style="color: #161f48; font-size: 1.25rem"
                  >₹10,000</span
                >
              </div>

              <!-- Target amount (inflation adjusted) (for target amount mode) -->
              <div id="inflationAdjustedTargetItem" class="hidden result-item">
                <span class="label text-start" style="color: #161f48"
                  >Target amount (inflation adjusted)</span
                >
                <span
                  id="inflationAdjustedTargetValue"
                  class="value text-end"
                  style="color: #161f48; font-size: 1.25rem"
                  >₹0.00 L</span
                >
              </div>

              <!-- New: Est. Total amount invested in (X) years (for target mode) -->
              <div
                id="estimatedTotalInvestedYearsItem"
                class="hidden result-item text-start"
              >
                <span class="label"
                  >Est. Total amount invested in (<span id="timePeriodLabel"
                    >10</span
                  >) years</span
                >
                <span
                  id="estimatedTotalInvestedYearsValue"
                  class="value text-end"
                  >₹0.00 L</span
                >
              </div>

              <!-- Original Invested amount (label changes based on mode) -->
              <div class="result-item" id="investedAmountItem">
                <span class="label" id="totalInvestmentLabel"
                  >Invested amount</span
                >
                <span id="totalInvestment" class="value">₹30.00 L</span>
              </div>

              <!-- Original Est. returns (label changes based on mode) -->
              <div class="result-item">
                <span class="label" id="expectedGrowthLabel">Est. returns</span>
                <span id="expectedGrowth" class="value">₹28.08 L</span>
              </div>

              <!-- Original Total value -->
              <div class="result-item">
                <span class="label">Total value</span>
                <span id="totalValue" class="value text-lg font-bold"
                  >₹58.08 L</span
                >
              </div>

              <!-- Growth Percentage (hidden in target mode) -->
              <div id="growthPercentageItem" class="result-item">
                <span class="label">Growth Percentage</span>
                <span
                  id="growthPercentage"
                  class="value text-lg font-bold bg-[#161f48]/10 rounded-full px-4 py-1"
                  >93.6%</span
                >
              </div>
            </div>
          </div>
        </div>
        <!-- Action Buttons -->
        <div class="p-8 border-t border-gray-200">
          <div class="flex flex-wrap gap-4 justify-center">
            <button
              id="emailPlanBtn"
              class="flex items-center gap-2 text-sm lg:text-base px-4 lg:px-6 py-2 lg:py-3 rounded-full text-black border border-gray-300 hover:bg-gray-100 transition-colors cursor-pointer"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                x="0px"
                y="0px"
                width="24"
                height="24"
                viewBox="0 0 48 48"
              >
                <path
                  fill="#4caf50"
                  d="M45,16.2l-5,2.75l-5,4.75L35,40h7c1.657,0,3-1.343,3-3V16.2z"
                ></path>
                <path
                  fill="#1e88e5"
                  d="M3,16.2l3.614,1.71L13,23.7V40H6c-1.657,0-3-1.343-3-3V16.2z"
                ></path>
                <polygon
                  fill="#e53935"
                  points="35,11.2 24,19.45 13,11.2 12,17 13,23.7 24,31.95 35,23.7 36,17"
                ></polygon>
                <path
                  fill="#c62828"
                  d="M3,12.298V16.2l10,7.5V11.2L9.876,8.859C9.132,8.301,8.228,8,7.298,8h0C4.924,8,3,9.924,3,12.298z"
                ></path>
                <path
                  fill="#fbc02d"
                  d="M45,12.298V16.2l-10,7.5V11.2l3.124-2.341C38.868,8.301,39.772,8,40.702,8h0 C43.076,8,45,9.924,45,12.298z"
                ></path>
              </svg>
              Email Plan
            </button>
            <button
              id="whatsappBtn"
              class="flex items-center gap-2 text-base px-6 py-3 rounded-full text-black border border-gray-300 hover:bg-gray-100 transition-colors cursor-pointer"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                x="0px"
                y="0px"
                width="24"
                height="24"
                viewBox="0 0 48 48"
              >
                <path
                  fill="#fff"
                  d="M4.9,43.3l2.7-9.8C5.9,30.6,5,27.3,5,24C5,13.5,13.5,5,24,5c5.1,0,9.8,2,13.4,5.6C41,14.2,43,18.9,43,24 c0,10.5-8.5,19-19,19c0,0,0,0,0,0h0c-3.2,0-6.3-0.8-9.1-2.3L4.9,43.3z"
                ></path>
                <path
                  fill="#fff"
                  d="M4.9,43.8c-0.1,0-0.3-0.1-0.4-0.1c-0.1-0.1-0.2-0.3-0.1-0.5L7,33.5c-1.6-2.9-2.5-6.2-2.5-9.6 C4.5,13.2,13.3,4.5,24,4.5c5.2,0,10.1,2,13.8,5.7c3.7,3.7,5.7,8.6,5.7,13.8c0,10.7-8.7,19.5-19.5,19.5c-3.2,0-6.3-0.8-9.1-2.3 L5,43.8C5,43.8,4.9,43.8,4.9,43.8z"
                ></path>
                <path
                  fill="#cfd8dc"
                  d="M24,5c5.1,0,9.8,2,13.4,5.6C41,14.2,43,18.9,43,24c0,10.5-8.5,19-19,19h0c-3.2,0-6.3-0.8-9.1-2.3L4.9,43.3 l2.7-9.8C5.9,30.6,5,27.3,5,24C5,13.5,13.5,5,24,5 M24,43L24,43L24,43 M24,43L24,43L24,43 M24,4L24,4C13,4,4,13,4,24 c0,3.4,0.8,6.7,2.5,9.6L3.9,43c-0.1,0.3,0,0.7,0.3,1c0.2,0.2,0.4,0.3,0.7,0.3c0.1,0,0.2,0,0.3,0l9.7-2.5c2.8,1.5,6,2.2,9.2,2.2 c11,0,20-9,20-20c0-5.3-2.1-10.4-5.8-14.1C34.4,6.1,29.4,4,24,4L24,4z"
                ></path>
                <path
                  fill="#40c351"
                  d="M35.2,12.8c-3-3-6.9-4.6-11.2-4.6C15.3,8.2,8.2,15.3,8.2,24c0,3,0.8,5.9,2.4,8.4L11,33l-1.6,5.8l6-1.6l0.6,0.3 c2.4,1.4,5.2,2.2,8,2.2h0c8.7,0,15.8-7.1,15.8-15.8C39.8,19.8,38.2,15.8,35.2,12.8z"
                ></path>
                <path
                  fill="#fff"
                  fill-rule="evenodd"
                  d="M19.3,16c-0.4-0.8-0.7-0.8-1.1-0.8c-0.3,0-0.6,0-0.9,0s-0.8,0.1-1.3,0.6c-0.4,0.5-1.7,1.6-1.7,4 s1.7,4.6,1.9,4.9s3.3,5.3,8.1,7.2c4,1.6,4.8,1.3,5.7,1.2c0.9-0.1,2.8-1.1,3.2-2.3c0.4-1.1,0.4-2.1,0.3-2.3c-0.1-0.2-0.4-0.3-0.9-0.6 s-2.8-1.4-3.2-1.5c-0.4-0.2-0.8-0.2-1.1,0.2c-0.3,0.5-1.2,1.5-1.5,1.9c-0.3,0.3-0.6,0.4-1,0.1c-0.5-0.2-2-0.7-3.8-2.4 c-1.4-1.3-2.4-2.8-2.6-3.3c-0.3-0.5,0-0.7,0.2-1c0.2-0.2,0.5-0.6,0.7-0.8c0.2-0.3,0.3-0.5,0.5-0.8c0.2-0.3,0.1-0.6,0-0.8 C20.6,19.3,19.7,17,19.3,16z"
                  clip-rule="evenodd"
                ></path>
              </svg>
              WhatsApp
            </button>
            <button
              id="downloadImageBtn"
              class="flex items-center gap-2 text-base px-6 py-3 rounded-full text-black border border-gray-300 hover:bg-gray-100 transition-colors cursor-pointer"
            >
              <i data-lucide="download" class="w-5 h-5"></i>
              Download Image
            </button>
            <a
              href="../index.html#consultation"
              class="inline-flex items-center bg-[#fcaf1b] text-white pl-5 pr-3 py-3 rounded-full text-base gap-3 group transition hover:bg-[#161f48]"
            >
              Start Investing
              <span
                class="bg-white text-black rounded-full p-1.5 flex items-center justify-center transition-transform group-hover:translate-x-1"
              >
                <i data-lucide="arrow-right" class="w-4 h-4"></i>
              </span>
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- =================================================================== -->
    <!-- NAVIGATION HEADER - Fixed position with dropdown menus -->
    <!-- =================================================================== -->
    <header class="bg-[#161f48] shadow-sm fixed w-full top-0 z-50">
      <div
        class="mx-6 lg:mx-12 px-2 py-3 flex items-center justify-between relative"
      >
        <!-- Logo -->
        <div class="flex items-center gap-2">
          <img
            src="../assets/CFS TRANSPARENT.png"
            class="h-12 w-auto"
            alt="Chimulkar Financial Services Logo"
          />
        </div>

        <!-- Desktop Navigation -->
        <nav class="hidden md:flex gap-10 text-[16px] font-medium items-center">
          <!-- About Dropdown -->
          <div class="relative group">
            <button
              class="flex items-center gap-1 text-white hover:text-[#fcaf1b] transition cursor-pointer"
            >
              About <i data-lucide="chevron-down" class="w-4 h-4"></i>
            </button>
            <div
              class="absolute top-full left-0 mt-3 text-sm bg-white rounded-2xl p-2 min-w-[15rem] shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200"
            >
              <a
                href="../about-us.html"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="building-2" class="w-5 h-5"></i> About Us
              </a>

              <!-- Nested Team Dropdown -->
              <div class="relative group/team">
                <button
                  class="flex items-center justify-between w-full gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
                >
                  <span class="flex items-center gap-3">
                    <i data-lucide="users" class="w-5 h-5"></i> Our Team
                  </span>
                  <i data-lucide="chevron-right" class="w-4 h-4"></i>
                </button>
                <div
                  class="absolute top-0 left-full ml-2 bg-white rounded-2xl p-2 min-w-[12rem] shadow-lg border border-gray-200 opacity-0 invisible group-hover/team:opacity-100 group-hover/team:visible transition-all duration-200"
                >
                  <a
                    href="../teams/Prashant-Chimulkar.html"
                    class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
                  >
                    <i data-lucide="user" class="w-5 h-5"></i> Prashant
                  </a>
                  <a
                    href="../teams/Pranav-Chimulkar.html"
                    class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
                  >
                    <i data-lucide="user" class="w-5 h-5"></i> Pranav
                  </a>
                </div>
              </div>

              <a
                href="../foundation.html"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="heart-handshake" class="w-5 h-5"></i> Foundation
              </a>
            </div>
          </div>

          <!-- Services Dropdown -->
          <div class="relative group">
            <button
              class="flex items-center gap-1 text-white hover:text-[#fcaf1b] transition cursor-pointer"
            >
              Services <i data-lucide="chevron-down" class="w-4 h-4"></i>
            </button>
            <div
              class="absolute text-sm top-full left-0 mt-3 bg-white rounded-2xl p-2 min-w-[15rem] shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200"
            >
              <a
                href="#service-1"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="layers" class="w-5 h-5"></i> Mutual Funds
              </a>
              <a
                href="#service-2"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="calendar-check" class="w-5 h-5"></i> Retirement
                Planning
              </a>
              <a
                href="#service-3"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="file-text" class="w-5 h-5"></i> Tax Planning
              </a>
              <a
                href="#service-4"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="shield-check" class="w-5 h-5"></i> Insurance
                Planning
              </a>
              <a
                href="#service-4"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="graduation-cap" class="w-5 h-5"></i>
                Education Savings
              </a>
              <a
                href="#service-5"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="archive" class="w-5 h-5"></i> Legacy Planning
              </a>
            </div>
          </div>

          <!-- Calculator Dropdown -->
          <div class="relative group">
            <button
              class="flex items-center gap-1 text-white hover:text-[#fcaf1b] transition cursor-pointer"
            >
              Calculator <i data-lucide="chevron-down" class="w-4 h-4"></i>
            </button>
            <div
              class="absolute text-sm top-full left-0 mt-3 bg-white rounded-2xl p-2 min-w-[15rem] shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200"
            >
              <a
                href="../calculators/sip-calculator.html"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="calculator" class="w-5 h-5"></i> SIP Calculator
              </a>
              <a
                href="../calculators/lump-sump-calculator.html"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="percent" class="w-5 h-5"></i> Lump Sum
              </a>
              <a
                href="../calculators/swp-calculator.html"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="activity" class="w-5 h-5"></i> SWP Calculator
              </a>
              <a
                href="../calculators/inflation-calculator.html"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="trending-up" class="w-5 h-5"></i> Inflation
                Calculator
              </a>
            </div>
          </div>

          <!-- Financial Literacy Dropdown -->
          <div class="relative group">
            <button
              class="flex items-center gap-1 text-white hover:text-[#fcaf1b] transition cursor-pointer"
            >
              Financial Literacy
              <i data-lucide="chevron-down" class="w-4 h-4"></i>
            </button>
            <div
              class="absolute text-sm top-full left-0 mt-3 bg-white rounded-2xl p-2 min-w-[15rem] shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200"
            >
              <a
                href="#lit-1"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="book-open" class="w-5 h-5"></i> Basics
              </a>
              <a
                href="#lit-2"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="lightbulb" class="w-5 h-5"></i> Tips & Guides
              </a>
              <a
                href="#lit-3"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="play-circle" class="w-5 h-5"></i> Video Lessons
              </a>
            </div>
          </div>

          <!-- Simple links -->
          <a
            href="#nri-corner"
            class="text-white hover:text-[#fcaf1b] transition"
            >NRI Corner</a
          >
          <a
            href="../contact-us.html"
            class="text-white hover:text-[#fcaf1b] transition"
            >Contact Us</a
          >
          <a href="#refer-us" class="text-white hover:text-[#fcaf1b] transition"
            >Refer Us</a
          >
        </nav>

        <!-- CTA Button -->
        <a
          href="#"
          class="hidden md:inline-flex items-center border border-transparent bg-[#fcaf1b] text-white pl-5 pr-3 py-2 rounded-full text-sm gap-3 group transition hover:opacity-90 hover:border-primary"
        >
          Get Free Assessment
          <span
            class="bg-white text-black rounded-full p-1.5 flex items-center justify-center transition-transform group-hover:translate-x-1"
          >
            <i data-lucide="arrow-right" class="w-4 h-4"></i>
          </span>
        </a>

        <!-- Mobile Menu Button -->
        <button
          id="menuToggle"
          class="md:hidden p-2 bg-gray-50 border border-gray-300 rounded-full hover:bg-gray-100"
        >
          <i data-lucide="align-right" class="w-6 h-6 text-secondary"></i>
        </button>
      </div>
    </header>

    <!-- Announcement Bar - Positioned below navbar -->
    <!-- <div
      class="fixed top-[72px] w-full h-12 bg-[#161f48] z-40 flex items-center justify-center px-4 text-sm"
    >
      <a href="#" class="flex items-center text-[#fcaf1b] hover:underline">
        Get a no cost, no commitment assessment
        <i data-lucide="arrow-right" class="w-5 h-5 ml-2"></i>
      </a>
      <a href="#" class="hidden lg:inline-flex items-center text-white mr-2">
        <span class="text-[#fcaf1b] mx-2">|</span> Celebrating 40 Years of Trust
      </a>
    </div> -->

    <!-- Mobile Menu Backdrop - Dark overlay when mobile menu is open -->
    <div
      id="backdrop"
      class="fixed inset-0 bg-black/20 backdrop-blur-sm z-40 hidden opacity-0 transition"
    ></div>

    <!-- =================================================================== -->
    <!-- MOBILE NAVIGATION MENU - Slide-in from right -->
    <!-- =================================================================== -->
    <div
      id="mobileMenu"
      class="md:hidden fixed top-0 right-0 h-full max-w-xs bg-white shadow-xl transform translate-x-full transition duration-300 z-50 flex flex-col justify-between overflow-y-auto"
    >
      <!-- Mobile menu content -->
      <div class="p-6 flex flex-col gap-4">
        <!-- Mobile menu header with logo and close button -->
        <div class="flex justify-between items-center mb-4">
          <img src="../assets/Logo.svg" class="h-10" alt="Logo" />
          <button
            id="closeMenu"
            class="p-2 bg-gray-50 text-[#161f48] border border-gray-300 rounded-full hover:bg-gray-100 hover:cursor-pointer"
          >
            <i data-lucide="x" class="w-6 h-6"></i>
          </button>
        </div>

        <!-- Mobile navigation links -->

        <!-- Mobile About Us Accordion -->
        <!-- About Us (mobile accordion) -->

        <style>
          /* hide default marker */
          summary {
            list-style: none;
          }
          summary::-webkit-details-marker {
            display: none;
          }

          /* rotate only the chevron inside the SAME details > summary */
          details > summary .chev {
            transition: transform 0.2s ease;
            display: inline-flex;
          }
          details[open] > summary .chev {
            transform: rotate(180deg);
          }
        </style>

        <details>
          <summary
            class="flex justify-between items-center px-4 py-3 rounded-lg hover:bg-gray-100 cursor-pointer"
          >
            <span class="flex items-center gap-2">
              <i data-lucide="info" class="w-4 h-4"></i> About
            </span>
            <span class="chev"
              ><i data-lucide="chevron-down" class="w-4 h-4"></i
            ></span>
          </summary>

          <div class="pl-6 flex flex-col gap-2 mt-2 text-sm">
            <a
              href="../about-us.html"
              class="flex items-center gap-2 px-3 py-2 hover:bg-[#fcaf1b] hover:text-white rounded-lg"
            >
              <i data-lucide="building-2" class="w-4 h-4"></i> About Us
            </a>

            <!-- Nested team -->
            <details>
              <summary
                class="flex justify-between items-center px-3 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white cursor-pointer"
              >
                <span class="flex items-center gap-2">
                  <i data-lucide="users" class="w-4 h-4"></i> Our Team
                </span>
                <span class="chev"
                  ><i data-lucide="chevron-down" class="w-4 h-4"></i
                ></span>
              </summary>

              <div class="pl-6 flex flex-col gap-2 mt-2 text-sm">
                <a
                  href="../teams/Prashant-Chimulkar.html"
                  class="flex items-center gap-2 px-3 py-2 hover:bg-[#fcaf1b] hover:text-white rounded-lg"
                >
                  <i data-lucide="user" class="w-4 h-4"></i> Prashant
                </a>
                <a
                  href="../teams/Pranav-Chimulkar.html"
                  class="flex items-center gap-2 px-3 py-2 hover:bg-[#fcaf1b] hover:text-white rounded-lg"
                >
                  <i data-lucide="user" class="w-4 h-4"></i> Pranav
                </a>
              </div>
            </details>
            <a
              href="../foundation.html"
              class="flex items-center gap-2 px-3 py-2 hover:bg-[#fcaf1b] hover:text-white rounded-lg"
            >
              <i data-lucide="heart-handshake" class="w-4 h-4"></i> Foundation
            </a>
          </div>
        </details>

        <!-- Mobile Services Accordion -->
        <details class="group">
          <summary
            class="flex justify-between items-center px-4 py-3 rounded-lg hover:bg-gray-100 cursor-pointer"
          >
            <span class="flex items-center gap-2">
              <i data-lucide="briefcase" class="w-4 h-4"></i> Services
            </span>
            <i
              data-lucide="chevron-down"
              class="w-4 h-4 transition-transform group-open:rotate-180"
            ></i>
          </summary>

          <!-- Sub-links -->
          <div class="pl-6 flex flex-col gap-2 mt-2 text-sm">
            <a
              href="#service-1"
              class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white transition"
            >
              <i data-lucide="layers" class="w-4 h-4"></i> Mutual Funds
            </a>
            <a
              href="../services/retirement-planning.html"
              class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white transition"
            >
              <i data-lucide="calendar-check" class="w-4 h-4"></i> Retirement
              Planning
            </a>
            <a
              href="../services/tax-planning.html"
              class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white transition"
            >
              <i data-lucide="file-text" class="w-4 h-4"></i> Tax Planning
            </a>
            <a
              href="#service-4"
              class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white transition"
            >
              <i data-lucide="shield-check" class="w-4 h-4"></i> Insurance
              Planning
            </a>
            <a
              href="#service-4"
              class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white transition"
            >
              <i data-lucide="graduation-cap" class="w-4 h-4"></i> Education
              Savings
            </a>
            <a
              href="#service-4"
              class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white transition"
            >
              <i data-lucide="archive" class="w-4 h-4"></i> Legacy Planning
            </a>
          </div>
        </details>

        <!-- Mobile Calculator Accordion -->
        <details class="group">
          <summary
            class="flex justify-between items-center px-4 py-3 rounded-lg hover:bg-gray-100 cursor-pointer"
          >
            <span class="flex items-center gap-2">
              <i data-lucide="circle-divide" class="w-4 h-4"></i> Calculators
            </span>
            <i
              data-lucide="chevron-down"
              class="w-4 h-4 transition-transform group-open:rotate-180"
            ></i>
          </summary>
          <div class="pl-6 flex flex-col gap-4 mt-2 text-sm">
            <a
              href="../calculators/sip-calculator.html"
              class="flex items-center gap-2 px-3 py-2 hover:bg-[#fcaf1b] hover:text-white cursor-pointer rounded-lg"
            >
              <i data-lucide="calculator" class="w-4 h-4"></i> SIP Calculator
            </a>
            <a
              href="../calculators/lump-sump-calculator.html"
              class="flex items-center gap-2 px-3 py-2 hover:bg-[#fcaf1b] hover:text-white cursor-pointer rounded-lg"
            >
              <i data-lucide="percent" class="w-4 h-4"></i> Lump Sum
            </a>

            <a
              href="../calculators/swp-calculator.html"
              class="flex items-center gap-2 px-3 py-2 hover:bg-[#fcaf1b] hover:text-white cursor-pointer rounded-lg"
            >
              <i data-lucide="activity" class="w-4 h-4"></i> SWP Calculator
            </a>
            <a
              href="../calculators/inflation-calculator.html"
              class="flex items-center gap-3 px-4 py-2 hover:bg-[#fcaf1b] hover:text-white rounded-lg cursor-pointer"
            >
              <i data-lucide="trending-up" class="w-4 h-4"></i> Inflation
              Calculator
            </a>
          </div>
        </details>

        <!-- Mobile Financial Literacy Accordion -->
        <details class="group">
          <summary
            class="flex justify-between items-center px-4 py-3 rounded-lg hover:bg-gray-100 cursor-pointer"
          >
            <span class="flex items-center gap-2">
              <i data-lucide="graduation-cap" class="w-4 h-4"></i> Financial
              Literacy
            </span>
            <i
              data-lucide="chevron-down"
              class="w-4 h-4 transition-transform group-open:rotate-180"
            ></i>
          </summary>
          <div class="pl-6 flex flex-col gap-4 mt-2 text-sm">
            <a
              href="#lit-1"
              class="flex items-center gap-2 px-3 py-2 hover:bg-[#fcaf1b] hover:text-white cursor-pointer rounded-lg"
            >
              <i data-lucide="book-open" class="w-4 h-4"></i> Basics
            </a>
            <a
              href="#lit-2"
              class="flex items-center gap-2 px-3 py-2 hover:bg-[#fcaf1b] hover:text-white cursor-pointer rounded-lg"
            >
              <i data-lucide="lightbulb" class="w-4 h-4"></i> Tips & Guides
            </a>
            <a
              href="#lit-3"
              class="flex items-center gap-2 px-3 py-2 hover:bg-[#fcaf1b] hover:text-white cursor-pointer rounded-lg"
            >
              <i data-lucide="play-circle" class="w-4 h-4"></i> Video Lessons
            </a>
          </div>
        </details>

        <!-- Additional mobile navigation links -->
        <a
          href="#nri-corner"
          class="flex items-center gap-2 px-4 py-3 rounded-lg hover:bg-gray-100 cursor-pointer"
        >
          <i data-lucide="globe" class="w-4 h-4"></i> NRI Corner
        </a>
        <a
          href="../contact-us.html"
          class="flex items-center gap-2 px-4 py-3 rounded-lg hover:bg-gray-100 cursor-pointer"
        >
          <i data-lucide="phone-call" class="w-4 h-4"></i> Contact Us
        </a>
      </div>

      <!-- Mobile CTA button at bottom -->
      <div class="p-6">
        <a
          href="#"
          class="inline-flex items-center bg-[#fcaf1b] text-[#161f48] pl-5 pr-3 py-2 rounded-full text-sm gap-3 group transition hover:bg-secondary hover:text-white"
        >
          Get Free Assessment
          <span
            class="bg-white text-black rounded-full p-1.5 flex items-center justify-center transition-transform group-hover:translate-x-1"
          >
            <i data-lucide="arrow-right" class="w-4 h-4"></i>
          </span>
        </a>
      </div>
    </div>

    <section
      class="w-full mx-auto max-w-[1110px] mt-8 p-5 lg:p-0 text-sm lg:text-base"
    >
      <h2 class="text-lg font-semibold mb-2">About the SIP Calculator</h2>

      <p class="mb-4">
        This SIP calculator is your essential tool for smart and systematic
        investing. Whether you're a seasoned investor or just starting out, this
        calculator helps you visualize financial goals based on systematic
        monthly investments. A Systematic Investment Plan (SIP) lets you invest
        a fixed amount regularly, leveraging compounding to build wealth. Use
        either mode to see how your monthly investments grow or to find the
        exact monthly SIP to reach a goal.
      </p>

      <h3 class="text-lg font-semibold mb-2">How to Use This Calculator</h3>
      <p class="mb-4">
        The SIP Calculator by Chimulkar Financial Services is simple and
        intuitive, with two modes to match your needs.
      </p>

      <p class="font-semibold mb-1">
        Mode 1: Monthly Investment (to calculate your corpus)
      </p>
      <p class="mb-2">
        This mode shows the future value of regular monthly investments.
      </p>
      <ul class="list-disc ml-6 mb-4 space-y-1">
        <li>
          <span class="font-semibold">Monthly Investment:</span> Enter the fixed
          amount invested every month.
        </li>
        <li>
          <span class="font-semibold">Expected Rate of Return:</span> Annual
          return you expect (e.g., 12%).
        </li>
        <li>
          <span class="font-semibold">Time Period:</span> Total years you plan
          to invest.
        </li>
        <li>
          <span class="font-semibold">Annual Step-up (optional):</span>
          Percentage increase in SIP every year (e.g., 5%).
        </li>
      </ul>
      <p class="mb-4">
        After input, the calculator shows the estimated total corpus.
      </p>

      <p class="font-semibold mb-1">
        Mode 2: Target Amount (to calculate your monthly SIP)
      </p>
      <p class="mb-2">
        Use this if you have a specific goal (house down payment, education,
        retirement).
      </p>
      <ul class="list-disc ml-6 mb-4 space-y-1">
        <li>
          <span class="font-semibold">Target Amount:</span> Total amount you
          want to accumulate.
        </li>
        <li>
          <span class="font-semibold">Expected Rate of Return:</span>
          Anticipated annual return.
        </li>
        <li>
          <span class="font-semibold">Time Period:</span> Years available to
          reach the goal.
        </li>
        <li>
          <span class="font-semibold">Impact of Inflation (optional):</span>
          Enter expected annual inflation (e.g., 6%) to adjust the target.
        </li>
      </ul>
      <p class="mb-4">
        The calculator returns the monthly SIP required to hit your target.
      </p>

      <h3 class="text-lg font-semibold mb-2">Formulas Used</h3>
      <p class="mb-4">
        The calculator uses standard financial formulas. Below are the common,
        widely used forms:
      </p>

      <p class="font-semibold mb-1">For Monthly Investment Mode:</p>
      <p class="mb-4">
        The final corpus (A) is calculated using the future value of an annuity
        formula, modified to include the annual step-up.
      </p>
      <div
        class="bg-gray-200/50 p-4 rounded-xl mt-4 text-sm overflow-x-auto mb-4"
      >
        <p><strong class="font-semibold">Without step-up:</strong></p>
        $$A = P \times \frac{( (1+i)^n - 1 )}{i} \times (1+i)$$

        <p><strong class="font-semibold">With step-up:</strong></p>
        $$A = P \times (1+g) \times \frac{ (1+i)^n - (1+g)^n }{ (1+i) - (1+g)
        }$$

        <p><strong class="font-semibold">Where:</strong></p>
        <ul>
          <li>\(A\) = Final Corpus Amount</li>
          <li>\(P\) = Monthly Investment Amount</li>
          <li>\(i\) = Periodic Rate of Return (Annual Rate / 12)</li>
          <li>\(n\) = Total Number of Installments (Years × 12)</li>
          <li>\(g\) = Annual Step-up Percentage</li>
        </ul>
      </div>

      <p class="font-semibold mb-1">For Target Amount Mode:</p>
      <p class="mb-4">
        The required monthly SIP amount (P) is calculated by rearranging the
        future value formula:
      </p>

      <div
        class="bg-gray-200/50 p-4 rounded-xl mt-4 text-sm overflow-x-auto mb-4"
      >
        <p><strong class="font-semibold">Main formula:</strong></p>
        $$\mathbf{P} = \frac{\mathbf{A}}{i} \times \left( (1+i)^n - 1 \right)
        \times (1+i)$$

        <p>
          <strong class="font-medium"
            >Where the target amount (\(\mathbf{A}\)) is also adjusted for
            inflation, if that option is used:</strong
          >
        </p>
        $$\text{Inflation-adjusted Target Amount} = \text{Target Amount} \times
        (1 + \text{inflation rate})^{\text{time period}}$$
      </div>

      <div class="text-sm lg:text-base text-black leading-relaxed space-y-6">
        <p>
          <span class="font-semibold">Case 1: Monthly Investment</span><br />
          Rohan, aged 25, wants to start investing for his retirement. He wants
          to calculate the corpus he can build if he invests
          <span class="font-semibold">₹5,000 every month</span>. He expects an
          <span class="font-semibold">annual return of 12%</span> and plans to
          invest for <span class="font-semibold">30 years</span>. To account for
          his rising income, he opts for a
          <span class="font-semibold">10% annual step-up</span> on his SIP.
          <br /><br />
          <span class="font-semibold">Monthly Investment:</span> ₹5,000<br />
          <span class="font-semibold">Expected Rate of Return:</span> 12%<br />
          <span class="font-semibold">Time Period:</span> 30 years<br />
          <span class="font-semibold">Annual Step-up:</span> 10%<br /><br />
          According to our calculator, after 30 years, Rohan would have invested
          a total of
          <span class="font-semibold">₹98.70 lakhs</span>, which could grow to
          an estimated <span class="font-semibold">₹4.42 Crores</span> by the
          time Rohan turns 55. This example shows how a disciplined, stepped-up
          investment can create significant wealth.
        </p>

        <p>
          <span class="font-semibold">Case 2: Target Amount</span><br />
          Priya and Sameer want to save for their newborn daughter's university
          education, which is
          <span class="font-semibold">18 years</span> away. They estimate the
          total cost is <span class="font-semibold">₹50 lakhs today</span>. They
          expect an <span class="font-semibold">annual return of 12%</span>.
          They also account for a
          <span class="font-semibold">6% annual inflation rate</span>.
          <br /><br />
          <span class="font-semibold">Target Amount:</span> ₹50,00,000<br />
          <span class="font-semibold">Expected Rate of Return:</span> 12%<br />
          <span class="font-semibold">Time Period:</span> 18 years<br />
          <span class="font-semibold">Impact of Inflation:</span> 6%<br /><br />
          The calculator adjusts the target amount for inflation. The future
          value of ₹50 lakhs after 18 years at 6% inflation would be
          approximately
          <span class="font-semibold">₹1.43 Crores</span>.<br />
          To reach this goal, Priya would need to start a monthly SIP of
          <span class="font-semibold">₹18,832</span>. This helps them set a
          realistic and achievable savings goal today.
        </p>
      </div>
    </section>
    <!-- FAQ Section -->
    <section id="faq" class="mb-2 bg-transparent p-5 max-w-[1150px] mx-auto">
      <div class="text-start mb-8">
        <h2 class="text-base font-semibold leading-tight text-black">
          Top 10 Commonly Asked Questions
        </h2>
      </div>

      <div
        class="bg-white text-black border border-gray-300 rounded-2xl shadow-sm divide-y divide-gray-200"
      >
        <!-- FAQ 1 -->
        <div class="faq-item">
          <button
            class="faq-question w-full px-8 py-6 flex justify-between items-center text-left transition-colors duration-200 focus:outline-none"
            aria-expanded="false"
          >
            <span class="text-base font-medium text-black pr-4">
              What is an SIP?
            </span>
            <svg
              class="faq-icon w-6 h-6 text-gray-500 hover:text-gray-800 hover:text-gray-800 transform transition-transform duration-300"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M5 12h14" />
              <path d="M12 5v14" />
            </svg>
          </button>
          <div
            class="faq-answer max-h-0 overflow-hidden transition-all duration-500 ease-in-out"
          >
            <div class="px-8 pb-6 text-gray-700 leading-relaxed text-sm">
              An SIP, or Systematic Investment Plan, is a method of investing in
              mutual funds where you invest a fixed amount of money at regular
              intervals (usually monthly). It is similar to a recurring deposit
              but for mutual funds, offering the benefits of compounding and
              rupee cost averaging.
            </div>
          </div>
        </div>

        <!-- FAQ 2 -->
        <div class="faq-item">
          <button
            class="faq-question w-full px-8 py-6 flex justify-between items-center text-left transition-colors duration-200 focus:outline-none"
            aria-expanded="false"
          >
            <span class="text-base font-medium text-black pr-4">
              Are SIPs similar to mutual funds?
            </span>
            <svg
              class="faq-icon w-6 h-6 text-gray-500 hover:text-gray-800 transform transition-transform duration-300"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M5 12h14" />
              <path d="M12 5v14" />
            </svg>
          </button>
          <div
            class="faq-answer max-h-0 overflow-hidden transition-all duration-500 ease-in-out"
          >
            <div class="px-8 pb-6 text-gray-700 leading-relaxed text-sm">
              SIP is a method of investing, while a mutual fund is the
              investment product itself. You use an SIP to invest in a mutual
              fund. Think of it this way: an SIP is the discipline, and a mutual
              fund is the vehicle.
            </div>
          </div>
        </div>

        <!-- FAQ 3 -->
        <div class="faq-item">
          <button
            class="faq-question w-full px-8 py-6 flex justify-between items-center text-left transition-colors duration-200 focus:outline-none"
            aria-expanded="false"
          >
            <span class="text-base font-medium text-black pr-4">
              How much can I invest in an SIP?
            </span>
            <svg
              class="faq-icon w-6 h-6 text-gray-500 hover:text-gray-800 transform transition-transform duration-300"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M5 12h14" />
              <path d="M12 5v14" />
            </svg>
          </button>
          <div
            class="faq-answer max-h-0 overflow-hidden transition-all duration-500 ease-in-out"
          >
            <div class="px-8 pb-6 text-gray-700 leading-relaxed text-sm">
              You can start an SIP with as little as ₹500 per month with most
              mutual funds. There is generally no upper limit, allowing you to
              invest any amount that fits your financial capacity.
            </div>
          </div>
        </div>

        <!-- FAQ 4 -->
        <div class="faq-item">
          <button
            class="faq-question w-full px-8 py-6 flex justify-between items-center text-left transition-colors duration-200 focus:outline-none"
            aria-expanded="false"
          >
            <span class="text-base font-medium text-black pr-4">
              Can I modify my SIP amount?
            </span>
            <svg
              class="faq-icon w-6 h-6 text-gray-500 hover:text-gray-800 transform transition-transform duration-300"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M5 12h14" />
              <path d="M12 5v14" />
            </svg>
          </button>
          <div
            class="faq-answer max-h-0 overflow-hidden transition-all duration-500 ease-in-out"
          >
            <div class="px-8 pb-6 text-gray-700 leading-relaxed text-sm">
              Yes, you could increase or decrease your SIP amount anytime as per
              your need or financial situation.
            </div>
          </div>
        </div>

        <!-- FAQ 5 -->
        <div class="faq-item">
          <button
            class="faq-question w-full px-8 py-6 flex justify-between items-center text-left transition-colors duration-200 focus:outline-none"
            aria-expanded="false"
          >
            <span class="text-base font-medium text-black pr-4">
              Can I pause my investments in an SIP?
            </span>
            <svg
              class="faq-icon w-6 h-6 text-gray-500 hover:text-gray-800 transform transition-transform duration-300"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M5 12h14" />
              <path d="M12 5v14" />
            </svg>
          </button>
          <div
            class="faq-answer max-h-0 overflow-hidden transition-all duration-500 ease-in-out"
          >
            <div class="px-8 pb-6 text-gray-700 leading-relaxed text-sm">
              Yes, you can pause your SIP for a specific period. This is useful
              if you are facing a temporary cash crunch. After the pause period,
              the SIP will automatically resume.
            </div>
          </div>
        </div>

        <!-- FAQ 6 -->
        <div class="faq-item">
          <button
            class="faq-question w-full px-8 py-6 flex justify-between items-center text-left transition-colors duration-200 focus:outline-none"
            aria-expanded="false"
          >
            <span class="text-base font-medium text-black pr-4">
              What happens if I miss an SIP?
            </span>
            <svg
              class="faq-icon w-6 h-6 text-gray-500 hover:text-gray-800 transform transition-transform duration-300"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M5 12h14" />
              <path d="M12 5v14" />
            </svg>
          </button>
          <div
            class="faq-answer max-h-0 overflow-hidden transition-all duration-500 ease-in-out"
          >
            <div class="px-8 pb-6 text-gray-700 leading-relaxed text-sm">
              If an SIP installment fails (e.g., due to insufficient funds in
              your bank account), the fund house will not charge you a penalty.
              However, your bank may charge you a fee for a failed transaction.
              The SIP installment for that month will simply be skipped, and the
              plan will continue as scheduled for the subsequent months.
            </div>
          </div>
        </div>

        <!-- FAQ 7 -->
        <div class="faq-item">
          <button
            class="faq-question w-full px-8 py-6 flex justify-between items-center text-left transition-colors duration-200 focus:outline-none"
            aria-expanded="false"
          >
            <span class="text-base font-medium text-black pr-4">
              What is the difference between this SIP calculator and a lump sum
              calculator?
            </span>
            <svg
              class="faq-icon w-6 h-6 text-gray-500 hover:text-gray-800 transform transition-transform duration-300"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M5 12h14" />
              <path d="M12 5v14" />
            </svg>
          </button>
          <div
            class="faq-answer max-h-0 overflow-hidden transition-all duration-500 ease-in-out"
          >
            <div class="px-8 pb-6 text-gray-700 leading-relaxed text-sm">
              A lump sum calculator calculates the growth of a single, one-time
              investment. This SIP calculator, on the other hand, calculates the
              growth of a series of regular investments over time, which is more
              practical for most investors building wealth gradually.
            </div>
          </div>
        </div>

        <!-- FAQ 8 -->
        <div class="faq-item">
          <button
            class="faq-question w-full px-8 py-6 flex justify-between items-center text-left transition-colors duration-200 focus:outline-none"
            aria-expanded="false"
          >
            <span class="text-base font-medium text-black pr-4">
              Why is the "annual step-up" feature important?
            </span>
            <svg
              class="faq-icon w-6 h-6 text-gray-500 hover:text-gray-800 transform transition-transform duration-300"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M5 12h14" />
              <path d="M12 5v14" />
            </svg>
          </button>
          <div
            class="faq-answer max-h-0 overflow-hidden transition-all duration-500 ease-in-out"
          >
            <div class="px-8 pb-6 text-gray-700 leading-relaxed text-sm">
              The annual step-up feature helps you account for an increase in
              your earning potential over time. By increasing your SIP amount
              each year, you can significantly accelerate your wealth creation
              and reach your financial goals much faster.
            </div>
          </div>
        </div>

        <!-- FAQ 9 -->
        <div class="faq-item">
          <button
            class="faq-question w-full px-8 py-6 flex justify-between items-center text-left transition-colors duration-200 focus:outline-none"
            aria-expanded="false"
          >
            <span class="text-base font-medium text-black pr-4">
              How does the "impact of inflation" feature work?
            </span>
            <svg
              class="faq-icon w-6 h-6 text-gray-500 hover:text-gray-800 transform transition-transform duration-300"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M5 12h14" />
              <path d="M12 5v14" />
            </svg>
          </button>
          <div
            class="faq-answer max-h-0 overflow-hidden transition-all duration-500 ease-in-out"
          >
            <div class="px-8 pb-6 text-gray-700 leading-relaxed text-sm">
              This feature adjusts your target amount to its future value,
              considering the eroding effect of inflation. For example, if you
              need ₹10 Lakh in 10 years and inflation is 5%, you will actually
              need a much larger amount to have the same purchasing power. This
              feature helps you set a more realistic and effective investment
              goal.
            </div>
          </div>
        </div>

        <!-- FAQ 10 -->
        <div class="faq-item">
          <button
            class="faq-question w-full px-8 py-6 flex justify-between items-center text-left transition-colors duration-200 focus:outline-none"
            aria-expanded="false"
          >
            <span class="text-base font-medium text-black pr-4">
              Is the calculated return guaranteed?
            </span>
            <svg
              class="faq-icon w-6 h-6 text-gray-500 hover:text-gray-800 transform transition-transform duration-300"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M5 12h14" />
              <path d="M12 5v14" />
            </svg>
          </button>
          <div
            class="faq-answer max-h-0 overflow-hidden transition-all duration-500 ease-in-out"
          >
            <div class="px-8 pb-6 text-gray-700 leading-relaxed text-sm">
              No. The calculated values are estimates based on your provided
              inputs for the expected rate of return. Mutual fund investments
              are subject to market risks, and the actual returns may vary. This
              calculator is a planning tool and should not be considered a
              guarantee of returns.
            </div>
          </div>
        </div>
      </div>
    </section>

    <script>
      document.querySelectorAll(".faq-item").forEach((item) => {
        const btn = item.querySelector(".faq-question");
        const answer = item.querySelector(".faq-answer");
        const icon = item.querySelector(".faq-icon");

        btn.addEventListener("click", () => {
          const isOpen = btn.getAttribute("aria-expanded") === "true";

          // Close all other answers (optional, for accordion style)
          document.querySelectorAll(".faq-item").forEach((otherItem) => {
            if (otherItem !== item) {
              otherItem.querySelector(".faq-answer").style.maxHeight = null;
              otherItem
                .querySelector(".faq-question")
                .setAttribute("aria-expanded", "false");
              otherItem
                .querySelector(".faq-icon")
                .classList.remove("rotate-45");
            }
          });

          if (isOpen) {
            answer.style.maxHeight = null;
            btn.setAttribute("aria-expanded", "false");
            icon.classList.remove("rotate-45");
          } else {
            answer.style.maxHeight = answer.scrollHeight + "px";
            btn.setAttribute("aria-expanded", "true");
            icon.classList.add("rotate-45");
          }
        });
      });
    </script>

    <section class="py-10 px-5 max-w-8xl mx-auto text-center">
      <h2 class="text-xl font-semibold mb-8 text-black">
        Explore More Popular Calculators
      </h2>

      <div class="grid grid-cols-1 lg:grid-cols-3 gap-2 lg:gap-6">
        <a
          href="./lump-sump-calculator.html"
          class="inline-flex items-center justify-center bg-white text-black px-5 py-3.5 border border-gray-300 rounded-full text-sm gap-3 group transition hover:bg-[#161f48] hover:text-white hover:border-transparent"
        >
          <i
            data-lucide="percent"
            class="w-5 h-5 text-black group-hover:text-white"
          ></i>
          Lump Sump Calculator
        </a>
        <a
          href="./swp-calculator.html"
          class="inline-flex items-center justify-center bg-white text-black pl-5 pr-3 py-3.5 border border-gray-300 rounded-full text-sm gap-3 group transition hover:bg-[#161f48] hover:text-white hover:border-transparent"
        >
          <i
            data-lucide="activity"
            class="w-5 h-5 text-black group-hover:text-white"
          ></i>
          SWP Calculator
        </a>
        <a
          href="./inflation-calculator.html"
          class="inline-flex items-center justify-center bg-white text-black pl-5 pr-3 py-3.5 border border-gray-300 rounded-full text-sm gap-3 group transition hover:bg-[#161f48] hover:text-white hover:border-transparent"
        >
          <i
            data-lucide="trending-up"
            class="w-5 h-5 text-black group-hover:text-white"
          ></i>
          Inflation Calculator
        </a>
      </div>
    </section>

    <!-- FOOTER SECTION - Company information and links -->
    <!-- =================================================================== -->
    <footer class="w-full bg-white border-t border-gray-200">
      <!-- Top Nav Links -->
      <div
        class="max-w-7xl mx-auto px-6 py-6 flex flex-wrap justify-center md:justify-between gap-6 text-sm text-gray-700"
      >
        <a href="/about" class="hover:text-[#fcaf1b] transition">About Us</a>
        <a href="/services" class="hover:text-[#fcaf1b] transition">Services</a>
        <a href="/calculators" class="hover:text-[#fcaf1b] transition"
          >Calculators</a
        >
        <a href="/financial-literacy" class="hover:text-[#fcaf1b] transition"
          >Financial Literacy</a
        >
        <a href="/nri-corner" class="hover:text-[#fcaf1b] transition"
          >NRI Corner</a
        >
        <a href="/contact" class="hover:text-[#fcaf1b] transition"
          >Contact Us</a
        >
      </div>

      <!-- Middle Section -->
      <div
        class="max-w-7xl mx-auto px-6 py-10 grid grid-cols-1 md:grid-cols-3 gap-8 text-center md:text-left"
      >
        <!-- Left: Info -->
        <div class="space-y-4">
          <a
            href="https://www.google.com/maps/dir/?api=1&destination=15.4038977,74.0086659"
            target="_blank"
            rel="noopener"
            class="flex items-center justify-center md:justify-start gap-2 text-gray-800"
          >
            <i data-lucide="map-pin" class="w-5 h-5 text-[#fcaf1b]"></i> Our
            Office
          </a>
          <a
            href="mailto:invest@chimulkar.com"
            class="flex items-center justify-center md:justify-start gap-2 text-gray-800"
          >
            <i data-lucide="mail" class="w-5 h-5 text-[#fcaf1b]"></i>
            invest@chimulkar.com
          </a>
          <a
            href="tel:+918208031927"
            class="flex items-center justify-center md:justify-start gap-2 text-gray-800"
          >
            <i data-lucide="phone" class="w-5 h-5 text-[#fcaf1b]"></i>
            +91 82080 31927
          </a>
        </div>

        <!-- Center: Logo -->
        <div class="flex flex-col items-center">
          <img
            src="../assets/Logo.svg"
            alt="Chimulkar Financial Services"
            class="w-40 h-auto mb-4"
          />
          <p class="text-gray-800 text-sm">Chimulkar Financial Services</p>
        </div>

        <!-- Right: Reviews & Social -->
        <div class="flex flex-col items-center md:items-end space-y-4">
          <p class="text-gray-800">10+ Five-Star Google Reviews</p>
          <div class="flex gap-1">
            <i
              data-lucide="star"
              class="w-5 h-5 fill-yellow-400 text-yellow-400"
            ></i>
            <i
              data-lucide="star"
              class="w-5 h-5 fill-yellow-400 text-yellow-400"
            ></i>
            <i
              data-lucide="star"
              class="w-5 h-5 fill-yellow-400 text-yellow-400"
            ></i>
            <i
              data-lucide="star"
              class="w-5 h-5 fill-yellow-400 text-yellow-400"
            ></i>
            <i
              data-lucide="star"
              class="w-5 h-5 fill-yellow-400 text-yellow-400"
            ></i>
          </div>
          <div class="flex gap-4">
            <a
              href="https://www.instagram.com/chimulkarfinancialservices?utm_source=ig_web_button_share_sheet&igsh=MWZxMnFsZTY4OHNmeg=="
              target="_blank"
              aria-label="Instagram"
              class="bg-yellow-100 rounded-full p-2 hover:bg-yellow-200 transition"
            >
              <i data-lucide="instagram" class="w-5 h-5 text-gray-800"></i>
            </a>
            <a
              href="https://www.youtube.com/@ChimulkarFinancialServices"
              target="_blank"
              aria-label="YouTube"
              rel="noopener noreferrer"
              class="bg-yellow-100 rounded-full p-2 hover:bg-yellow-200 transition"
            >
              <i data-lucide="youtube" class="w-5 h-5 text-gray-800"></i>
            </a>
          </div>
        </div>
      </div>

      <!-- Bottom Bar -->
      <div class="bg-[#161f48] text-gray-100 text-xs text-center py-4">
        <div
          class="max-w-7xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center gap-2"
        >
          <p>© 2025 Chimulkar Financial Services | Financial Consultant</p>
          <div class="flex gap-4">
            <a href="/terms" class="hover:underline">Terms & Conditions</a>
            <a href="/privacy-policy" class="hover:underline">Privacy Policy</a>
            <a href="/sitemap" class="hover:underline">Sitemap</a>
          </div>
          <p class="text-gray-400">
            Designed & Developed by
            <a
              href="https://github.com/Niraj-Paswan"
              target="_blank"
              class="text-white hover:underline"
              >~Niraj Paswan</a
            >
          </p>
        </div>
      </div>
    </footer>
    <script>
      // ===================================================================
      // MOBILE MENU FUNCTIONALITY
      // ===================================================================

      // Get mobile menu elements
      const mobileMenuToggle = document.getElementById("menuToggle");
      const mobileMenuClose = document.getElementById("closeMenu");
      const mobileMenuPanel = document.getElementById("mobileMenu");
      const mobileMenuBackdrop = document.getElementById("backdrop");

      // Open mobile menu function
      function openMobileMenu() {
        mobileMenuPanel.classList.remove("translate-x-full");
        mobileMenuBackdrop.classList.remove("hidden");
        setTimeout(() => mobileMenuBackdrop.classList.remove("opacity-0"), 10);
      }

      // Close mobile menu function
      function closeMobileMenu() {
        mobileMenuPanel.classList.add("translate-x-full");
        mobileMenuBackdrop.classList.add("opacity-0");
        setTimeout(() => mobileMenuBackdrop.classList.add("hidden"), 300);
      }

      // Event listeners for mobile menu
      mobileMenuToggle.addEventListener("click", openMobileMenu);
      mobileMenuClose.addEventListener("click", closeMobileMenu);
      mobileMenuBackdrop.addEventListener("click", closeMobileMenu);

      // ===================================================================
      // HERO VIDEO POPUP FUNCTIONALITY
      // ===================================================================

      // Get video popup elements
      const heroPlayButton = document.getElementById("openPopup");
      const heroCloseButton = document.getElementById("closePopup");
      const heroVideoPopup = document.getElementById("videoPopup");
      const heroYoutubeFrame = document.getElementById("youtubeFrame");
    </script>

    <!-- Main calculator container with an ID for html2canvas -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <script>
      lucide.createIcons();
    </script>
    <script>
      let chart;
      let isTargetMode = false; // Default to Investment Mode
      // Global variables to store latest calculated results
      let lastCalculatedInvestment = 0;
      let lastCalculatedReturns = 0;
      let lastCalculatedTotal = 0;
      let lastCalculatedGrowthPercentage = 0;
      let lastCalculatedRequiredSip = 0;
      let lastCalculatedInflationAdjustedTarget = 0; // New global variable

      // Initialize chart with specific colors and simplified legend
      function initChart() {
        const ctx = document.getElementById("sipChart").getContext("2d");
        chart = new Chart(ctx, {
          type: "doughnut",
          data: {
            labels: ["Invested amount", "Est. returns"],
            datasets: [
              {
                data: [30, 28.08], // Initial dummy data (in Lakhs)
                backgroundColor: [
                  "#d1d5db", // Light grey for invested amount
                  "#161f48", // Secondary color for estimated returns
                ],
                borderColor: "white",
                borderWidth: 2,
                cutout: "80%",
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: true,
            plugins: {
              legend: {
                display: false, // Custom legend handled in HTML
              },
              tooltip: {
                enabled: true,
                callbacks: {
                  label: function (context) {
                    let label = context.label || "";
                    if (label) {
                      label += ": ";
                    }
                    if (context.parsed !== null) {
                      // Convert chart data back to full amount for tooltip
                      label += formatCurrency(context.parsed); // Pass raw value to formatCurrency
                    }
                    return label;
                  },
                },
              },
            },
            animation: {
              animateRotate: true,
              duration: 800,
              easing: "easeOutQuart",
            },
          },
        });
      }
      // Format number to Indian currency format (Lakhs, Crores)
      function formatCurrency(amount) {
        if (amount >= 10000000) {
          return "₹" + (amount / 10000000).toFixed(2) + " Crores";
        } else if (amount >= 100000) {
          return "₹" + (amount / 100000).toFixed(2) + " Lakhs";
        } else {
          return "₹" + Math.round(amount).toLocaleString("en-IN");
        }
      }
      // Formats a number with Indian comma system for input fields
      function formatNumberWithIndianCommas(num) {
        if (isNaN(num) || num === null) return "";
        // Use toLocaleString with 'en-IN' locale for Indian comma format
        // Ensure it's a number before calling toLocaleString, and no fraction digits
        return Number(num).toLocaleString("en-IN", {
          maximumFractionDigits: 0,
        });
      }
      // Parses an Indian-formatted string back to a number
      function parseIndianFormattedNumber(str) {
        if (!str) return 0;
        // Remove all non-digit characters except the decimal point
        return parseFloat(str.replace(/[^0-9.]/g, ""));
      }
      // Calculate SIP (Investment Mode)
      function calculateSIP() {
        const monthlyInvestment = parseIndianFormattedNumber(
          document.getElementById("amountInput").value
        );
        const annualReturn = parseFloat(
          document.getElementById("returnInput").value
        );
        const years = parseInt(document.getElementById("timeInput").value);
        const stepUpEnabled = document.getElementById("stepUpToggle").checked;
        const stepUpRate = stepUpEnabled
          ? parseFloat(document.getElementById("stepUpInput").value)
          : 0;
        const monthlyReturn = annualReturn / 100 / 12;
        const months = years * 12;
        let futureValue = 0;
        let totalInvestment = 0;
        let currentMonthlyInvestment = monthlyInvestment;
        for (let month = 1; month <= months; month++) {
          futureValue =
            (futureValue + currentMonthlyInvestment) * (1 + monthlyReturn);
          totalInvestment += currentMonthlyInvestment;
          if (stepUpEnabled && month % 12 === 0) {
            currentMonthlyInvestment *= 1 + stepUpRate / 100;
          }
        }
        const expectedReturns = futureValue - totalInvestment;
        const growthPercentage =
          totalInvestment > 0 ? (expectedReturns / totalInvestment) * 100 : 0;
        updateResults(
          totalInvestment,
          expectedReturns,
          futureValue,
          growthPercentage,
          0 // No inflation adjusted target in investment mode
        );
      }
      // Calculate required SIP (Target Mode)
      function calculateRequiredSIP() {
        const targetAmount = parseIndianFormattedNumber(
          document.getElementById("amountInput").value
        );
        const annualReturn = parseFloat(
          document.getElementById("returnInput").value
        );
        const years = parseInt(document.getElementById("timeInput").value);
        const inflationEnabled =
          document.getElementById("inflationToggle").checked;
        const expectedInflation = inflationEnabled
          ? parseFloat(document.getElementById("inflationInput").value)
          : 0;
        const monthlyReturn = annualReturn / 100 / 12;
        const months = years * 12;
        const inflationRatePerPeriod = expectedInflation / 100;
        // Corrected: Adjust target amount for inflation to maintain purchasing power
        // If inflation is enabled, the nominal target amount needs to be higher
        // to achieve the same purchasing power as the initial target amount.
        const inflationAdjustedTarget = inflationEnabled
          ? targetAmount * Math.pow(1 + inflationRatePerPeriod, years)
          : targetAmount;

        let requiredMonthly = 0;
        if (monthlyReturn === 0) {
          // Simple interest if return is 0
          requiredMonthly = inflationAdjustedTarget / months;
        } else {
          requiredMonthly =
            (inflationAdjustedTarget * monthlyReturn) /
            (Math.pow(1 + monthlyReturn, months) - 1);
        }
        document.getElementById("requiredSip").textContent =
          formatCurrency(requiredMonthly);
        lastCalculatedRequiredSip = requiredMonthly; // Store the raw value for sharing

        // For chart and other results, calculate what this required SIP would yield
        let futureValue = 0;
        let totalInvestment = 0;
        let currentMonthlyInvestment = requiredMonthly; // Use the calculated required monthly SIP
        for (let month = 1; month <= months; month++) {
          futureValue =
            (futureValue + currentMonthlyInvestment) * (1 + monthlyReturn);
          totalInvestment += currentMonthlyInvestment;
        }
        const expectedReturns = futureValue - totalInvestment;
        const growthPercentage =
          totalInvestment > 0 ? (expectedReturns / totalInvestment) * 100 : 0;
        updateResults(
          totalInvestment,
          expectedReturns,
          futureValue,
          growthPercentage,
          inflationAdjustedTarget // Pass the inflation adjusted target
        );
      }
      // Update results with smooth transitions
      function updateResults(
        investment,
        returns,
        total,
        growth,
        inflationAdjustedTarget = 0
      ) {
        // Update main values
        document.getElementById("expectedGrowth").textContent =
          formatCurrency(returns);
        document.getElementById("totalValue").textContent =
          formatCurrency(total);
        document.getElementById("totalValueCenter").textContent =
          formatCurrency(total);

        // Get result item elements
        const investedAmountItem =
          document.getElementById("investedAmountItem");
        const growthPercentageItem = document.getElementById(
          "growthPercentageItem"
        );
        const inflationAdjustedTargetItem = document.getElementById(
          "inflationAdjustedTargetItem"
        );
        const estimatedTotalInvestedYearsItem = document.getElementById(
          "estimatedTotalInvestedYearsItem"
        );

        // Handle "Invested amount" visibility
        if (!isTargetMode) {
          document.getElementById("totalInvestment").textContent =
            formatCurrency(investment);
          investedAmountItem.classList.remove("hidden");
        } else {
          investedAmountItem.classList.add("hidden");
        }

        // Handle growth percentage visibility
        if (!isTargetMode) {
          document.getElementById("growthPercentage").textContent =
            growth.toFixed(1) + "%";
          growthPercentageItem.classList.remove("hidden");
        } else {
          growthPercentageItem.classList.add("hidden");
        }

        // Handle inflation adjusted target visibility
        if (
          isTargetMode &&
          document.getElementById("inflationToggle").checked
        ) {
          document.getElementById("inflationAdjustedTargetValue").textContent =
            formatCurrency(inflationAdjustedTarget);
          inflationAdjustedTargetItem.classList.remove("hidden");
        } else {
          inflationAdjustedTargetItem.classList.add("hidden");
        }

        // Handle "Est. Total amount invested in (X) years" visibility and value
        const timePeriod = document.getElementById("timeInput").value;
        document.getElementById("timePeriodLabel").textContent = timePeriod; // Update (X) in label

        if (isTargetMode) {
          document.getElementById(
            "estimatedTotalInvestedYearsValue"
          ).textContent = formatCurrency(investment); // Use 'investment' from target mode calculation
          estimatedTotalInvestedYearsItem.classList.remove("hidden");
        } else {
          estimatedTotalInvestedYearsItem.classList.add("hidden");
        }

        // Store raw values for sharing
        lastCalculatedInvestment = investment;
        lastCalculatedReturns = returns;
        lastCalculatedTotal = total;
        lastCalculatedGrowthPercentage = growth;
        if (!isTargetMode) {
          // Reset required SIP if in investment mode
          lastCalculatedRequiredSip = 0;
        }
        lastCalculatedInflationAdjustedTarget = inflationAdjustedTarget; // Store for sharing

        // Update chart data and trigger animation
        chart.data.datasets[0].data = [investment, returns];
        chart.update("active");
      }
      // Toggle between modes (Investment vs Target)
      function toggleMode(targetMode) {
        isTargetMode = targetMode;
        const investmentBtn = document.getElementById("investmentModeBtn");
        const targetBtn = document.getElementById("targetModeBtn");
        const sipRequired = document.getElementById("sipRequired");
        const amountLabel = document.getElementById("amountLabel");
        const amountInput = document.getElementById("amountInput");
        const amountSlider = document.getElementById("amountSlider");
        const amountMinSpan = amountSlider.nextElementSibling.children[0];
        const amountMaxSpan = amountSlider.nextElementSibling.children[1];
        const stepUpSection = document.getElementById("stepUpSection");
        const inflationSection = document.getElementById("inflationSection");

        // Elements for results
        const investedAmountItem =
          document.getElementById("investedAmountItem");
        const totalInvestmentLabel = document.getElementById(
          "totalInvestmentLabel"
        );
        const expectedGrowthLabel = document.getElementById(
          "expectedGrowthLabel"
        );
        const growthPercentageItem = document.getElementById(
          "growthPercentageItem"
        );
        const inflationAdjustedTargetItem = document.getElementById(
          "inflationAdjustedTargetItem"
        );
        const estimatedTotalInvestedYearsItem = document.getElementById(
          "estimatedTotalInvestedYearsItem"
        );

        // Get toggle and control elements for step-up and inflation
        const stepUpToggle = document.getElementById("stepUpToggle");
        const stepUpControls = document.getElementById("stepUpControls");
        const inflationToggle = document.getElementById("inflationToggle");
        const inflationControls = document.getElementById("inflationControls");

        // Reset toggles and hide controls when switching modes
        stepUpToggle.checked = false;
        stepUpControls.classList.add(
          "hidden",
          "opacity-50",
          "pointer-events-none"
        );
        inflationToggle.checked = false;
        inflationControls.classList.add(
          "hidden",
          "opacity-50",
          "pointer-events-none"
        );

        if (targetMode) {
          targetBtn.classList.add("bg-white", "text-gray-800", "shadow-sm");
          targetBtn.classList.remove("text-gray-600", "hover:bg-gray-200");
          investmentBtn.classList.remove(
            "bg-white",
            "text-gray-800",
            "shadow-sm"
          );
          investmentBtn.classList.add("text-gray-600", "hover:bg-gray-200");

          sipRequired.classList.remove("hidden");
          inflationAdjustedTargetItem.classList.remove("hidden");
          estimatedTotalInvestedYearsItem.classList.remove("hidden"); // Show new item
          growthPercentageItem.classList.add("hidden"); // Hide growth percentage
          investedAmountItem.classList.add("hidden"); // Hide invested amount in target mode

          amountLabel.textContent = "Target Amount";
          amountInput.value = formatNumberWithIndianCommas(10000000); // Default target 1 Cr
          amountInput.min = "100000"; // Min target 1 Lakh
          amountInput.max = "1000000000"; // Max target 100 Cr
          amountSlider.value = "10000000";
          amountSlider.min = "100000";
          amountSlider.max = "1000000000";
          amountMinSpan.textContent = "₹1L";
          amountMaxSpan.textContent = "₹100Cr";

          stepUpSection.classList.add("hidden"); // Hide step-up section in target mode
          inflationSection.classList.remove("hidden"); // Show inflation section in target mode

          // Set fixed labels for investment mode
          totalInvestmentLabel.textContent = "Invested amount"; // Revert to original label
          expectedGrowthLabel.textContent = "Est. returns"; // Revert to original label

          calculateRequiredSIP();
        } else {
          investmentBtn.classList.add("bg-white", "text-gray-800", "shadow-sm");
          investmentBtn.classList.remove("text-gray-600", "hover:bg-gray-200");
          targetBtn.classList.remove("bg-white", "text-gray-800", "shadow-sm");
          targetBtn.classList.add("text-gray-600", "hover:bg-gray-200");

          sipRequired.classList.add("hidden");
          inflationAdjustedTargetItem.classList.add("hidden");
          estimatedTotalInvestedYearsItem.classList.add("hidden"); // Hide new item
          growthPercentageItem.classList.remove("hidden"); // Show growth percentage
          investedAmountItem.classList.remove("hidden"); // Show invested amount in investment mode

          amountLabel.textContent = "Monthly Investment";
          amountInput.value = formatNumberWithIndianCommas(25000); // Default monthly 25k
          amountInput.min = "500";
          amountInput.max = "1000000"; // Max monthly 10L
          amountSlider.value = "25000";
          amountSlider.min = "500";
          amountSlider.max = "1000000";
          amountMinSpan.textContent = "₹500";
          amountMaxSpan.textContent = "₹10L";

          stepUpSection.classList.remove("hidden"); // Show step-up section in investment mode
          inflationSection.classList.add("hidden"); // Hide inflation section in investment mode

          // Set fixed labels for investment mode
          totalInvestmentLabel.textContent = "Invested amount";
          expectedGrowthLabel.textContent = "Est. returns";

          calculateSIP();
        }
      }
      // Function to generate email content and open mail client
      function sendEmailPlan() {
        const subject = encodeURIComponent("My SIP Calculator Plan");
        let body = `Hello,\n\nHere is my SIP calculation plan:\n\n`;
        if (isTargetMode) {
          body += `Mode: Target Amount\n`;
          body += `Target Amount: ${formatCurrency(
            parseIndianFormattedNumber(
              document.getElementById("amountInput").value
            )
          )}\n`;
          const inflationEnabled =
            document.getElementById("inflationToggle").checked;
          if (inflationEnabled) {
            body += `Expected Inflation: ${
              document.getElementById("inflationInput").value
            }%\n`;
            body += `Target amount (inflation adjusted): ${formatCurrency(
              lastCalculatedInflationAdjustedTarget
            )}\n`;
          } else {
            body += `Expected Inflation: Not considered\n`;
          }
          body += `Est. monthly SIP required: ${formatCurrency(
            lastCalculatedRequiredSip
          )}\n`;
          body += `Est. Total amount invested in (${
            document.getElementById("timeInput").value
          }) years: ${formatCurrency(lastCalculatedInvestment)}\n\n`; // New item
        } else {
          body += `Mode: Monthly Investment\n`;
          body += `Monthly Investment: ${formatCurrency(
            parseIndianFormattedNumber(
              document.getElementById("amountInput").value
            )
          )}\n`;
          const stepUpEnabled = document.getElementById("stepUpToggle").checked;
          if (stepUpEnabled) {
            body += `Annual Step-up: ${
              document.getElementById("stepUpInput").value
            }%\n`;
          } else {
            body += `Annual Step-up: No\n`;
          }
        }
        body += `Expected Return Rate: ${
          document.getElementById("returnInput").value
        }%\n`;
        body += `Time Period: ${
          document.getElementById("timeInput").value
        } Years\n\n`;
        body += `--- Results ---\n`;
        if (!isTargetMode) {
          // Only include invested amount if not in target mode
          body += `Invested amount: ${formatCurrency(
            lastCalculatedInvestment
          )}\n`;
        }
        body += `Estimated returns: ${formatCurrency(lastCalculatedReturns)}\n`;
        body += `Total value: ${formatCurrency(lastCalculatedTotal)}\n`;
        if (!isTargetMode) {
          body += `Growth Percentage: ${lastCalculatedGrowthPercentage.toFixed(
            1
          )}%\n\n`;
        }
        body += `Calculated using Chimulkar Financial Services Calculator.`;
        window.location.href = `mailto:?subject=${subject}&body=${encodeURIComponent(
          body
        )}`;
      }
      // Function to generate WhatsApp message and open WhatsApp
      function sendWhatsAppPlan() {
        let message = `My SIP Calculation Plan:\n\n`;
        if (isTargetMode) {
          message += `Mode: Target Amount\n`;
          message += `Target Amount: ${formatCurrency(
            parseIndianFormattedNumber(
              document.getElementById("amountInput").value
            )
          )}\n`;
          const inflationEnabled =
            document.getElementById("inflationToggle").checked;
          if (inflationEnabled) {
            message += `Expected Inflation: ${
              document.getElementById("inflationInput").value
            }%\n`;
            message += `Target amount (inflation adjusted): ${formatCurrency(
              lastCalculatedInflationAdjustedTarget
            )}\n`;
          } else {
            message += `Expected Inflation: Not considered\n`;
          }
          message += `Est. monthly SIP required: ${formatCurrency(
            lastCalculatedRequiredSip
          )}\n`;
          message += `Est. Total amount invested in (${
            document.getElementById("timeInput").value
          }) years: ${formatCurrency(lastCalculatedInvestment)}\n\n`; // New item
        } else {
          message += `Mode: Monthly Investment\n`;
          message += `Monthly Investment: ${formatCurrency(
            parseIndianFormattedNumber(
              document.getElementById("amountInput").value
            )
          )}\n`;
          const stepUpEnabled = document.getElementById("stepUpToggle").checked;
          if (stepUpEnabled) {
            message += `Annual Step-up: ${
              document.getElementById("stepUpInput").value
            }%\n`;
          } else {
            message += `Annual Step-up: No\n`;
          }
        }
        message += `Expected Return Rate: ${
          document.getElementById("returnInput").value
        }%\n`;
        message += `Time Period: ${
          document.getElementById("timeInput").value
        } Years\n\n`;
        message += `--- Results ---\n`;
        if (!isTargetMode) {
          // Only include invested amount if not in target mode
          message += `Invested amount: ${formatCurrency(
            lastCalculatedInvestment
          )}\n`;
        }
        message += `Estimated returns: ${formatCurrency(
          lastCalculatedReturns
        )}\n`;
        message += `Total value: ${formatCurrency(lastCalculatedTotal)}\n`;
        if (!isTargetMode) {
          message += `Growth Percentage: ${lastCalculatedGrowthPercentage.toFixed(
            1
          )}%\n\n`;
        }
        message += `Calculated using Chimulkar Financial Services Calculator.`;
        window.open(
          `https://wa.me/?text=${encodeURIComponent(message)}`,
          "_blank"
        );
      }
      // Function to download the entire calculator as an image
      function downloadCalculatorImage() {
        const calculatorContainer = document.getElementById(
          "calculatorContainer"
        );
        // Use html2canvas to capture the content of the calculatorContainer
        html2canvas(calculatorContainer, {
          scale: 2, // Increase scale for better resolution
          useCORS: true, // Enable CORS if you have external images/fonts
          logging: false, // Disable logging for cleaner console
        })
          .then((canvas) => {
            const image = canvas.toDataURL("image/png"); // Get data URL of the canvas content as PNG
            const link = document.createElement("a");
            link.href = image;
            link.download = "sip_calculator_screenshot.png"; // Set the filename for download
            document.body.appendChild(link); // Append to body to make it clickable
            link.click(); // Programmatically click the link to trigger download
            document.body.removeChild(link); // Clean up the temporary link
          })
          .catch((error) => {
            console.error("Error capturing calculator image:", error);
            alert("Failed to capture image. Please try again.");
          });
      }
      // Setup event listeners
      function setupEventListeners() {
        // Mode toggle
        document
          .getElementById("investmentModeBtn")
          .addEventListener("click", () => toggleMode(false));
        document
          .getElementById("targetModeBtn")
          .addEventListener("click", () => toggleMode(true));
        // Action Buttons
        document
          .getElementById("emailPlanBtn")
          .addEventListener("click", sendEmailPlan);
        document
          .getElementById("whatsappBtn")
          .addEventListener("click", sendWhatsAppPlan);
        document
          .getElementById("downloadImageBtn")
          .addEventListener("click", downloadCalculatorImage); // Updated event listener
        // Input and Slider sync
        const inputs = [
          { id: "amount", slider: "amountSlider", input: "amountInput" },
          { id: "return", slider: "returnSlider", input: "returnInput" },
          { id: "time", slider: "timeSlider", input: "timeInput" },
          { id: "stepUp", slider: "stepUpSlider", input: "stepUpInput" },
          {
            id: "inflation",
            slider: "inflationSlider",
            input: "inflationInput",
          },
        ];
        inputs.forEach((item) => {
          const slider = document.getElementById(item.slider);
          const input = document.getElementById(item.input);
          if (item.id === "amount") {
            // Special handling for amount input
            input.addEventListener("input", function () {
              let parsedValue = parseIndianFormattedNumber(this.value);
              slider.value = parsedValue;
              this.value = formatNumberWithIndianCommas(parsedValue);
              isTargetMode ? calculateRequiredSIP() : calculateSIP();
            });
            slider.addEventListener("input", function () {
              input.value = formatNumberWithIndianCommas(
                parseFloat(this.value)
              );
              isTargetMode ? calculateRequiredSIP() : calculateSIP();
            });
          } else {
            // Standard handling for other number inputs
            input.addEventListener("input", function () {
              slider.value = this.value;
              isTargetMode ? calculateRequiredSIP() : calculateSIP();
            });
            slider.addEventListener("input", function () {
              input.value = this.value;
              isTargetMode ? calculateRequiredSIP() : calculateSIP();
            });
          }
        });
        // Step-up toggle
        const stepUpToggle = document.getElementById("stepUpToggle");
        const stepUpControls = document.getElementById("stepUpControls");
        stepUpToggle.addEventListener("change", function () {
          if (this.checked) {
            stepUpControls.classList.remove(
              "hidden",
              "opacity-50",
              "pointer-events-none"
            );
          } else {
            stepUpControls.classList.add(
              "hidden",
              "opacity-50",
              "pointer-events-none"
            );
          }
          if (!isTargetMode) calculateSIP(); // Only recalculate if in investment mode
        });
        // Inflation toggle
        const inflationToggle = document.getElementById("inflationToggle");
        const inflationControls = document.getElementById("inflationControls");
        inflationToggle.addEventListener("change", function () {
          if (this.checked) {
            inflationControls.classList.remove(
              "hidden",
              "opacity-50",
              "pointer-events-none"
            );
          } else {
            inflationControls.classList.add(
              "hidden",
              "opacity-50",
              "pointer-events-none"
            );
          }
          if (isTargetMode) calculateRequiredSIP(); // Only recalculate if in target mode
        });

        // Listen for changes on the time input/slider to update the label for "Est. Total amount invested in (X) years"
        document
          .getElementById("timeInput")
          .addEventListener("input", function () {
            document.getElementById("timePeriodLabel").textContent = this.value;
            if (isTargetMode) calculateRequiredSIP(); // Recalculate if in target mode to update the value
          });
        document
          .getElementById("timeSlider")
          .addEventListener("input", function () {
            document.getElementById("timeInput").value = this.value; // Sync input with slider
            document.getElementById("timePeriodLabel").textContent = this.value;
            if (isTargetMode) calculateRequiredSIP(); // Recalculate if in target mode to update the value
          });
      }
      // Initialize everything on load
      window.addEventListener("load", function () {
        initChart();
        setupEventListeners();
        // Initial calculation (default to Investment Mode)
        calculateSIP();
      });
    </script>
  </body>
</html>
