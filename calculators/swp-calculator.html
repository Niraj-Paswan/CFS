<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SWP Calculator - Chimulkar Financial Services</title>
    <link
      rel="shortcut icon"
      href="../assets/favicon.png"
      type="image/x-icon"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Add html2canvas library for screenshots -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Poppins", sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }
      /* Custom Slider Styles */
      .custom-slider {
        -webkit-appearance: none;
        appearance: none;
        height: 6px;
        border-radius: 3px;
        background: #e5e7eb;
        outline: none;
        transition: all 0.3s ease;
      }
      .custom-slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: #fcaf1b;
        cursor: grab;
        border: none;
        box-shadow: 0 2px 6px rgba(252, 175, 27, 0.4);
        transition: all 0.2s ease;
      }
      .custom-slider::-webkit-slider-thumb:active {
        cursor: grabbing;
      }
      .custom-slider::-moz-range-thumb {
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: #fcaf1b;
        cursor: grab;
        border: none;
        box-shadow: 0 2px 6px rgba(252, 175, 27, 0.4);
        transition: all 0.2s ease;
      }
      /* Toggle Switch */
      .toggle-switch {
        position: relative;
        display: inline-block;
        width: 48px;
        height: 28px;
      }
      .toggle-switch input {
        opacity: 0;
        width: 0;
        height: 0;
      }
      .toggle-slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #e5e7eb;
        transition: all 0.3s ease;
        border-radius: 28px;
      }
      .toggle-slider:before {
        position: absolute;
        content: "";
        height: 20px;
        width: 20px;
        left: 4px;
        bottom: 4px;
        background-color: white;
        transition: all 0.3s ease;
        border-radius: 50%;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
      }
      input:checked + .toggle-slider {
        background-color: #161f48;
      }
      input:checked + .toggle-slider:before {
        transform: translateX(20px);
      }
      /* Input field styling */
      .input-value-box {
        background-color: #f3f4f6;
        border-radius: 8px;
        padding: 8px 12px;
        font-weight: 600;
        color: #1f2937;
        display: flex;
        align-items: center;
        gap: 4px;
        transition: all 0.2s ease;
      }
      .input-value-box:focus-within {
        box-shadow: 0 0 0 2px rgba(22, 31, 72, 0.2);
      }
      .input-value-box input {
        background: none;
        border: none;
        outline: none;
        width: 100%;
        font-weight: 600;
        color: #1f2937;
        text-align: right;
        padding: 0;
      }
      /* Result item styling */
      .result-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 12px 0;
        border-bottom: 1px solid #f3f4f6;
      }
      .result-item:last-child {
        border-bottom: none;
      }
      .result-item .label {
        font-weight: 500;
        color: #4b5563;
      }
      .result-item .value {
        font-weight: 600;
        color: #1f2937;
      }
      /* Chart legend dots */
      .chart-legend-dot {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        display: inline-block;
        margin-right: 8px;
      }
    </style>
  </head>
  <body
    class="bg-gray-100 flex flex-col items-center justify-center min-h-screen"
  >
    <section
      class="max-w-6xl w-full flex justify-center items-center text-center flex-col p-4 mt-16"
    >
      <div
        class="max-w-6xl w-full flex justify-center items-center text-center flex-col"
      >
        <div class="text-center mb-8 mt-8">
          <h1 class="text-2xl lg:text-4xl font-semibold text-black mb-3">
            Systematic Withdrawal Plan
            <span class="text-[#fcaf1b]">Calculator</span>
          </h1>
          <p class="text-gray-500 text-base lg:text-lg">
            Plan your monthly withdrawals smartly. Save or share your results
            with ease.
          </p>
        </div>

        <div
          id="calculatorContainer"
          class="max-w-6xl w-full bg-white p-4 rounded-3xl border border-gray-300 overflow-hidden"
        >
          <!-- Mode Toggle -->
          <div class="flex justify-center p-2 mt-1 border-b border-gray-100">
            <div class="inline-flex bg-gray-100 rounded-lg p-1">
              <button
                id="monthlyModeBtn"
                class="px-5 py-2 text-base font-medium rounded-md transition-colors duration-200 bg-white text-gray-800 shadow-base cursor-pointer"
              >
                Portfolio Value
              </button>
              <button
                id="yearlyModeBtn"
                class="px-5 py-2 text-base font-medium rounded-md transition-colors duration-200 text-gray-600 hover:bg-gray-200 cursor-pointer"
              >
                Monthly Withdrawal
              </button>
            </div>
          </div>

          <!-- Tab 1: Portfolio Value Mode -->
          <div id="portfolioTab" class="tab-content">
            <div class="grid lg:grid-cols-2 gap-8 p-8 text-start">
              <!-- Left Side - Input Controls -->
              <div class="space-y-8">
                <!-- Initial Investment -->
                <div>
                  <div
                    class="flex items-center justify-between mb-3 text-start"
                  >
                    <label class="text-lg font-medium text-gray-700"
                      >Portfolio Value</label
                    >
                    <div class="input-value-box w-40">
                      <span class="text-gray-500">₹</span>
                      <input
                        type="text"
                        id="investmentInput"
                        value="10,00,000"
                        min="50000"
                        max="100000000"
                        step="1000"
                      />
                    </div>
                  </div>
                  <input
                    type="range"
                    id="investmentSlider"
                    min="50000"
                    max="100000000"
                    value="1000000"
                    step="1000"
                    class="custom-slider w-full mt-4"
                  />
                  <div class="flex justify-between text-xs text-gray-500 mt-2">
                    <span>₹50K</span>
                    <span>₹10Cr</span>
                  </div>
                </div>

                <!-- Withdrawal Amount -->
                <div>
                  <div class="flex items-center justify-between mb-3">
                    <label
                      id="withdrawalLabel"
                      class="text-lg font-medium text-gray-700"
                      >Monthly Withdrawal</label
                    >
                    <div class="input-value-box w-40">
                      <span class="text-gray-500">₹</span>
                      <input
                        type="text"
                        id="withdrawalInput"
                        value="10,000"
                        min="1000"
                        max="1000000"
                        step="100"
                      />
                    </div>
                  </div>
                  <input
                    type="range"
                    id="withdrawalSlider"
                    min="1000"
                    max="1000000"
                    value="10000"
                    step="100"
                    class="custom-slider w-full mt-4"
                  />
                  <div class="flex justify-between text-xs text-gray-500 mt-2">
                    <span id="withdrawalMinLabel">₹1K</span>
                    <span id="withdrawalMaxLabel">₹10L</span>
                  </div>
                </div>

                <!-- Expected Return Rate -->
                <div>
                  <div class="flex items-start justify-between mb-3">
                    <label class="text-lg text-start font-medium text-gray-700"
                      >Expected return rate (p.a)</label
                    >
                    <div class="input-value-box w-32">
                      <input
                        type="number"
                        id="returnInput"
                        value="12"
                        min="1"
                        max="30"
                        step="0.1"
                      />
                      <span class="text-gray-500">%</span>
                    </div>
                  </div>
                  <input
                    type="range"
                    id="returnSlider"
                    min="1"
                    max="30"
                    value="12"
                    step="0.1"
                    class="custom-slider w-full mt-4"
                  />
                  <div class="flex justify-between text-xs text-gray-500 mt-2">
                    <span>1%</span>
                    <span>30%</span>
                  </div>
                </div>

                <!-- Withdrawal Period -->
                <div>
                  <div class="flex items-center justify-between mb-3">
                    <label class="text-lg font-medium text-gray-700"
                      >Withdrawal Period</label
                    >
                    <div class="input-value-box w-32">
                      <input
                        type="number"
                        id="timeInput"
                        value="10"
                        min="1"
                        max="50"
                      />
                      <span class="text-gray-500">Y</span>
                    </div>
                  </div>
                  <input
                    type="range"
                    id="timeSlider"
                    min="1"
                    max="50"
                    value="10"
                    class="custom-slider w-full mt-4"
                  />
                  <div class="flex justify-between text-xs text-gray-500 mt-2">
                    <span>1Y</span>
                    <span>50Y</span>
                  </div>
                </div>

                <!-- Inflation Adjustment -->
                <div id="inflationSection">
                  <div class="flex items-center justify-between mb-6">
                    <label class="text-lg font-medium text-gray-700">
                      Adjust for inflation
                    </label>

                    <div class="flex items-center space-x-2">
                      <span class="text-sm text-gray-600">No</span>
                      <label class="toggle-switch">
                        <input type="checkbox" id="inflationToggle" />
                        <span class="toggle-slider"></span>
                      </label>
                      <span class="text-sm text-gray-600">Yes</span>
                    </div>
                  </div>

                  <div id="inflationRateSection" style="display: none">
                    <div class="flex items-center justify-between mb-3">
                      <label class="text-lg font-medium text-gray-700"
                        >Expected inflation rate (p.a)</label
                      >
                      <div class="input-value-box w-32">
                        <input
                          type="number"
                          id="inflationInput"
                          value="6"
                          min="0"
                          max="15"
                          step="0.1"
                        />
                        <span class="text-gray-500">%</span>
                      </div>
                    </div>
                    <input
                      type="range"
                      id="inflationSlider"
                      min="0"
                      max="15"
                      value="6"
                      step="0.1"
                      class="custom-slider w-full mt-4"
                    />
                    <div
                      class="flex justify-between text-xs text-gray-500 mt-2"
                    >
                      <span>0%</span>
                      <span>15%</span>
                    </div>
                  </div>
                </div>

                <!-- Disclaimer -->
                <h1
                  id="openDisclaimer"
                  class="text-sm text-blue-600 hover:underline hover:cursor-pointer text-start"
                >
                  View Disclaimer
                </h1>
              </div>

              <!-- Right Side - Results and Chart -->
              <div class="space-y-8">
                <!-- Chart -->
                <div class="flex justify-center items-center h-64">
                  <div class="relative w-64 h-64">
                    <canvas id="swpChart"></canvas>
                    <div
                      class="absolute inset-0 flex items-center justify-center"
                    >
                      <div class="text-center">
                        <div class="text-sm text-gray-500">Final Balance</div>
                        <div
                          id="finalBalanceCenter"
                          class="text-xl font-semibold text-gray-800"
                        >
                          ₹0
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Chart Legend -->
                <div
                  class="flex justify-center space-x-6 text-sm text-gray-600"
                >
                  <div>
                    <span class="chart-legend-dot bg-gray-300"></span>
                    <span>Total Withdrawn</span>
                  </div>
                  <div>
                    <span
                      class="chart-legend-dot"
                      style="background-color: #161f48"
                    ></span>
                    <span>Remaining Balance</span>
                  </div>
                </div>

                <!-- Results -->
                <div class="space-y-2">
                  <div class="result-item">
                    <span class="label">Initial Investment</span>
                    <span id="initialInvestmentResult" class="value"
                      >₹10.00 L</span
                    >
                  </div>
                  <div class="result-item">
                    <span class="label">Total Withdrawn</span>
                    <span id="totalWithdrawn" class="value">₹12.00 L</span>
                  </div>
                  <div class="result-item">
                    <span class="label">Final Balance</span>
                    <span id="finalBalance" class="value text-lg font-bold"
                      >₹8.50 L</span
                    >
                  </div>
                  <div class="result-item">
                    <span class="label" id="withdrawalPeriodLabel"
                      >Monthly Withdrawal</span
                    >
                    <span
                      id="withdrawalAmount"
                      class="value text-lg font-bold"
                      style="color: #161f48"
                      >₹10,000</span
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Tab 2: Monthly Withdrawal Mode -->
          <div id="withdrawalTab" class="tab-content hidden">
            <div class="grid lg:grid-cols-2 gap-8 p-8 text-start">
              <!-- Left Side - Input Controls -->
              <div class="space-y-8">
                <!-- Monthly Withdrawal in today's terms -->
                <div>
                  <div
                    class="flex items-center justify-between mb-3 text-start"
                  >
                    <label class="text-lg font-medium text-gray-700"
                      >Monthly Withdrawal in today’s terms</label
                    >
                    <div class="input-value-box w-40">
                      <span class="text-gray-500">₹</span>
                      <input
                        type="text"
                        id="monthlyWithdrawInput"
                        value="25,000"
                        min="1000"
                        max="1000000"
                        step="100"
                      />
                    </div>
                  </div>
                  <input
                    type="range"
                    id="monthlyWithdrawSlider"
                    min="1000"
                    max="1000000"
                    value="25000"
                    step="100"
                    class="custom-slider w-full mt-4"
                  />
                  <div class="flex justify-between text-xs text-gray-500 mt-2">
                    <span>₹1K</span>
                    <span>₹10L</span>
                  </div>
                </div>

                <!-- Time to start withdrawals -->
                <div>
                  <div class="flex items-center justify-between mb-3">
                    <label class="text-lg font-medium text-gray-700"
                      >Time to start withdrawals
                    </label>
                    <div class="input-value-box w-32">
                      <input
                        type="number"
                        id="startYearsInput"
                        value="5"
                        min="0"
                        max="50"
                      />
                      <span class="text-gray-500">Y</span>
                    </div>
                  </div>
                  <input
                    type="range"
                    id="startYearsSlider"
                    min="0"
                    max="50"
                    value="5"
                    class="custom-slider w-full mt-4"
                  />
                  <div class="flex justify-between text-xs text-gray-500 mt-2">
                    <span>0Y</span>
                    <span>50Y</span>
                  </div>
                </div>

                <!-- Expected Inflation -->
                <div>
                  <div class="flex items-start justify-between mb-3">
                    <label class="text-lg text-start font-medium text-gray-700"
                      >Expected Inflation (p.a)</label
                    >
                    <div class="input-value-box w-32">
                      <input
                        type="number"
                        id="inflationRateInput"
                        value="6"
                        min="0"
                        max="15"
                        step="0.1"
                      />
                      <span class="text-gray-500">%</span>
                    </div>
                  </div>
                  <input
                    type="range"
                    id="inflationRateSlider"
                    min="0"
                    max="15"
                    value="6"
                    step="0.1"
                    class="custom-slider w-full mt-4"
                  />
                  <div class="flex justify-between text-xs text-gray-500 mt-2">
                    <span>0%</span>
                    <span>15%</span>
                  </div>
                </div>

                <!-- Years of withdrawal -->
                <div>
                  <div class="flex items-center justify-between mb-3">
                    <label class="text-lg font-medium text-gray-700"
                      >Years of withdrawal</label
                    >
                    <div class="input-value-box w-32">
                      <input
                        type="number"
                        id="withdrawYearsInput"
                        value="20"
                        min="1"
                        max="100"
                      />
                      <span class="text-gray-500">Y</span>
                    </div>
                  </div>
                  <input
                    type="range"
                    id="withdrawYearsSlider"
                    min="1"
                    max="100"
                    value="20"
                    class="custom-slider w-full mt-4"
                  />
                  <div class="flex justify-between text-xs text-gray-500 mt-2">
                    <span>1Y</span>
                    <span>100Y</span>
                  </div>
                </div>

                <!-- Est. Portfolio growth rate -->
                <div>
                  <div class="flex items-start justify-between mb-3">
                    <label class="text-lg text-start font-medium text-gray-700"
                      >Est. Portfolio growth rate (p.a)</label
                    >
                    <div class="input-value-box w-32">
                      <input
                        type="number"
                        id="growthRateInput"
                        value="10"
                        min="1"
                        max="30"
                        step="0.1"
                      />
                      <span class="text-gray-500">%</span>
                    </div>
                  </div>
                  <input
                    type="range"
                    id="growthRateSlider"
                    min="1"
                    max="30"
                    value="10"
                    step="0.1"
                    class="custom-slider w-full mt-4"
                  />
                  <div class="flex justify-between text-xs text-gray-500 mt-2">
                    <span>1%</span>
                    <span>30%</span>
                  </div>
                </div>

                <!-- Leave behind corpus -->
                <div>
                  <div class="flex items-center justify-between mb-6">
                    <label class="text-lg font-medium text-gray-700">
                      Leave behind a corpus
                    </label>

                    <div class="flex items-center space-x-2">
                      <span class="text-sm text-gray-600">No</span>
                      <label class="toggle-switch">
                        <input type="checkbox" id="corpusToggle" />
                        <span class="toggle-slider"></span>
                      </label>
                      <span class="text-sm text-gray-600">Yes</span>
                    </div>
                  </div>

                  <div id="corpusAmountSection" style="display: none">
                    <div class="flex items-center justify-between mb-3">
                      <label class="text-lg font-medium text-gray-700"
                        >Corpus amount</label
                      >
                      <div class="input-value-box w-40">
                        <span class="text-gray-500">₹</span>
                        <input
                          type="text"
                          id="corpusAmountInput"
                          value="10,00,000"
                          min="0"
                          max="100000000"
                          step="10000"
                        />
                      </div>
                    </div>
                    <input
                      type="range"
                      id="corpusAmountSlider"
                      min="0"
                      max="100000000"
                      value="1000000"
                      step="10000"
                      class="custom-slider w-full mt-4"
                    />
                    <div
                      class="flex justify-between text-xs text-gray-500 mt-2"
                    >
                      <span>₹0</span>
                      <span>₹10Cr</span>
                    </div>
                  </div>
                </div>

                <!-- Disclaimer -->
                <h1
                  id="openDisclaimer2"
                  class="text-sm text-blue-600 hover:underline hover:cursor-pointer text-start"
                >
                  View Disclaimer
                </h1>
              </div>

              <!-- Right Side - Chart and Results -->
              <div class="space-y-8">
                <!-- Chart -->
                <div class="flex justify-center items-center h-64">
                  <div class="relative w-64 h-64">
                    <canvas id="swpChart2"></canvas>
                    <div
                      class="absolute inset-0 flex items-center justify-center"
                    >
                      <div class="text-center">
                        <div class="text-sm text-gray-500">
                          Required Portfolio
                        </div>
                        <div
                          id="requiredPortfolioCenter"
                          class="text-xl font-semibold text-gray-800"
                        >
                          ₹0
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Chart Legend -->
                <div
                  class="flex justify-center space-x-6 text-sm text-gray-600"
                >
                  <div>
                    <span class="chart-legend-dot bg-gray-300"></span>
                    <span>Total Withdrawn</span>
                  </div>
                  <div>
                    <span
                      class="chart-legend-dot"
                      style="background-color: #161f48"
                    ></span>
                    <span>Final Portfolio Value</span>
                  </div>
                </div>

                <!-- Results -->
                <div class="space-y-2">
                  <div class="result-item">
                    <span class="label"
                      >Future value of monthly withdrawal in
                      <span id="yearsLabel1">20</span> yrs</span
                    >
                    <span id="futureWithdrawalValue" class="value">₹0</span>
                  </div>
                  <div class="result-item">
                    <span class="label"
                      >Final portfolio value after
                      <span id="yearsLabel2">20</span> yrs of withdrawal</span
                    >
                    <span id="finalPortfolioValue" class="value">₹0</span>
                  </div>
                  <div class="result-item">
                    <span class="label"
                      >Total Portfolio value required to start SWP</span
                    >
                    <span
                      id="requiredPortfolioValue"
                      class="value text-lg font-bold"
                      style="color: #fcaf1b"
                      >₹0</span
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Action Buttons -->
          <div class="p-8 border-t border-gray-200">
            <div class="flex flex-wrap gap-4 justify-center">
              <button
                id="emailPlanBtn"
                class="flex items-center gap-2 text-sm lg:text-base px-4 lg:px-6 py-2 lg:py-3 rounded-full text-black border border-gray-300 hover:bg-gray-100 transition-colors cursor-pointer"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  x="0px"
                  y="0px"
                  width="24"
                  height="24"
                  viewBox="0 0 48 48"
                >
                  <path
                    fill="#4caf50"
                    d="M45,16.2l-5,2.75l-5,4.75L35,40h7c1.657,0,3-1.343,3-3V16.2z"
                  ></path>
                  <path
                    fill="#1e88e5"
                    d="M3,16.2l3.614,1.71L13,23.7V40H6c-1.657,0-3-1.343-3-3V16.2z"
                  ></path>
                  <polygon
                    fill="#e53935"
                    points="35,11.2 24,19.45 13,11.2 12,17 13,23.7 24,31.95 35,23.7 36,17"
                  ></polygon>
                  <path
                    fill="#c62828"
                    d="M3,12.298V16.2l10,7.5V11.2L9.876,8.859C9.132,8.301,8.228,8,7.298,8h0C4.924,8,3,9.924,3,12.298z"
                  ></path>
                  <path
                    fill="#fbc02d"
                    d="M45,12.298V16.2l-10,7.5V11.2l3.124-2.341C38.868,8.301,39.772,8,40.702,8h0 C43.076,8,45,9.924,45,12.298z"
                  ></path>
                </svg>
                Email Plan
              </button>
              <button
                id="whatsappBtn"
                class="flex items-center gap-2 text-base px-6 py-3 rounded-full text-black border border-gray-300 hover:bg-gray-100 transition-colors cursor-pointer"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  x="0px"
                  y="0px"
                  width="24"
                  height="24"
                  viewBox="0 0 48 48"
                >
                  <path
                    fill="#fff"
                    d="M4.9,43.3l2.7-9.8C5.9,30.6,5,27.3,5,24C5,13.5,13.5,5,24,5c5.1,0,9.8,2,13.4,5.6C41,14.2,43,18.9,43,24 c0,10.5-8.5,19-19,19c0,0,0,0,0,0h0c-3.2,0-6.3-0.8-9.1-2.3L4.9,43.3z"
                  ></path>
                  <path
                    fill="#fff"
                    d="M4.9,43.8c-0.1,0-0.3-0.1-0.4-0.1c-0.1-0.1-0.2-0.3-0.1-0.5L7,33.5c-1.6-2.9-2.5-6.2-2.5-9.6  C4.5,13.2,13.3,4.5,24,4.5c5.2,0,10.1,2,13.8,5.7c3.7,3.7,5.7,8.6,5.7,13.8c0,10.7-8.7,19.5-19.5,19.5c-3.2,0-6.3-0.8-9.1-2.3 L5,43.8C5,43.8,4.9,43.8,4.9,43.8z"
                  ></path>
                  <path
                    fill="#cfd8dc"
                    d="M24,5c5.1,0,9.8,2,13.4,5.6C41,14.2,43,18.9,43,24c0,10.5-8.5,19-19,19h0c-3.2,0-6.3-0.8-9.1-2.3L4.9,43.3 l2.7-9.8C5.9,30.6,5,27.3,5,24C5,13.5,13.5,5,24,5 M24,43L24,43L24,43 M24,43L24,43L24,43 M24,4L24,4C13,4,4,13,4,24  c0,3.4,0.8,6.7,2.5,9.6L3.9,43c-0.1,0.3,0,0.7,0.3,1c0.2,0.2,0.4,0.3,0.7,0.3c0.1,0,0.2,0,0.3,0l9.7-2.5c2.8,1.5,6,2.2,9.2,2.2  c11,0,20-9,20-20c0-5.3-2.1-10.4-5.8-14.1C34.4,6.1,29.4,4,24,4L24,4z"
                  ></path>
                  <path
                    fill="#40c351"
                    d="M35.2,12.8c-3-3-6.9-4.6-11.2-4.6C15.3,8.2,8.2,15.3,8.2,24c0,3,0.8,5.9,2.4,8.4L11,33l-1.6,5.8l6-1.6l0.6,0.3 c2.4,1.4,5.2,2.2,8,2.2h0c8.7,0,15.8-7.1,15.8-15.8C39.8,19.8,38.2,15.8,35.2,12.8z"
                  ></path>
                  <path
                    fill="#fff"
                    fill-rule="evenodd"
                    d="M19.3,16c-0.4-0.8-0.7-0.8-1.1-0.8c-0.3,0-0.6,0-0.9,0s-0.8,0.1-1.3,0.6c-0.4,0.5-1.7,1.6-1.7,4 s1.7,4.6,1.9,4.9s3.3,5.3,8.1,7.2c4,1.6,4.8,1.3,5.7,1.2c0.9-0.1,2.8-1.1,3.2-2.3c0.4-1.1,0.4-2.1,0.3-2.3c-0.1-0.2-0.4-0.3-0.9-0.6 s-2.8-1.4-3.2-1.5c-0.4-0.2-0.8-0.2-1.1,0.2c-0.3,0.5-1.2,1.5-1.5,1.9c-0.3,0.3-0.6,0.4-1,0.1c-0.5-0.2-2-0.7-3.8-2.4 c-1.4-1.3-2.4-2.8-2.6-3.3c-0.3-0.5,0-0.7,0.2-1c0.2-0.2,0.5-0.6,0.7-0.8c0.2-0.3,0.3-0.5,0.5-0.8c0.2-0.3,0.1-0.6,0-0.8  C20.6,19.3,19.7,17,19.3,16z"
                    clip-rule="evenodd"
                  ></path>
                </svg>
                WhatsApp
              </button>
              <button
                id="downloadImageBtn"
                class="flex items-center gap-2 text-base px-6 py-3 rounded-full text-black border border-gray-300 hover:bg-gray-100 transition-colors cursor-pointer"
              >
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                  <polyline points="7,10 12,15 17,10"></polyline>
                  <line x1="12" y1="15" x2="12" y2="3"></line>
                </svg>
                Download Image
              </button>
              <a
                href="../index.html#consultation"
                class="inline-flex items-center bg-[#fcaf1b] text-black hover:text-white pl-5 pr-3 py-3 rounded-full text-base gap-3 group transition hover:bg-[#161f48] shadow-md"
              >
                Start Investing
                <span
                  class="bg-white text-black rounded-full p-1.5 flex items-center justify-center transition-transform group-hover:translate-x-1"
                >
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <line x1="5" y1="12" x2="19" y2="12" />
                    <polyline points="12,5 19,12 12,19" />
                  </svg>
                </span>
              </a>
            </div>
          </div>
        </div>

        <!-- Disclaimer Modal -->
        <div
          id="disclaimerModal"
          class="fixed inset-0 p-4 bg-black bg-opacity-50 flex items-center justify-center hidden z-50 transition-opacity duration-300"
        >
          <div
            class="bg-white rounded-2xl shadow-lg max-w-4xl w-full p-8 relative transform transition-transform duration-300 scale-95"
            id="modalContent"
          >
            <button
              id="closeDisclaimer"
              class="absolute top-3 right-3 flex items-center justify-center w-8 h-8 bg-gray-200 rounded-full hover:bg-gray-300 transition-colors duration-200"
            >
              ✕
            </button>
            <h2 class="text-lg font-semibold mb-4 text-blue-700">
              Disclaimer ⚠️
            </h2>
            <p class="text-sm text-gray-700 leading-relaxed text-start">
              These Calculators alone are not sufficient and shouldn't be used
              for development or implementation of an investment strategy. The
              examples do not purport to represent the performance of any
              security or investments. The recipient is advised to consult his
              or her advisor/tax consultant prior to arriving at any investment
              decision. Mutual Funds do not have a fixed rate of return and it
              is not possible to predict the rate of return. Past performance
              may or may not be sustained in future and is not a guarantee of
              any future returns. Mutual Fund Investments are subject to market
              risks, read all scheme related documents carefully.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- =================================================================== -->
    <!-- NAVIGATION HEADER - Fixed position with dropdown menus -->
    <!-- =================================================================== -->
    <header class="bg-[#161f48] shadow-sm fixed w-full top-0 z-50">
      <!-- Logo -->
      <div
        class="mx-6 lg:mx-12 px-2 py-3 flex items-center justify-between relative"
      >
        <!-- Logo -->
        <div class="flex items-center gap-2">
          <a href="/" aria-label="Go to Home">
            <img
              src="../assets/CFS TRANSPARENT.png"
              class="h-12 w-auto"
              alt="Chimulkar Financial Services Logo"
            />
          </a>
        </div>

        <!-- Desktop Navigation -->
        <nav class="hidden md:flex gap-10 text-[16px] font-medium items-center">
          <!-- About Dropdown -->
          <div class="relative group">
            <button
              class="flex items-center gap-1 text-white hover:text-[#fcaf1b] transition cursor-pointer"
            >
              About <i data-lucide="chevron-down" class="w-4 h-4"></i>
            </button>
            <div
              class="absolute top-full left-0 mt-3 text-sm bg-white rounded-2xl p-2 min-w-[15rem] shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200"
            >
              <a
                href="../about-us.html"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="building-2" class="w-5 h-5"></i> About Us
              </a>

              <!-- Nested Team Dropdown -->
              <div class="relative group/team">
                <button
                  class="flex items-center justify-between w-full gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
                >
                  <span class="flex items-center gap-3">
                    <i data-lucide="users" class="w-5 h-5"></i> Our Team
                  </span>
                  <i data-lucide="chevron-right" class="w-4 h-4"></i>
                </button>
                <div
                  class="absolute top-0 left-full ml-2 bg-white rounded-2xl p-2 min-w-[12rem] shadow-lg border border-gray-200 opacity-0 invisible group-hover/team:opacity-100 group-hover/team:visible transition-all duration-200"
                >
                  <a
                    href="../teams/Prashant-Chimulkar.html"
                    class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
                  >
                    <i data-lucide="user" class="w-5 h-5"></i> Prashant
                  </a>
                  <a
                    href="../teams/Pranav-Chimulkar.html"
                    class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
                  >
                    <i data-lucide="user" class="w-5 h-5"></i> Pranav
                  </a>
                </div>
              </div>

              <a
                href="../foundation.html"
                target="_blank"
                rel="noopener noreferrer"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="heart-handshake" class="w-5 h-5"></i> Foundation
              </a>
            </div>
          </div>

          <!-- Services Dropdown -->
          <div class="relative group">
            <button
              class="flex items-center gap-1 text-white hover:text-[#fcaf1b] transition cursor-pointer"
            >
              Services <i data-lucide="chevron-down" class="w-4 h-4"></i>
            </button>
            <div
              class="absolute text-sm top-full left-0 mt-3 bg-white rounded-2xl p-2 min-w-[15rem] shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200"
            >
              <a
                href="../services/mutual-funds.html"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="chart-pie" class="w-5 h-5"></i> Mutual Funds
              </a>
              <a
                href="../services/retirement-planning.html"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="backpack" class="w-5 h-5"></i> Retirement
                Planning
              </a>
              <a
                href="../services/tax-planning.html"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="calculator" class="w-5 h-5"></i> Tax Planning
              </a>
              <a
                href="../services/insurance-planning.html"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="umbrella" class="w-5 h-5"></i> Insurance
                Planning
              </a>
              <a
                href="../services/education-savings.html"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="piggy-bank" class="w-5 h-5"></i>
                Education Savings
              </a>
              <a
                href="../services/legacy-planning.html"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="hand-coins" class="w-5 h-5"></i> Legacy Planning
              </a>
            </div>
          </div>

          <!-- Calculator Dropdown -->
          <div class="relative group">
            <button
              class="flex items-center gap-1 text-white hover:text-[#fcaf1b] transition cursor-pointer"
            >
              Calculators <i data-lucide="chevron-down" class="w-4 h-4"></i>
            </button>
            <div
              class="absolute text-sm top-full left-0 mt-3 bg-white rounded-2xl p-2 min-w-[15rem] shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200"
            >
              <a
                href="../calculators/sip-calculator.html"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="calculator" class="w-5 h-5"></i> SIP Calculator
              </a>
              <a
                href="../calculators/lump-sump-calculator.html"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="percent" class="w-5 h-5"></i> Lump Sum
              </a>
              <a
                href="../calculators/swp-calculator.html"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="activity" class="w-5 h-5"></i> SWP Calculator
              </a>
              <a
                href="../calculators/inflation-calculator.html"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="trending-up" class="w-5 h-5"></i> Inflation
                Calculator
              </a>
              <a
                href="../calculators/lumpsum+sip-calculator.html"
                class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="merge" class="w-5 h-5"></i> Lumpsum + SIP
              </a>
            </div>
          </div>

          <!-- Financial Literacy Dropdown -->
          <div class="relative group">
            <button
              class="flex items-center gap-1 text-white hover:text-[#fcaf1b] transition cursor-pointer"
            >
              Financial Literacy
              <i data-lucide="chevron-down" class="w-5 h-5"></i>
            </button>
            <div
              class="absolute text-sm top-full left-0 mt-3 bg-white rounded-2xl p-2 min-w-[15rem] shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200"
            >
              <a
                href="../financial-literacy.html"
                class="flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
              >
                <i data-lucide="book-open" class="w-5 h-5"></i> Basics
              </a>
              <a
                href="../workshops.html"
                class="flex items-center gap-2 px-3 py-2 hover:bg-[#fcaf1b] hover:text-white cursor-pointer rounded-lg"
              >
                <i data-lucide="presentation" class="w-5 h-5"></i> Workshops
              </a>
              <a
                href="../video-lessons.html"
                class="flex items-center gap-2 px-3 py-2 hover:bg-[#fcaf1b] hover:text-white cursor-pointer rounded-lg"
              >
                <i data-lucide="play-circle" class="w-5 h-5"></i> Video Lessons
              </a>
            </div>
          </div>

          <!-- Simple links -->
          <a
            href="../nri-corner.html"
            class="text-white hover:text-[#fcaf1b] transition"
            >NRI Hub</a
          >
          <a
            href="../contact-us.html"
            class="text-white hover:text-[#fcaf1b] transition"
            >Contact Us</a
          >
          <a
            href="../refer-us.html"
            class="text-white hover:text-[#fcaf1b] transition"
            >Refer Us</a
          >
        </nav>

        <!-- CTA Button -->
        <a
          href="../financial-assessment.html"
          class="hidden md:inline-flex items-center font-semibold border border-transparent bg-[#fcaf1b] text-black pl-5 pr-3 py-2 rounded-full text-sm gap-3 group transition hover:opacity-90 hover:border-[#fcaf1b]"
        >
          Get Free Assessment
          <span
            class="bg-white text-black rounded-full p-1.5 flex items-center justify-center transition-transform group-hover:translate-x-1"
          >
            <i data-lucide="arrow-right" class="w-4 h-4"></i>
          </span>
        </a>

        <!-- Mobile Menu Button -->
        <button
          id="menuToggle"
          class="md:hidden p-2 bg-gray-50 border border-gray-300 rounded-full hover:bg-gray-100"
        >
          <i data-lucide="align-right" class="w-6 h-6 text-[#161f48]"></i>
        </button>
      </div>
    </header>

    <!-- Announcement Bar - Positioned below navbar -->
    <!-- <div
      class="fixed top-[72px] w-full h-12 bg-[#161f48] z-40 flex items-center justify-center px-4 text-sm"
    >
      <a href="#" class="flex items-center text-[#fcaf1b] hover:underline">
        Get a no cost, no commitment assessment
        <i data-lucide="arrow-right" class="w-5 h-5 ml-2"></i>
      </a>
      <a href="#" class="hidden lg:inline-flex items-center text-white mr-2">
        <span class="text-[#fcaf1b] mx-2">|</span> Celebrating 40 Years of Trust
      </a>
    </div> -->

    <!-- Mobile Menu Backdrop - Dark overlay when mobile menu is open -->
    <div
      id="backdrop"
      class="fixed inset-0 bg-black/20 backdrop-blur-sm z-40 hidden opacity-0 transition"
    ></div>

    <!-- =================================================================== -->
    <!-- MOBILE NAVIGATION MENU - Slide-in from right -->
    <!-- =================================================================== -->
    <div
      id="mobileMenu"
      class="md:hidden fixed top-0 right-0 h-full max-w-xs bg-white shadow-xl transform translate-x-full transition duration-300 z-50 flex flex-col justify-between overflow-y-auto"
    >
      <!-- Mobile menu content -->
      <div class="p-6 flex flex-col gap-4">
        <!-- Mobile menu header with logo and close button -->
        <div class="flex justify-between items-center mb-4">
          <img src="../assets/logo.png" class="h-10" alt="Logo" />
          <button
            id="closeMenu"
            class="p-2 bg-gray-50 text-[#161f48] border border-gray-300 rounded-full hover:bg-gray-100 hover:cursor-pointer"
          >
            <i data-lucide="x" class="w-6 h-6"></i>
          </button>
        </div>

        <!-- Mobile navigation links -->

        <!-- Mobile About Us Accordion -->
        <!-- About Us (mobile accordion) -->

        <style>
          /* hide default marker */
          summary {
            list-style: none;
          }
          summary::-webkit-details-marker {
            display: none;
          }

          /* rotate only the chevron inside the SAME details > summary */
          details > summary .chev {
            transition: transform 0.2s ease;
            display: inline-flex;
          }
          details[open] > summary .chev {
            transform: rotate(180deg);
          }
        </style>

        <details>
          <summary
            class="flex justify-between items-center px-4 py-3 rounded-lg hover:bg-gray-100 cursor-pointer"
          >
            <span class="flex items-center gap-2">
              <i data-lucide="info" class="w-4 h-4"></i> About
            </span>
            <span class="chev"
              ><i data-lucide="chevron-down" class="w-4 h-4"></i
            ></span>
          </summary>

          <div class="pl-6 flex flex-col gap-2 mt-2 text-sm">
            <a
              href="../about-us.html"
              class="flex items-center gap-2 px-3 py-2 hover:bg-[#fcaf1b] hover:text-white rounded-lg"
            >
              <i data-lucide="building-2" class="w-4 h-4"></i> About Us
            </a>

            <!-- Nested team -->
            <details>
              <summary
                class="flex justify-between items-center px-3 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white cursor-pointer"
              >
                <span class="flex items-center gap-2">
                  <i data-lucide="users" class="w-4 h-4"></i> Our Team
                </span>
                <span class="chev"
                  ><i data-lucide="chevron-down" class="w-4 h-4"></i
                ></span>
              </summary>

              <div class="pl-6 flex flex-col gap-2 mt-2 text-sm">
                <a
                  href="../teams/Prashant-Chimulkar.html"
                  class="flex items-center gap-2 px-3 py-2 hover:bg-[#fcaf1b] hover:text-white rounded-lg"
                >
                  <i data-lucide="user" class="w-4 h-4"></i> Prashant
                </a>
                <a
                  href="../teams/Pranav-Chimulkar.html"
                  class="flex items-center gap-2 px-3 py-2 hover:bg-[#fcaf1b] hover:text-white rounded-lg"
                >
                  <i data-lucide="user" class="w-4 h-4"></i> Pranav
                </a>
              </div>
            </details>
            <a
              href="../foundation.html"
              target="_blank"
              rel="noopener noreferrer"
              class="flex items-center gap-2 px-3 py-2 hover:bg-[#fcaf1b] hover:text-white rounded-lg"
            >
              <i data-lucide="heart-handshake" class="w-4 h-4"></i> Foundation
            </a>
          </div>
        </details>

        <!-- Mobile Services Accordion -->
        <details class="group">
          <summary
            class="flex justify-between items-center px-4 py-3 rounded-lg hover:bg-gray-100 cursor-pointer"
          >
            <span class="flex items-center gap-2">
              <i data-lucide="briefcase" class="w-4 h-4"></i> Services
            </span>
            <i
              data-lucide="chevron-down"
              class="w-4 h-4 transition-transform group-open:rotate-180"
            ></i>
          </summary>

          <!-- Sub-links -->
          <div class="pl-6 flex flex-col gap-2 mt-2 text-sm">
            <a
              href="../services/mutual-funds.html"
              class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white transition"
            >
              <i data-lucide="chart-pie" class="w-4 h-4"></i> Mutual Funds
            </a>
            <a
              href="../services/retirement-planning.html"
              class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white transition"
            >
              <i data-lucide="backpack" class="w-4 h-4"></i> Retirement Planning
            </a>
            <a
              href="../services/tax-planning.html"
              class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white transition"
            >
              <i data-lucide="calculator" class="w-4 h-4"></i> Tax Planning
            </a>
            <a
              href="../services/insurance-planning.html"
              class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white transition"
            >
              <i data-lucide="umbrella" class="w-4 h-4"></i> Insurance Planning
            </a>
            <a
              href="../services/education-savings.html"
              class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white transition"
            >
              <i data-lucide="piggy-bank" class="w-4 h-4"></i> Education Savings
            </a>

            <a
              href="../services/legacy-planning.html"
              class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white transition"
            >
              <i data-lucide="hand-coins" class="w-4 h-4"></i> Legacy Planning
            </a>
          </div>
        </details>

        <!-- Mobile Calculator Accordion -->
        <details class="group">
          <summary
            class="flex justify-between items-center px-4 py-3 rounded-lg hover:bg-gray-100 cursor-pointer"
          >
            <span class="flex items-center gap-2">
              <i data-lucide="circle-divide" class="w-4 h-4"></i> Calculators
            </span>
            <i
              data-lucide="chevron-down"
              class="w-4 h-4 transition-transform group-open:rotate-180"
            ></i>
          </summary>
          <div class="pl-6 flex flex-col gap-4 mt-2 text-sm">
            <a
              href="../calculators/sip-calculator.html"
              class="flex items-center gap-2 px-3 py-2 hover:bg-[#fcaf1b] hover:text-white cursor-pointer rounded-lg"
            >
              <i data-lucide="calculator" class="w-4 h-4"></i> SIP Calculator
            </a>
            <a
              href="../calculators/lump-sump-calculator.html"
              class="flex items-center gap-2 px-3 py-2 hover:bg-[#fcaf1b] hover:text-white cursor-pointer rounded-lg"
            >
              <i data-lucide="percent" class="w-4 h-4"></i> Lump Sum
            </a>

            <a
              href="../calculators/swp-calculator.html"
              class="flex items-center gap-2 px-3 py-2 hover:bg-[#fcaf1b] hover:text-white cursor-pointer rounded-lg"
            >
              <i data-lucide="activity" class="w-4 h-4"></i> SWP Calculator
            </a>
            <a
              href="../calculators/inflation-calculator.html"
              class="flex items-center gap-3 px-4 py-2 hover:bg-[#fcaf1b] hover:text-white rounded-lg cursor-pointer"
            >
              <i data-lucide="trending-up" class="w-4 h-4"></i> Inflation
              Calculator
            </a>
            <a
              href="../calculators/lumpsum+sip-calculator.html"
              class="flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
            >
              <i data-lucide="merge" class="w-4 h-4"></i> Lumpsum + SIP
            </a>
          </div>
        </details>

        <!-- Mobile Financial Literacy Accordion -->
        <details class="group">
          <summary
            class="flex justify-between items-center px-4 py-3 rounded-lg hover:bg-gray-100 cursor-pointer"
          >
            <span class="flex items-center gap-2">
              <i data-lucide="graduation-cap" class="w-4 h-4"></i> Financial
              Literacy
            </span>
            <i
              data-lucide="chevron-down"
              class="w-4 h-4 transition-transform group-open:rotate-180"
            ></i>
          </summary>
          <div class="pl-6 flex flex-col gap-4 mt-2 text-sm">
            <a
              href="../financial-literacy.html"
              class="flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-[#fcaf1b] hover:text-white"
            >
              <i data-lucide="book-open" class="w-4 h-4"></i> Basics
            </a>
            <a
              href="../workshops.html"
              class="flex items-center gap-2 px-3 py-2 hover:bg-[#fcaf1b] hover:text-white cursor-pointer rounded-lg"
            >
              <i data-lucide="presentation" class="w-4 h-4"></i> Workshops
            </a>
            <a
              href="../video-lessons.html"
              class="flex items-center gap-2 px-3 py-2 hover:bg-[#fcaf1b] hover:text-white cursor-pointer rounded-lg"
            >
              <i data-lucide="play-circle" class="w-4 h-4"></i> Video Lessons
            </a>
          </div>
        </details>

        <!-- Additional mobile navigation links -->
        <a
          href="../nri-corner.html"
          class="flex items-center gap-2 px-4 py-3 rounded-lg hover:bg-gray-100 cursor-pointer"
        >
          <i data-lucide="globe" class="w-4 h-4"></i> NRI Hub
        </a>
        <a
          href="../contact-us.html"
          class="flex items-center gap-2 px-4 py-3 rounded-lg hover:bg-gray-100 cursor-pointer"
        >
          <i data-lucide="phone-call" class="w-4 h-4"></i> Contact Us
        </a>
        <a
          href="../refer-us.html"
          class="flex items-center gap-2 px-4 py-3 rounded-lg hover:bg-gray-100 cursor-pointer"
        >
          <i data-lucide="heart-handshake" class="w-4 h-4"></i> Refer Us
        </a>
      </div>

      <!-- Mobile CTA button at bottom -->
      <div class="p-6">
        <a
          href="https://app.chimulkar.com/login"
          class="inline-flex items-center group font-semibold bg-transparent hover:bg-[#fcaf1b] border border-black hover:border-[#fcaf1b] mb-6 text-black pl-5 pr-3 py-2 rounded-full text-sm gap-3 group transition"
        >
          Log in or Create Account
          <span
            class="bg-black text-white group-hover:bg-white group-hover:text-black rounded-full p-1.5 flex items-center justify-center transition-transform group-hover:translate-x-1"
          >
            <i data-lucide="arrow-right" class="w-4 h-4"></i>
          </span>
        </a>
        <a
          href="../financial-assessment.html"
          class="inline-flex items-center bg-[#fcaf1b] font-semibold text-black pl-5 pr-3 py-2 rounded-full text-sm gap-3 group transition hover:bg-[#161f48] hover:text-white"
        >
          Get Free Assessment
          <span
            class="bg-white text-black rounded-full p-1.5 flex items-center justify-center transition-transform group-hover:translate-x-1"
          >
            <i data-lucide="arrow-right" class="w-4 h-4"></i>
          </span>
        </a>
      </div>
    </div>

    <section
      class="w-full mx-auto max-w-[1110px] mt-8 p-5 lg:p-0 text-sm lg:text-base text-gray-900"
    >
      <h2 class="text-lg font-semibold mb-2">
        About the SWP (Systematic Withdrawal Plan) Calculator
      </h2>

      <p class="mb-4">
        A Systematic Withdrawal Plan (SWP) is the strategic inverse of an SIP.
        While an SIP is designed to build a corpus, an SWP is designed to
        <span class="font-semibold">monetize</span> it. This tool is essential
        for retirees, freelancers, or anyone looking to create a "self-made
        salary" from their accumulated investments. It allows you to withdraw a
        fixed amount at regular intervals while the remaining balance continues
        to stay invested and grow.
      </p>
      <p class="mb-4">
        Our SWP Calculator helps you determine how long your money will last or
        exactly how much you need to save before you can "switch off" your
        professional income, with a special feature to account for the rising
        cost of living.
      </p>

      <h3 class="text-lg font-semibold mb-2">How to Use This Calculator</h3>
      <p class="mb-4">
        This calculator features two distinct modes to help you engineer a
        sustainable income stream that stands the test of time.
      </p>

      <p class="font-semibold mb-1">
        Mode 1: Portfolio Sustainability (Final Balance Mode)
      </p>
      <p class="mb-2">
        Use this mode to see the future value of your portfolio after making
        regular withdrawals.
      </p>
      <ul class="list-disc ml-6 mb-4 space-y-1">
        <li>
          <span class="font-semibold">Initial Investment:</span> Enter the total
          corpus you currently have.
        </li>
        <li>
          <span class="font-semibold">Monthly Withdrawal:</span> Input the
          amount you wish to receive as a "salary" each month today.
        </li>
        <li>
          <span class="font-semibold">Expected Rate of Return:</span> Enter the
          annual return you anticipate on the remaining balance.
        </li>
        <li>
          <span class="font-semibold">Inflation Adjustment (Optional):</span>
          Enter the expected inflation rate (e.g. 6%) to see how your portfolio
          behaves if you increase your withdrawal amount every year to maintain
          your lifestyle.
        </li>
        <li>
          <span class="font-semibold">Time Period:</span>
          Specify how many years you plan to continue these withdrawals.
        </li>
        <li>
          <span class="font-semibold">The Result:</span>
          The calculator shows your Estimated Final Balance, helping you
          visualize if your corpus is growing, staying stable, or being
          depleted.
        </li>
      </ul>
      <p class="mb-4 hidden">
        The calculator will display the estimated final corpus, showing you the
        individual contribution of both your Lumpsum and your SIP.
      </p>

      <p class="font-semibold mb-1">
        Mode 2: Goal Calculation (Required Corpus Mode)
      </p>
      <p class="mb-2">
        Use this mode to find the exact "nest egg" required to support your
        desired lifestyle.
      </p>
      <ul class="list-disc ml-6 mb-4 space-y-1">
        <li>
          <span class="font-semibold">Target Monthly Withdrawal:</span> Enter
          the monthly amount you need today.
        </li>
        <li>
          <span class="font-semibold">Inflation Adjustment (Optional): </span>
          Input the expected inflation rate to ensure your "salary" grows as
          prices rise over the years.
        </li>
        <li>
          <span class="font-semibold">Expected Rate of Return:</span> Input the
          anticipated annual return on your investment.
        </li>
        <li>
          <span class="font-semibold">Withdrawal Duration:</span>
          Specify how many years you need this income to last.
        </li>
        <li>
          <span class="font-semibold">The Result:</span>
          The calculator reveals the Required Portfolio Value you must
          accumulate before you can safely begin your withdrawals.
        </li>
      </ul>
      <p class="mb-4 hidden">
        The calculator returns the monthly SIP required to hit your target.
      </p>

      <div class="text-sm lg:text-base text-black leading-relaxed space-y-4">
        <h3 class="font-semibold text-base lg:text-lg">
          The Impact of Inflation on Withdrawals
        </h3>

        <p>
          Standard SWPs often ignore the fact that ₹50,000 today will not buy
          the same groceries in 10 years. By using the
          <span class="font-semibold">Inflation Adjustment</span>
          feature, the calculator automatically increases your withdrawal amount
          by the inflation percentage annually.
        </p>

        <ul class="list-disc ml-6 space-y-1">
          <li>
            <span class="font-semibold">Without Inflation:</span>
            Your withdrawal stays fixed (e.g., ₹50,000 every month for 20
            years).
          </li>
          <li>
            <span class="font-semibold">With Inflation:</span>
            Your withdrawal starts at ₹50,000 but grows (e.g., ₹53,000 in year
            two, ₹56,180 in year three) to preserve your purchasing power.
          </li>
        </ul>
      </div>

      <h3 class="text-lg font-semibold mb-2 mt-4">
        Formula Used in the Calculator
      </h3>
      <p class="mb-4">
        Our calculator uses a standard financial formula to determine the value
        of your remaining corpus after a series of periodic withdrawals.
      </p>

      <p class="font-semibold mb-1">
        The remaining corpus (FV) is calculated using the future value of an
        annuity formula, in reverse:
      </p>

      <!-- MathJax script -->
      <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

      <div
        class="bg-gray-200/50 p-4 rounded-xl mt-4 text-sm overflow-x-auto mb-4"
      >
        <p><strong class="font-semibold">Main formula:</strong></p>
        $$\mathbf{FV} = \mathbf{P} \times (1 + r)^{t} \;-\; \mathbf{W} \times
        \frac{r \times \left( (1 + r)^{t} - 1 \right)}{r}$$

        <p><strong class="font-semibold">Where:</strong></p>
        <ul>
          <li>\(\mathbf{FV}\) = Final Corpus Value</li>
          <li>\(\mathbf{P}\) = Portfolio Value (Current)</li>
          <li>\(r\) = Periodic Rate of Return (Annual Rate ÷ 12)</li>
          <li>\(t\) = Total Number of Withdrawals (Years × 12)</li>
          <li>\(\mathbf{W}\) = Periodic Withdrawal Amount</li>
        </ul>
      </div>

      <p class="mb-4">
        This formula accounts for both the growth of the remaining principal and
        the reduction of the corpus due to your withdrawals.
      </p>

      <div class="text-sm lg:text-base text-black leading-relaxed space-y-4">
        <h3 class="text-lg font-semibold">
          Case 1: The Inflation-Adjusted Retirement (Mode 1)
        </h3>

        <p>
          Sunil retires with a corpus of
          <span class="font-semibold">₹2 Crores</span>. He begins by withdrawing
          <span class="font-semibold">₹1 Lakh per month</span>. While he expects
          an annual return of <span class="font-semibold">8%</span>, he
          understands that rising prices will impact his expenses, so he factors
          in an inflation rate of <span class="font-semibold">6%</span>.
        </p>

        <ul class="list-disc ml-6 space-y-1">
          <li>
            <span class="font-semibold">Initial Corpus:</span> ₹2,00,00,000
          </li>
          <li>
            <span class="font-semibold">Initial Monthly Withdrawal:</span>
            ₹1,00,000
          </li>
          <li><span class="font-semibold">Expected Return:</span> 8%</li>
          <li><span class="font-semibold">Inflation:</span> 6%</li>
          <li><span class="font-semibold">Time Period:</span> 25 years</li>
        </ul>

        <p>
          The calculator shows that since Sunil’s withdrawals increase every
          year to keep pace with inflation, his retirement corpus is depleted
          more aggressively than in a fixed withdrawal plan. This insight helps
          him realize that he may need a slightly higher starting corpus or a
          more balanced return strategy to sustain his retirement comfortably.
        </p>
      </div>

      <div
        class="text-sm lg:text-base text-black leading-relaxed space-y-4 mt-4"
      >
        <h3 class="text-lg font-semibold">
          Case 2: Planning Your “Freedom Number” (Mode 2)
        </h3>

        <p>
          Aditi wants to retire comfortably and needs a monthly income of
          <span class="font-semibold">₹1.5 Lakhs</span> in today’s value. She
          wants this income to last for
          <span class="font-semibold">30 years</span>. While she expects an
          annual return of <span class="font-semibold">9%</span>, she also wants
          her withdrawals to keep pace with an inflation rate of
          <span class="font-semibold">6%</span>.
        </p>

        <ul class="list-disc ml-6 space-y-1">
          <li>
            <span class="font-semibold">Target Monthly Withdrawal:</span>
            ₹1,50,000
          </li>
          <li><span class="font-semibold">Expected Return:</span> 9%</li>
          <li><span class="font-semibold">Inflation Rate:</span> 6%</li>
          <li><span class="font-semibold">Duration:</span> 30 years</li>
        </ul>

        <p>
          The calculator reveals that Aditi requires a retirement portfolio of
          approximately
          <span class="font-semibold">₹4.15 Crores</span> to sustain her desired
          lifestyle. Without factoring in inflation, she might have assumed that
          ₹2 Crores was sufficient, only to realize later that her purchasing
          power would be nearly halved by around year 12.
        </p>
      </div>

      <p class="mb-6">
        Below is an illustration of the year-on-year withdrawals and estimated
        balance corpus value:
      </p>

      <table class="w-full border border-gray-300 text-left mb-6 bg-white">
        <thead>
          <tr class="bg-white font-semibold">
            <th
              class="border border-gray-300 px-4 py-2 font-semibold rounded-tl-lg"
            >
              Year
            </th>
            <th class="border border-gray-300 px-4 py-2 font-semibold">
              Amount Withdrawn (₹)
            </th>
            <th
              class="border border-gray-300 px-4 py-2 font-semibold rounded-tr-lg"
            >
              Value of Balance Corpus (₹)
            </th>
          </tr>
        </thead>

        <tbody class="bg-white">
          <tr>
            <td class="border border-gray-300 px-4 py-2">1</td>
            <td class="border border-gray-300 px-4 py-2">7,20,000</td>
            <td class="border border-gray-300 px-4 py-2">97,08,000</td>
          </tr>
          <tr>
            <td class="border border-gray-300 px-4 py-2">2</td>
            <td class="border border-gray-300 px-4 py-2">7,20,000</td>
            <td class="border border-gray-300 px-4 py-2">94,38,720</td>
          </tr>
          <tr>
            <td class="border border-gray-300 px-4 py-2">3</td>
            <td class="border border-gray-300 px-4 py-2">7,20,000</td>
            <td class="border border-gray-300 px-4 py-2">91,90,205</td>
          </tr>
          <tr>
            <td class="border border-gray-300 px-4 py-2">4</td>
            <td class="border border-gray-300 px-4 py-2">7,20,000</td>
            <td class="border border-gray-300 px-4 py-2">89,60,324</td>
          </tr>
          <tr>
            <td class="border border-gray-300 px-4 py-2">5</td>
            <td class="border border-gray-300 px-4 py-2">7,20,000</td>
            <td class="border border-gray-300 px-4 py-2">87,47,661</td>
          </tr>
          <tr>
            <td class="border border-gray-300 px-4 py-2">6</td>
            <td class="border border-gray-300 px-4 py-2">7,20,000</td>
            <td class="border border-gray-300 px-4 py-2">85,50,712</td>
          </tr>
          <tr>
            <td class="border border-gray-300 px-4 py-2">7</td>
            <td class="border border-gray-300 px-4 py-2">7,20,000</td>
            <td class="border border-gray-300 px-4 py-2">83,68,914</td>
          </tr>
          <tr>
            <td class="border border-gray-300 px-4 py-2">8</td>
            <td class="border border-gray-300 px-4 py-2">7,20,000</td>
            <td class="border border-gray-300 px-4 py-2">81,99,741</td>
          </tr>
          <tr>
            <td class="border border-gray-300 px-4 py-2">9</td>
            <td class="border border-gray-300 px-4 py-2">7,20,000</td>
            <td class="border border-gray-300 px-4 py-2">80,42,692</td>
          </tr>
          <tr>
            <td class="border border-gray-300 px-4 py-2">10</td>
            <td class="border border-gray-300 px-4 py-2">7,20,000</td>
            <td class="border border-gray-300 px-4 py-2">78,96,276</td>
          </tr>

          <tr class="font-semibold">
            <td class="border border-gray-300 px-4 py-2">Total</td>
            <td class="border border-gray-300 px-4 py-2">₹72,00,000</td>
            <td class="border border-gray-300 px-4 py-2">₹78,96,276</td>
          </tr>
        </tbody>
      </table>

      <p>
        This case demonstrates how an SWP can provide a regular income while
        also preserving a significant portion of the principal.
      </p>
    </section>

    <!-- FAQ Section -->
    <section
      id="faq"
      class="mb-2 bg-transparent p-5 max-w-[1150px] mx-auto py-10 lg:py-24"
    >
      <div class="text-start mb-8">
        <h2 class="text-base font-semibold leading-tight text-black">
          Top 10 Commonly Asked Questions
        </h2>
      </div>

      <div
        class="bg-white text-black border border-gray-300 rounded-2xl divide-y divide-gray-200"
      >
        <!-- FAQ 1 -->
        <div class="faq-item">
          <button
            class="faq-question cursor-pointer w-full px-8 py-6 flex justify-between items-center text-left hover:bg-gray-50 transition-colors duration-200"
          >
            <span class="text-base font-medium text-black pr-4">
              What is an SWP?
            </span>
            <svg
              class="faq-icon w-6 h-6 text-gray-500 hover:text-gray-800 transform transition-transform duration-300 flex-shrink-0"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M5 12h14" />
              <path d="M12 5v14" />
            </svg>
          </button>
          <div
            class="faq-answer max-h-0 overflow-hidden transition-all duration-300 ease-in-out"
          >
            <div class="px-8 pb-6 text-gray-700 leading-relaxed text-sm">
              An SWP, or Systematic Withdrawal Plan, is a facility offered by
              mutual funds that allows investors to withdraw a fixed amount of
              money from their investment at a predetermined frequency, such as
              monthly, quarterly, or annually.
            </div>
          </div>
        </div>

        <!-- FAQ 2 -->
        <div class="faq-item">
          <button
            class="faq-question cursor-pointer w-full px-8 py-6 flex justify-between items-center text-left hover:bg-gray-50 transition-colors duration-200"
          >
            <span class="text-base font-medium text-black pr-4">
              Who should consider an SWP?
            </span>
            <svg
              class="faq-icon w-6 h-6 text-gray-500 hover:text-gray-800 transform transition-transform duration-300 flex-shrink-0"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M5 12h14" />
              <path d="M12 5v14" />
            </svg>
          </button>
          <div
            class="faq-answer max-h-0 overflow-hidden transition-all duration-300 ease-in-out"
          >
            <div class="px-8 pb-6 text-gray-700 leading-relaxed text-sm">
              SWPs are ideal for individuals who have an existing lumpsum
              investment and require a regular income stream. It is particularly
              popular among retirees, who use it to supplement or create a
              pension-like income from their retirement corpus.
            </div>
          </div>
        </div>

        <!-- FAQ 3 -->
        <div class="faq-item">
          <button
            class="faq-question cursor-pointer w-full px-8 py-6 flex justify-between items-center text-left hover:bg-gray-50 transition-colors duration-200"
          >
            <span class="text-base font-medium text-black pr-4">
              Which is better, SIP or SWP?
            </span>
            <svg
              class="faq-icon w-6 h-6 text-gray-500 hover:text-gray-800 transform transition-transform duration-300 flex-shrink-0"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M5 12h14" />
              <path d="M12 5v14" />
            </svg>
          </button>
          <div
            class="faq-answer max-h-0 overflow-hidden transition-all duration-300 ease-in-out"
          >
            <div class="px-8 pb-6 text-gray-700 leading-relaxed text-sm">
              Both are different products and both have a different purpose
              altogether. A SIP is a method of investing money regularly to
              build wealth. An SWP is a method of withdrawing money regularly
              from an already-built corpus. Think of a SIP as a savings tool and
              an SWP as an income-generating tool.
            </div>
          </div>
        </div>

        <!-- FAQ 4 -->
        <div class="faq-item">
          <button
            class="faq-question cursor-pointer w-full px-8 py-6 flex justify-between items-center text-left hover:bg-gray-50 transition-colors duration-200"
          >
            <span class="text-base font-medium text-black pr-4">
              What are the key advantages of SWP?
            </span>
            <svg
              class="faq-icon w-6 h-6 text-gray-500 hover:text-gray-800 transform transition-transform duration-300 flex-shrink-0"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M5 12h14" />
              <path d="M12 5v14" />
            </svg>
          </button>
          <div
            class="faq-answer max-h-0 overflow-hidden transition-all duration-300 ease-in-out"
          >
            <div class="px-8 pb-6 text-gray-700 leading-relaxed text-sm">
              Here are some key benefits of the systematic withdrawal plan
              (SWP). SWP provides regular income. It is a source of a steady
              stream of money, just like getting a regular payout or salary into
              your account. This helps handle routine expenses. SWPs are very
              flexible in that you can choose how much money you want to
              withdraw and how often will be the periodicity, based on your
              needs. Such amounts and periods can also be changed. SWPs can be
              more tax efficient as they have a return component (which is
              taxed) or a principal component (which is not taxed) or both. This
              can help you save money on taxes. There is also no lock-in period
              to worry about. The remaining corpus in your SWP continues to earn
              returns & therefore prolongs your SWP tenure.
            </div>
          </div>
        </div>

        <!-- FAQ 5 -->
        <div class="faq-item">
          <button
            class="faq-question cursor-pointer w-full px-8 py-6 flex justify-between items-center text-left hover:bg-gray-50 transition-colors duration-200"
          >
            <span class="text-base font-medium text-black pr-4">
              Is the SWP withdrawal amount taxed?
            </span>
            <svg
              class="faq-icon w-6 h-6 text-gray-500 hover:text-gray-800 transform transition-transform duration-300 flex-shrink-0"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M5 12h14" />
              <path d="M12 5v14" />
            </svg>
          </button>
          <div
            class="faq-answer max-h-0 overflow-hidden transition-all duration-300 ease-in-out"
          >
            <div class="px-8 pb-6 text-gray-700 leading-relaxed text-sm">
              Yes, the withdrawals are subject to capital gains tax. If the fund
              is an equity fund, withdrawals after one year are considered
              long-term capital gains, which are more tax-efficient than
              short-term gains. For debt funds, tax is based on your tax slab
              after three years.
            </div>
          </div>
        </div>

        <!-- FAQ 6 -->
        <div class="faq-item">
          <button
            class="faq-question cursor-pointer w-full px-8 py-6 flex justify-between items-center text-left hover:bg-gray-50 transition-colors duration-200"
          >
            <span class="text-base font-medium text-black pr-4">
              What are the Tax implications of systematic withdrawal plans
            </span>
            <svg
              class="faq-icon w-6 h-6 text-gray-500 hover:text-gray-800 transform transition-transform duration-300 flex-shrink-0"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M5 12h14" />
              <path d="M12 5v14" />
            </svg>
          </button>
          <div
            class="faq-answer max-h-0 overflow-hidden transition-all duration-300 ease-in-out"
          >
            <div class="px-8 pb-6 text-gray-700 leading-relaxed text-sm">
              SWP is treated as a redemption for taxation purposes. So,
              withdrawals are subject to capital gains tax. The tax structure is
              as follows: Equity funds: Withdrawal of units held for more than 1
              year: Taxed as long-term capital gains. LTCG of up to Rs. 1.25
              lakh is tax-exempt. Thereon, the tax rate is 12.5%. Units held for
              less than 1 year: Taxed as short-term capital gains, at a rate of
              20% with no exemptions. Debt funds: Deemed to be STCG and taxed as
              per the investor’s applicable income tax slab, regardless of the
              holding period.
            </div>
          </div>
        </div>

        <!-- FAQ 7 -->
        <div class="faq-item">
          <button
            class="faq-question cursor-pointer w-full px-8 py-6 flex justify-between items-center text-left hover:bg-gray-50 transition-colors duration-200"
          >
            <span class="text-base font-medium text-black pr-4">
              Can I stop or modify my SWP?
            </span>
            <svg
              class="faq-icon w-6 h-6 text-gray-500 hover:text-gray-800 transform transition-transform duration-300 flex-shrink-0"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M5 12h14" />
              <path d="M12 5v14" />
            </svg>
          </button>
          <div
            class="faq-answer max-h-0 overflow-hidden transition-all duration-300 ease-in-out"
          >
            <div class="px-8 pb-6 text-gray-700 leading-relaxed text-sm">
              Yes, you have full control over your SWP. You can stop or modify
              the withdrawal amount and frequency at any time by simply
              submitting a request to the mutual fund house.
            </div>
          </div>
        </div>

        <!-- FAQ 8 -->
        <div class="faq-item">
          <button
            class="faq-question cursor-pointer w-full px-8 py-6 flex justify-between items-center text-left hover:bg-gray-50 transition-colors duration-200"
          >
            <span class="text-base font-medium text-black pr-4">
              Is the calculated corpus guaranteed?
            </span>
            <svg
              class="faq-icon w-6 h-6 text-gray-500 hover:text-gray-800 transform transition-transform duration-300 flex-shrink-0"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M5 12h14" />
              <path d="M12 5v14" />
            </svg>
          </button>
          <div
            class="faq-answer max-h-0 overflow-hidden transition-all duration-300 ease-in-out"
          >
            <div class="px-8 pb-6 text-gray-700 leading-relaxed text-sm">
              No, the calculated values are estimates based on your provided
              inputs for the expected rate of return. Mutual fund investments
              are subject to market risks, and actual returns may vary. This
              calculator is a planning tool and should not be considered a
              guarantee of returns.
            </div>
          </div>
        </div>

        <!-- FAQ 9 -->
        <div class="faq-item">
          <button
            class="faq-question cursor-pointer w-full px-8 py-6 flex justify-between items-center text-left hover:bg-gray-50 transition-colors duration-200"
          >
            <span class="text-base font-medium text-black pr-4">
              What happens if the market falls?
            </span>
            <svg
              class="faq-icon w-6 h-6 text-gray-500 hover:text-gray-800 transform transition-transform duration-300 flex-shrink-0"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M5 12h14" />
              <path d="M12 5v14" />
            </svg>
          </button>
          <div
            class="faq-answer max-h-0 overflow-hidden transition-all duration-300 ease-in-out"
          >
            <div class="px-8 pb-6 text-gray-700 leading-relaxed text-sm">
              If the market falls, your withdrawals will still happen, but at a
              reduced Net Asset Value (NAV). This means you will have to sell
              more units of your fund to get the same withdrawal amount, which
              could deplete your corpus faster. For this reason, many investors
              prefer to have a buffer or a slightly lower withdrawal rate.
            </div>
          </div>
        </div>

        <!-- FAQ 10 -->
        <div class="faq-item">
          <button
            class="faq-question cursor-pointer w-full px-8 py-6 flex justify-between items-center text-left hover:bg-gray-50 transition-colors duration-200"
          >
            <span class="text-base font-medium text-black pr-4">
              Is SWP a good retirement strategy?
            </span>
            <svg
              class="faq-icon w-6 h-6 text-gray-500 hover:text-gray-800 transform transition-transform duration-300 flex-shrink-0"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M5 12h14" />
              <path d="M12 5v14" />
            </svg>
          </button>
          <div
            class="faq-answer max-h-0 overflow-hidden transition-all duration-300 ease-in-out"
          >
            <div class="px-8 pb-6 text-gray-700 leading-relaxed text-sm">
              Yes, SWP is a good retirement strategy as it allows you to draw
              regular income from your investments. Additionally, unlike
              dividends or interests, an SWP withdraws both returns & principle,
              making it more tax efficient as only the return portion is taxable
              and not the principle.
            </div>
          </div>
        </div>
      </div>
    </section>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const faqItems = document.querySelectorAll(".faq-item");

        faqItems.forEach((item) => {
          const question = item.querySelector(".faq-question");
          const answer = item.querySelector(".faq-answer");
          const icon = item.querySelector(".faq-icon");

          question.addEventListener("click", function () {
            const isOpen =
              answer.style.maxHeight && answer.style.maxHeight !== "0px";

            // Close all other FAQ items
            faqItems.forEach((otherItem) => {
              if (otherItem !== item) {
                const otherAnswer = otherItem.querySelector(".faq-answer");
                const otherIcon = otherItem.querySelector(".faq-icon");
                otherAnswer.style.maxHeight = "0px";
                otherIcon.style.transform = "rotate(0deg)";
              }
            });

            // Toggle current item
            if (isOpen) {
              answer.style.maxHeight = "0px";
              icon.style.transform = "rotate(0deg)";
            } else {
              answer.style.maxHeight = answer.scrollHeight + "px";
              icon.style.transform = "rotate(45deg)";
            }
          });
        });
      });
    </script>

    <section class="py-10 px-5 max-w-8xl mx-auto text-center">
      <h2 class="text-xl font-semibold mb-8 text-black">
        Explore More Popular Calculators
      </h2>

      <div class="grid grid-cols-1 lg:grid-cols-4 gap-2 lg:gap-6">
        <a
          href="./sip-calculator.html"
          class="inline-flex items-center justify-center bg-white text-black pl-5 pr-3 py-3.5 border border-gray-300 rounded-full text-sm gap-3 group transition hover:bg-[#161f48] hover:text-white hover:border-transparent"
        >
          <i
            data-lucide="calculator"
            class="w-5 h-5 text-black group-hover:text-white"
          ></i>
          SIP Calculator
        </a>

        <a
          href="./inflation-calculator.html"
          class="inline-flex items-center justify-center bg-white text-black px-5 py-3.5 border border-gray-300 rounded-full text-sm gap-3 group transition hover:bg-[#161f48] hover:text-white hover:border-transparent"
        >
          <i
            data-lucide="trending-up"
            class="w-5 h-5 text-black group-hover:text-white"
          ></i>
          Inflation Calculator
        </a>
        <a
          href="./lump-sump-calculator.html"
          class="inline-flex items-center justify-center bg-white text-black pl-5 pr-4 py-3.5 border border-gray-300 rounded-full text-sm gap-3 group transition hover:bg-[#161f48] hover:text-white hover:border-transparent"
        >
          <i
            data-lucide="percent"
            class="w-5 h-5 text-black group-hover:text-white"
          ></i>
          Lump Sump Calculator
        </a>
        <a
          href="./lumpsum+sip-calculator.html"
          class="inline-flex items-center justify-center bg-white text-black pl-5 pr-4 py-3.5 border border-gray-300 rounded-full text-sm gap-3 group transition hover:bg-[#161f48] hover:text-white hover:border-transparent"
        >
          <i
            data-lucide="merge"
            class="w-5 h-5 text-black group-hover:text-white"
          ></i>
          Lumpsum + SIP Calculator
        </a>
      </div>
    </section>

    <!-- FOOTER SECTION - Company information and links -->
    <!-- =================================================================== -->
    <footer class="w-full bg-[#161f48] border-t border-gray-200 mb-12 lg:mb-0">
      <!-- Middle Section -->
      <div
        class="max-w-7xl mx-auto px-6 py-12 grid grid-cols-1 md:grid-cols-3 gap-8 text-center md:text-left"
      >
        <!-- Left: Info -->
        <div class="space-y-4">
          <a
            href="https://www.google.com/maps/dir/?api=1&destination=15.4038977,74.0086659"
            target="_blank"
            rel="noopener"
            class="flex items-center justify-center md:justify-start gap-2 text-white"
          >
            <i data-lucide="map-pin" class="w-5 h-5 text-[#fcaf1b]"></i>
            <span>Our Office</span>
          </a>

          <a
            href="mailto:invest@chimulkar.com"
            class="flex items-center justify-center md:justify-start gap-2 text-white"
          >
            <i data-lucide="mail" class="w-5 h-5 text-[#fcaf1b]"></i>
            <span>invest@chimulkar.com</span>
          </a>

          <a
            href="tel:+918208031927"
            class="flex items-center justify-center md:justify-start gap-2 text-white"
          >
            <i data-lucide="phone" class="w-5 h-5 text-[#fcaf1b]"></i>
            <span>+91 82080 31927</span>
          </a>
        </div>

        <!-- Center: Logo -->
        <div class="flex items-center justify-center">
          <a href="/" aria-label="Go to Home">
            <img
              src="../assets/CFS TRANSPARENT.png"
              alt="Chimulkar Financial Services"
              class="w-40 h-auto"
            />
          </a>
        </div>

        <!-- Right: Reviews & Social -->
        <div class="flex flex-col items-center md:items-end space-y-4">
          <p class="text-white">© 2026 Chimulkar Financial Services</p>
          <p class="text-white">Follow us on</p>

          <div class="flex gap-4">
            <a
              href="https://www.instagram.com/chimulkarfinancialservices"
              target="_blank"
              rel="noopener noreferrer"
              aria-label="Instagram"
              class="bg-[#fcaf1b] rounded-full p-2 hover:bg-[#fcaf1b]/80 transition"
            >
              <i data-lucide="instagram" class="w-5 h-5 text-black"></i>
            </a>

            <a
              href="https://www.youtube.com/@ChimulkarFinancialServices"
              target="_blank"
              rel="noopener noreferrer"
              aria-label="YouTube"
              class="bg-[#fcaf1b] rounded-full p-2 hover:bg-[#fcaf1b]/80 transition"
            >
              <i data-lucide="youtube" class="w-5 h-5 text-black"></i>
            </a>
          </div>
        </div>
      </div>

      <!-- Bottom Bar -->
      <div class="bg-black text-gray-100 text-xs py-4">
        <div
          class="max-w-7xl mx-auto px-6 flex flex-col gap-4 md:flex-row md:items-center md:justify-between md:gap-6 text-center md:text-left"
        >
          <!-- Left -->
          <p class="text-gray-400">
            Designed by
            <a
              href="https://www.instagram.com/atc.work?igsh=NjZuY24wN3Bodjhr"
              target="_blank"
              rel="noopener noreferrer"
              class="text-white hover:underline"
            >
              ~All Things Creative
            </a>
          </p>

          <!-- Center Links -->
          <div class="flex flex-wrap justify-center gap-x-6 gap-y-2">
            <a href="../Regulatory-Disclosure.html" class="hover:underline">
              Disclosure
            </a>
            <a href="../Terms&Conditions.html" class="hover:underline">
              Terms & Conditions
            </a>
            <a href="../Privacy-policy.html" class="hover:underline">
              Privacy Policy
            </a>
            <a href="../sitemap.html" class="hover:underline"> Sitemap </a>
          </div>

          <!-- Right -->
          <p class="text-gray-400">
            Developed by
            <a
              href="https://imnirajdev.vercel.app/"
              target="_blank"
              rel="noopener noreferrer"
              class="text-white hover:underline"
            >
              ~Niraj Paswan
            </a>
          </p>
        </div>
      </div>
    </footer>
    <!-- Main calculator container with an ID for html2canvas -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <script>
      lucide.createIcons();
    </script>
    <script>
      // ===================================================================
      // MOBILE MENU FUNCTIONALITY
      // ===================================================================

      // Get mobile menu elements
      const mobileMenuToggle = document.getElementById("menuToggle");
      const mobileMenuClose = document.getElementById("closeMenu");
      const mobileMenuPanel = document.getElementById("mobileMenu");
      const mobileMenuBackdrop = document.getElementById("backdrop");

      // Open mobile menu function
      function openMobileMenu() {
        mobileMenuPanel.classList.remove("translate-x-full");
        mobileMenuBackdrop.classList.remove("hidden");
        setTimeout(() => mobileMenuBackdrop.classList.remove("opacity-0"), 10);
      }

      // Close mobile menu function
      function closeMobileMenu() {
        mobileMenuPanel.classList.add("translate-x-full");
        mobileMenuBackdrop.classList.add("opacity-0");
        setTimeout(() => mobileMenuBackdrop.classList.add("hidden"), 300);
      }

      // Event listeners for mobile menu
      mobileMenuToggle.addEventListener("click", openMobileMenu);
      mobileMenuClose.addEventListener("click", closeMobileMenu);
      mobileMenuBackdrop.addEventListener("click", closeMobileMenu);

      // ===================================================================
      // HERO VIDEO POPUP FUNCTIONALITY
      // ===================================================================

      // Get video popup elements
      const heroPlayButton = document.getElementById("openPopup");
      const heroCloseButton = document.getElementById("closePopup");
      const heroVideoPopup = document.getElementById("videoPopup");
      const heroYoutubeFrame = document.getElementById("youtubeFrame");
    </script>

    <script>
      let chart;
      let chart2;
      let isMonthlyMode = true;
      let inflationEnabled = false;

      let lastCalculatedResults = {
        initialInvestment: 0,
        totalWithdrawn: 0,
        finalBalance: 0,
        withdrawalAmount: 0,
        sustainability: "Sustainable",
      };

      let lastCalculatedResultsTab2 = {
        futureWithdrawalValue: 0,
        finalPortfolioValue: 0,
        requiredPortfolioValue: 0,
      };

      function initChart() {
        const ctx = document.getElementById("swpChart").getContext("2d");
        chart = new Chart(ctx, {
          type: "doughnut",
          data: {
            labels: ["Total Withdrawn", "Remaining Balance"],
            datasets: [
              {
                data: [1200000, 850000],
                backgroundColor: ["#d1d5db", "#161f48"],
                borderColor: "white",
                borderWidth: 2,
                cutout: "80%",
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: true,
            plugins: {
              legend: { display: false },
              tooltip: {
                enabled: true,
                callbacks: {
                  label: function (context) {
                    let label = context.label || "";
                    if (label) label += ": ";
                    if (context.parsed !== null)
                      label += formatCurrency(context.parsed);
                    return label;
                  },
                },
              },
            },
            animation: {
              animateRotate: true,
              duration: 800,
              easing: "easeOutQuart",
            },
          },
        });
      }

      function initChart2() {
        const ctx = document.getElementById("swpChart2").getContext("2d");
        chart2 = new Chart(ctx, {
          type: "doughnut",
          data: {
            labels: ["Total Withdrawn", "Final Portfolio Value"],
            datasets: [
              {
                data: [0, 0],
                backgroundColor: ["#d1d5db", "#161f48"],
                borderColor: "white",
                borderWidth: 2,
                cutout: "80%",
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: true,
            plugins: {
              legend: { display: false },
              tooltip: {
                enabled: true,
                callbacks: {
                  label: function (context) {
                    let label = context.label || "";
                    if (label) label += ": ";
                    if (context.parsed !== null)
                      label += formatCurrency(context.parsed);
                    return label;
                  },
                },
              },
            },
            animation: {
              animateRotate: true,
              duration: 800,
              easing: "easeOutQuart",
            },
          },
        });
      }

      function formatCurrency(amount) {
        if (amount >= 10000000) {
          return (
            "₹" + (amount / 10000000).toFixed(2).replace(".", ".") + " Crores"
          );
        } else if (amount >= 100000) {
          return (
            "₹" + (amount / 100000).toFixed(2).replace(".", ".") + " Lakhs"
          );
        } else if (amount >= 1000) {
          return (
            "₹" + (amount / 1000).toFixed(2).replace(".", ".") + " Thousand"
          );
        } else {
          return "₹" + Math.round(amount).toLocaleString("en-IN");
        }
      }

      function formatNumberWithIndianCommas(num) {
        if (isNaN(num) || num === null) return "";
        return Number(num).toLocaleString("en-IN", {
          maximumFractionDigits: 0,
        });
      }

      function parseIndianFormattedNumber(str) {
        if (!str) return 0;
        return parseFloat(str.replace(/[^0-9.]/g, ""));
      }

      function calculateSWP() {
        const initialInvestment = parseIndianFormattedNumber(
          document.getElementById("investmentInput").value,
        );
        const withdrawalAmount = parseIndianFormattedNumber(
          document.getElementById("withdrawalInput").value,
        );
        const annualReturn = parseFloat(
          document.getElementById("returnInput").value,
        );
        const years = parseInt(document.getElementById("timeInput").value);
        const inflationRate = parseFloat(
          document.getElementById("inflationInput").value,
        );
        const monthlyReturn = annualReturn / 100 / 12;
        const totalMonths = years * 12;
        let currentBalance = initialInvestment;
        let totalWithdrawn = 0;
        let monthlyWithdrawal = isMonthlyMode
          ? withdrawalAmount
          : withdrawalAmount / 12;

        if (inflationEnabled) {
          const monthlyInflation = inflationRate / 100 / 12;
          for (let month = 1; month <= totalMonths; month++) {
            if (currentBalance <= 0) break;
            currentBalance = currentBalance * (1 + monthlyReturn);
            const inflationAdjustedWithdrawal =
              monthlyWithdrawal * Math.pow(1 + monthlyInflation, month - 1);
            if (currentBalance >= inflationAdjustedWithdrawal) {
              currentBalance -= inflationAdjustedWithdrawal;
              totalWithdrawn += inflationAdjustedWithdrawal;
            } else {
              totalWithdrawn += currentBalance;
              currentBalance = 0;
              break;
            }
          }
        } else {
          for (let month = 1; month <= totalMonths; month++) {
            if (currentBalance <= 0) break;
            currentBalance = currentBalance * (1 + monthlyReturn);
            if (currentBalance >= monthlyWithdrawal) {
              currentBalance -= monthlyWithdrawal;
              totalWithdrawn += monthlyWithdrawal;
            } else {
              totalWithdrawn += currentBalance;
              currentBalance = 0;
              break;
            }
          }
        }

        const finalBalance = Math.max(0, currentBalance);
        const sustainability =
          finalBalance > 0 ? "Sustainable" : "Not Sustainable";

        lastCalculatedResults = {
          initialInvestment,
          totalWithdrawn,
          finalBalance,
          withdrawalAmount: isMonthlyMode ? withdrawalAmount : withdrawalAmount,
          sustainability,
        };

        updateResults();
      }

      function updateResults() {
        const results = lastCalculatedResults;
        document.getElementById("initialInvestmentResult").textContent =
          formatCurrency(results.initialInvestment);
        document.getElementById("totalWithdrawn").textContent = formatCurrency(
          results.totalWithdrawn,
        );
        document.getElementById("finalBalance").textContent = formatCurrency(
          results.finalBalance,
        );
        document.getElementById("finalBalanceCenter").textContent =
          formatCurrency(results.finalBalance);
        document.getElementById("withdrawalAmount").textContent =
          formatCurrency(results.withdrawalAmount);

        chart.data.datasets[0].data = [
          results.totalWithdrawn,
          results.finalBalance,
        ];
        chart.update("none");
      }

      function calculateMonthlyWithdrawal() {
        const monthlyWithdrawalToday = parseIndianFormattedNumber(
          document.getElementById("monthlyWithdrawInput").value,
        );
        const yearsToStart = parseInt(
          document.getElementById("startYearsInput").value,
        );
        const inflationRate = parseFloat(
          document.getElementById("inflationRateInput").value,
        );
        const yearsOfWithdrawal = parseInt(
          document.getElementById("withdrawYearsInput").value,
        );
        const growthRate = parseFloat(
          document.getElementById("growthRateInput").value,
        );
        const hasCorpus = document.getElementById("corpusToggle").checked;
        const corpusAmount = hasCorpus
          ? parseIndianFormattedNumber(
              document.getElementById("corpusAmountInput").value,
            )
          : 0;

        // Calculate future value of monthly withdrawal at start of SWP
        const monthlyInflation = inflationRate / 100 / 12;
        let monthlyWithdrawalFutureValue = monthlyWithdrawalToday;

        for (let i = 0; i < yearsToStart * 12; i++) {
          monthlyWithdrawalFutureValue *= 1 + monthlyInflation;
        }

        // Calculate portfolio needed for withdrawals only
        const monthlyGrowthRate = growthRate / 100 / 12;
        let portfolioForWithdrawals = 0;

        for (let month = 1; month <= yearsOfWithdrawal * 12; month++) {
          const withdrawalAtMonth =
            monthlyWithdrawalFutureValue *
            Math.pow(1 + monthlyInflation, month - 1);
          const discountFactor = 1 / Math.pow(1 + monthlyGrowthRate, month);
          portfolioForWithdrawals += withdrawalAtMonth * discountFactor;
        }

        // Calculate present value of corpus at START of SWP period
        // The corpus amount represents what you want LEFT at the END
        // So we discount it back to find how much to set aside NOW
        let presentValueOfCorpus = 0;
        if (hasCorpus) {
          const totalWithdrawalMonths = yearsOfWithdrawal * 12;
          presentValueOfCorpus =
            corpusAmount /
            Math.pow(1 + monthlyGrowthRate, totalWithdrawalMonths);
        }

        // Total required portfolio = withdrawals + present value of corpus
        const requiredPortfolio =
          portfolioForWithdrawals + presentValueOfCorpus;

        // Simulate actual portfolio after all withdrawals
        let portfolioAfterWithdrawal = requiredPortfolio;

        for (let month = 1; month <= yearsOfWithdrawal * 12; month++) {
          // Portfolio grows monthly
          portfolioAfterWithdrawal *= 1 + monthlyGrowthRate;
          // Subtract inflation-adjusted monthly withdrawal
          const monthlyWithdrawal =
            monthlyWithdrawalFutureValue *
            Math.pow(1 + monthlyInflation, month - 1);
          portfolioAfterWithdrawal -= monthlyWithdrawal;
        }

        // Calculate total withdrawn amount
        let totalWithdrawnAmount = 0;
        for (let month = 1; month <= yearsOfWithdrawal * 12; month++) {
          totalWithdrawnAmount +=
            monthlyWithdrawalFutureValue *
            Math.pow(1 + monthlyInflation, month - 1);
        }

        // Save results
        lastCalculatedResultsTab2 = {
          futureWithdrawalValue: totalWithdrawnAmount,
          finalPortfolioValue: Math.max(0, portfolioAfterWithdrawal),
          requiredPortfolioValue: requiredPortfolio,
        };

        updateResultsTab2();
      }

      function updateResultsTab2() {
        const results = lastCalculatedResultsTab2;
        const yearsOfWithdrawal = parseInt(
          document.getElementById("withdrawYearsInput").value,
        );

        document.getElementById("futureWithdrawalValue").textContent =
          formatCurrency(results.futureWithdrawalValue);
        document.getElementById("finalPortfolioValue").textContent =
          formatCurrency(results.finalPortfolioValue);
        document.getElementById("requiredPortfolioValue").textContent =
          formatCurrency(results.requiredPortfolioValue);
        document.getElementById("requiredPortfolioCenter").textContent =
          formatCurrency(results.requiredPortfolioValue);

        // Update year labels dynamically
        document.getElementById("yearsLabel1").textContent = yearsOfWithdrawal;
        document.getElementById("yearsLabel2").textContent = yearsOfWithdrawal;

        if (chart2) {
          chart2.data.datasets[0].data = [
            results.futureWithdrawalValue,
            results.finalPortfolioValue,
          ];
          chart2.update("none");
        }
      }
      function toggleMode(monthlyMode) {
        isMonthlyMode = monthlyMode;
        const monthlyBtn = document.getElementById("monthlyModeBtn");
        const yearlyBtn = document.getElementById("yearlyModeBtn");
        const portfolioTab = document.getElementById("portfolioTab");
        const withdrawalTab = document.getElementById("withdrawalTab");

        if (monthlyMode) {
          monthlyBtn.classList.add("bg-white", "text-gray-800", "shadow-sm");
          monthlyBtn.classList.remove("text-gray-600", "hover:bg-gray-200");
          yearlyBtn.classList.remove("bg-white", "text-gray-800", "shadow-sm");
          yearlyBtn.classList.add("text-gray-600", "hover:bg-gray-200");
          portfolioTab.classList.remove("hidden");
          withdrawalTab.classList.add("hidden");
          calculateSWP();
        } else {
          yearlyBtn.classList.add("bg-white", "text-gray-800", "shadow-sm");
          yearlyBtn.classList.remove("text-gray-600", "hover:bg-gray-200");
          monthlyBtn.classList.remove("bg-white", "text-gray-800", "shadow-sm");
          monthlyBtn.classList.add("text-gray-600", "hover:bg-gray-200");
          portfolioTab.classList.add("hidden");
          withdrawalTab.classList.remove("hidden");
          calculateMonthlyWithdrawal();
        }
      }

      function toggleInflation() {
        inflationEnabled = document.getElementById("inflationToggle").checked;
        const inflationRateSection = document.getElementById(
          "inflationRateSection",
        );
        inflationRateSection.style.display = inflationEnabled
          ? "block"
          : "none";
        calculateSWP();
      }

      function toggleCorpus() {
        const hasCorpus = document.getElementById("corpusToggle").checked;
        const corpusAmountSection = document.getElementById(
          "corpusAmountSection",
        );
        corpusAmountSection.style.display = hasCorpus ? "block" : "none";
        calculateMonthlyWithdrawal();
      }

      function setupEventListeners() {
        document
          .getElementById("monthlyModeBtn")
          .addEventListener("click", () => toggleMode(true));
        document
          .getElementById("yearlyModeBtn")
          .addEventListener("click", () => toggleMode(false));
        document
          .getElementById("inflationToggle")
          .addEventListener("change", toggleInflation);
        document
          .getElementById("corpusToggle")
          .addEventListener("change", toggleCorpus);

        // Modal handlers
        const openBtn = document.getElementById("openDisclaimer");
        const openBtn2 = document.getElementById("openDisclaimer2");
        const closeBtn = document.getElementById("closeDisclaimer");
        const modal = document.getElementById("disclaimerModal");
        const modalContent = document.getElementById("modalContent");

        [openBtn, openBtn2].forEach((btn) => {
          btn.addEventListener("click", () => {
            modal.classList.remove("hidden");
            setTimeout(() => {
              modal.classList.add("opacity-100");
              modalContent.classList.remove("scale-95");
              modalContent.classList.add("scale-100");
            }, 10);
          });
        });

        const closeModal = () => {
          modalContent.classList.remove("scale-100");
          modalContent.classList.add("scale-95");
          modal.classList.remove("opacity-100");
          setTimeout(() => {
            modal.classList.add("hidden");
          }, 300);
        };

        closeBtn.addEventListener("click", closeModal);
        modal.addEventListener("click", (e) => {
          if (e.target === modal) closeModal();
        });

        // Tab 1 inputs
        const inputs1 = [
          {
            id: "investment",
            slider: "investmentSlider",
            input: "investmentInput",
          },
          {
            id: "withdrawal",
            slider: "withdrawalSlider",
            input: "withdrawalInput",
          },
          { id: "return", slider: "returnSlider", input: "returnInput" },
          { id: "time", slider: "timeSlider", input: "timeInput" },
          {
            id: "inflation",
            slider: "inflationSlider",
            input: "inflationInput",
          },
        ];

        inputs1.forEach((item) => {
          const slider = document.getElementById(item.slider);
          const input = document.getElementById(item.input);

          if (item.id === "investment" || item.id === "withdrawal") {
            input.addEventListener("input", function () {
              let parsedValue = parseIndianFormattedNumber(this.value);
              slider.value = parsedValue;
              this.value = formatNumberWithIndianCommas(parsedValue);
              calculateSWP();
            });

            slider.addEventListener("input", function () {
              input.value = formatNumberWithIndianCommas(
                parseFloat(this.value),
              );
              calculateSWP();
            });
          } else {
            input.addEventListener("input", function () {
              slider.value = this.value;
              calculateSWP();
            });

            slider.addEventListener("input", function () {
              input.value = this.value;
              calculateSWP();
            });
          }
        });

        // Tab 2 inputs
        const inputs2 = [
          {
            id: "monthlyWithdraw",
            slider: "monthlyWithdrawSlider",
            input: "monthlyWithdrawInput",
          },
          {
            id: "startYears",
            slider: "startYearsSlider",
            input: "startYearsInput",
          },
          {
            id: "inflationRate",
            slider: "inflationRateSlider",
            input: "inflationRateInput",
          },
          {
            id: "withdrawYears",
            slider: "withdrawYearsSlider",
            input: "withdrawYearsInput",
          },
          {
            id: "growthRate",
            slider: "growthRateSlider",
            input: "growthRateInput",
          },
          {
            id: "corpusAmount",
            slider: "corpusAmountSlider",
            input: "corpusAmountInput",
          },
        ];

        inputs2.forEach((item) => {
          const slider = document.getElementById(item.slider);
          const input = document.getElementById(item.input);

          if (item.id === "monthlyWithdraw" || item.id === "corpusAmount") {
            input.addEventListener("input", function () {
              let parsedValue = parseIndianFormattedNumber(this.value);
              slider.value = parsedValue;
              this.value = formatNumberWithIndianCommas(parsedValue);
              calculateMonthlyWithdrawal();
            });

            slider.addEventListener("input", function () {
              input.value = formatNumberWithIndianCommas(
                parseFloat(this.value),
              );
              calculateMonthlyWithdrawal();
            });
          } else {
            input.addEventListener("input", function () {
              slider.value = this.value;
              calculateMonthlyWithdrawal();
            });

            slider.addEventListener("input", function () {
              input.value = this.value;
              calculateMonthlyWithdrawal();
            });
          }
        });

        // Action buttons
        document
          .getElementById("emailPlanBtn")
          .addEventListener("click", sendEmailPlan);
        document
          .getElementById("whatsappBtn")
          .addEventListener("click", sendWhatsAppPlan);
        document
          .getElementById("downloadImageBtn")
          .addEventListener("click", downloadCalculatorImage);
      }

      function sendEmailPlan() {
        const subject = encodeURIComponent("My SWP Calculator Plan");
        let body = `Hello,\n\nHere is my SWP calculation plan:\n\n`;

        if (isMonthlyMode) {
          body += `Mode: Portfolio Value\n\n`;
          body += `Initial Portfolio: ${formatCurrency(lastCalculatedResults.initialInvestment)}\n`;
          body += `Monthly Withdrawal: ${formatCurrency(lastCalculatedResults.withdrawalAmount)}\n`;
          body += `Total Withdrawn: ${formatCurrency(lastCalculatedResults.totalWithdrawn)}\n`;
          body += `Final Balance: ${formatCurrency(lastCalculatedResults.finalBalance)}\n`;
        } else {
          body += `Mode: Monthly Withdrawal\n\n`;
          body += `Monthly Withdrawal (Today): ${formatCurrency(parseIndianFormattedNumber(document.getElementById("monthlyWithdrawInput").value))}\n`;
          body += `Years to Start Withdrawal: ${document.getElementById("startYearsInput").value}\n`;
          body += `Duration of Withdrawal: ${document.getElementById("withdrawYearsInput").value} years\n`;
          body += `Expected Inflation: ${document.getElementById("inflationRateInput").value}%\n`;
          body += `Portfolio Growth Rate: ${document.getElementById("growthRateInput").value}%\n`;

          const hasCorpus = document.getElementById("corpusToggle").checked;
          if (hasCorpus) {
            const corpusAmount = parseIndianFormattedNumber(
              document.getElementById("corpusAmountInput").value,
            );
            body += `Leave Behind Corpus: Yes\n`;
            body += `Corpus Amount: ${formatCurrency(corpusAmount)}\n`;
          } else {
            body += `Leave Behind Corpus: No\n`;
          }

          body += `\nResults:\n`;
          body += `Future Withdrawal Value: ${document.getElementById("futureWithdrawalValue").textContent}\n`;
          body += `Final Portfolio Value: ${document.getElementById("finalPortfolioValue").textContent}\n`;
          body += `Required Portfolio: ${document.getElementById("requiredPortfolioValue").textContent}\n`;
        }

        body += `\n\ncalculated using Chimulkar Financial Services SWP Calculator.\n`;
        body += `Calculate yours now at ${window.location.href}`;

        window.location.href = `mailto:?subject=${subject}&body=${encodeURIComponent(body)}`;
      }

      function sendWhatsAppPlan() {
        let message = `My SWP Calculation Plan:\n\n`;
        message += `Mode: *${isMonthlyMode ? "Portfolio Value" : "Monthly Withdrawal"}*\n\n`;

        if (isMonthlyMode) {
          message += `Initial Portfolio: *${formatCurrency(lastCalculatedResults.initialInvestment)}*\n`;
          message += `Monthly Withdrawal: *${formatCurrency(lastCalculatedResults.withdrawalAmount)}*\n`;
          message += `Total Withdrawn: *${formatCurrency(lastCalculatedResults.totalWithdrawn)}*\n`;
          message += `Final Balance: *${formatCurrency(lastCalculatedResults.finalBalance)}*\n`;
        } else {
          message += `Monthly Withdrawal (Today): *${formatCurrency(parseIndianFormattedNumber(document.getElementById("monthlyWithdrawInput").value))}*\n`;
          message += `Years to Start: *${document.getElementById("startYearsInput").value}*\n`;
          message += `Duration: *${document.getElementById("withdrawYearsInput").value} years*\n`;
          message += `Inflation Rate: *${document.getElementById("inflationRateInput").value}%*\n`;
          message += `Growth Rate: *${document.getElementById("growthRateInput").value}%*\n`;

          const hasCorpus = document.getElementById("corpusToggle").checked;
          if (hasCorpus) {
            const corpusAmount = parseIndianFormattedNumber(
              document.getElementById("corpusAmountInput").value,
            );
            message += `Leave Behind Corpus: *Yes*\n`;
            message += `Corpus Amount: *${formatCurrency(corpusAmount)}*\n`;
          } else {
            message += `Leave Behind Corpus: *No*\n`;
          }

          message += `\nResults:\n`;
          message += `Future Withdrawal Value: *${document.getElementById("futureWithdrawalValue").textContent}*\n`;
          message += `Final Portfolio Value: *${document.getElementById("finalPortfolioValue").textContent}*\n`;
          message += `Required Portfolio: *${document.getElementById("requiredPortfolioValue").textContent}*\n`;
        }

        message += `\n\ncalculated using Chimulkar Financial Services SWP Calculator.\n`;
        message += `Calculate yours now at ${window.location.href}`;

        window.open(
          `https://wa.me/?text=${encodeURIComponent(message)}`,
          "_blank",
        );
      }

      function downloadCalculatorImage() {
        const calculatorElement = document.getElementById(
          "calculatorContainer",
        );
        html2canvas(calculatorElement, {
          scale: 2,
          useCORS: true,
          logging: false,
        })
          .then((canvas) => {
            const link = document.createElement("a");
            link.download = "swp_calculator_plan.png";
            link.href = canvas.toDataURL("image/png");
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
          })
          .catch((error) => {
            console.error("Error capturing calculator image:", error);
            alert("Failed to capture image. Please try again.");
          });
      }

      window.addEventListener("load", function () {
        initChart();
        initChart2();
        setupEventListeners();
        calculateSWP();
        calculateMonthlyWithdrawal();
      });
    </script>
  </body>
</html>
